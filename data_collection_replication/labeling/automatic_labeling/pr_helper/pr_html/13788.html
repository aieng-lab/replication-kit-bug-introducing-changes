<!DOCTYPE html>
<!-- saved from url=(0051)https://github.com/elastic/elasticsearch/pull/13788 -->
<html lang="en" data-color-mode="dark" data-light-theme="light" data-dark-theme="dark" data-a11y-animated-images="system" data-a11y-link-underlines="true" data-lt-installed="true" data-turbo-loaded=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style type="text/css">.turbo-progress-bar {
  position: fixed;
  display: block;
  top: 0;
  left: 0;
  height: 3px;
  background: #0076ff;
  z-index: 2147483647;
  transition:
    width 300ms ease-out,
    opacity 150ms 150ms ease-in;
  transform: translate3d(0, 0, 0);
}
</style>
    
  <link rel="dns-prefetch" href="https://github.githubassets.com/">
  <link rel="dns-prefetch" href="https://avatars.githubusercontent.com/">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com/">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">
  <link rel="preconnect" href="https://github.githubassets.com/" crossorigin="">
  <link rel="preconnect" href="https://avatars.githubusercontent.com/">

  

  <link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/dark-6b1e37da2254.css"><link data-color-theme="light" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light-efd2f2257c96.css"><link data-color-theme="dark_dimmed" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_dimmed-aa16bfa90fb8.css"><link data-color-theme="dark_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_high_contrast-f4daad25d8cf.css"><link data-color-theme="dark_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_colorblind-a4629b2e906b.css"><link data-color-theme="light_colorblind" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_colorblind-afcc3a6a38dd.css"><link data-color-theme="light_high_contrast" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_high_contrast-79bca7145393.css"><link data-color-theme="light_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/light_tritanopia-fe4137b54b26.css"><link data-color-theme="dark_tritanopia" crossorigin="anonymous" media="all" rel="stylesheet" data-href="https://github.githubassets.com/assets/dark_tritanopia-1911f0cf0db4.css">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/primer-primitives-8500c2c7ce5f.css">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/primer-38e58d71ea15.css">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/global-336d1b0e39b4.css">
    <link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/github-7efbde34ce37.css">
  <link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/repository-a7f555d78ff9.css">
<link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/pull-requests-941036103c3d.css">

  


  <script type="application/json" id="client-env">{"locale":"en","featureFlags":["code_vulnerability_scanning","copilot_beta_features_opt_in","copilot_chat_static_thread_suggestions","copilot_conversational_ux_history_refs","copilot_followup_to_agent","copilot_implicit_context","copilot_smell_icebreaker_ux","custom_inp","experimentation_azure_variant_endpoint","failbot_handle_non_errors","filter_prefetch_suggestions","geojson_azure_maps","ghost_pilot_percent_width","ghost_pilot_vnext","hovercard_accessibility","hovercard_longer_activate_timeout","issues_react_is_read","marketing_pages_search_explore_provider","remove_child_patch","repository_suggester_elastic_search","sample_network_conn_type","turbo_experiment_risky"]}</script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/wp-runtime-e85e27ff2646.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_dompurify_dist_purify_js-89a69c248502.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_oddbird_popover-polyfill_dist_popover_js-56729.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_index_js-node_module.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/environment-bcaf5ff1a8f7.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_selector-observer_dist_index_esm_js-f69.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_behaviors_dist_esm_focus-zone_js-c9086a.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_text-expander-element_dist_index_js-cd4.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_auto-complete-element_dist_index_js-nod.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_index_js-node_(1).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_filter-input-element_dist_index_js-node.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_catalyst_lib_index_js-node_modules_gith.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_file-attachment-element_dist_index_js-n.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_onfocus_ts-ui_packages_trusted-types-poli.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/github-elements-e6f565a27adb.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/element-registry-9da6d8274856.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_catalyst_lib_index_js-node_module(1).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_braintree_browser-detection_dist_browser-detec.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_lit-html_lit-html_js-ce7225a304c5.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_index_js-node_(2).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js-858e043f.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_remote-form_dist_index_js-node_modules_.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_scroll-anchoring_dist_scroll-anchoring_esm_js-.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_color-convert_index_js-0e07cc183eed.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_behaviors_dist_esm_dimensions_js-node_m.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_session-resume_dist_index_js-node_modul.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_quote-selection_dist_index_js-node_modu.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/ui_packages_updatable-content_updatable-content_ts-cd36524126e2.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_behaviors_task-list_ts-app_assets_modules.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_sticky-scroll-into-view_ts-78ce1c8782f5.j.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_behaviors_ajax-error_ts-app_assets_module.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_behaviors_commenting_edit_ts-app_assets_m.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_blob-anchor_ts-app_assets_modules_github_.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/behaviors-7b81a2402db7.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_delegated-events_dist_index_js-node_modules_gi.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/notifications-global-957ece5a6535.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_virtualized-list_es_index_js-node_modules_gith.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_remote-form_dist_index_js-node_mo(1).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_ref-selector_ts-754e509608bc.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/codespaces-acaafede38e4.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_remote-form_dist_index_js-node_mo(2).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_decorators_js-node_m.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_diffs_blob-lines_ts-app_assets_modules_gi.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/diffs-f36d16a2316d.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_index_js-node_(3).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_behaviors_details_ts-app_assets_modules_g.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/scanning-fa9aa140d333.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_index_js-node_(4).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/app_assets_modules_github_repositories_get-repo-element_ts-48feb572.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/code-menu-ca7752c753eb.js.download"></script>
  

  <title>Query refactoring: split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic/elasticsearch</title>



  <meta name="route-pattern" content="/_view_fragments/voltron/pull_requests/show/:user_id/:repository/:id/pull_request_layout(.:format)" data-turbo-transient="">
  <meta name="route-controller" content="voltron_pull_requests_fragments" data-turbo-transient="">
  <meta name="route-action" content="pull_request_layout" data-turbo-transient="">

    
  <meta name="current-catalog-service-hash" content="ae870bc5e265a340912cde392f23dad3671a0a881730ffdadd82f2f57d81641b">


  <meta name="request-id" content="D9AA:1D828:34D6AF7:35DE167:66AA22B1" data-turbo-transient="true"><meta name="html-safe-nonce" content="9878ec98288ade7bf246a85e46e2cdc48e4cb388544b1e2d5908398a9ea42ec8" data-turbo-transient="true"><meta name="visitor-payload" content="eyJyZWZlcnJlciI6bnVsbCwicmVxdWVzdF9pZCI6IkQ5QUE6MUQ4Mjg6MzRENkFGNzozNURFMTY3OjY2QUEyMkIxIiwidmlzaXRvcl9pZCI6IjczNzE3MjY2Njk5MTYyMTM2NDEiLCJyZWdpb25fZWRnZSI6ImZyYSIsInJlZ2lvbl9yZW5kZXIiOiJpYWQifQ==" data-turbo-transient="true"><meta name="visitor-hmac" content="43f9fe702453fd9bd91455fc76d94fb1af05e875d80ed552109805c142cd838f" data-turbo-transient="true">


    <meta name="hovercard-subject-tag" content="pull_request:46006908" data-turbo-transient="">


  <meta name="github-keyboard-shortcuts" content="repository,pull-request-list,pull-request-conversation,pull-request-files-changed,copilot" data-turbo-transient="true">
  

  <meta name="selected-link" value="repo_pulls" data-turbo-transient="">
  <link rel="assets" href="https://github.githubassets.com/">

    <meta name="google-site-verification" content="Apib7-x98H0j5cPqHWwSMm6dNU4GmODRoqxLiDzdx9I">

<meta name="octolytics-url" content="https://collector.github.com/github/collect"><meta name="octolytics-actor-id" content="35693391"><meta name="octolytics-actor-login" content="l-schulte"><meta name="octolytics-actor-hash" content="fa21713234214701641c08da04667bd38c8f4e579af332eed4b2a2d91f1472c8">

  <meta name="analytics-location" content="/&lt;user-name&gt;/&lt;repo-name&gt;/voltron/pull_requests_fragments/pull_request_layout" data-turbo-transient="true">

  




    <meta name="user-login" content="l-schulte">

  <link rel="sudo-modal" href="https://github.com/sessions/sudo_modal">

    <meta name="viewport" content="width=device-width">

    

      <meta name="description" content="This PR includes the work that was done in the query-refactoring branch in the last few months. All queries were refactored to split the current parse phase into tho phases:

fromXContent that returns an intermediate elasticsearch object which can be streamed over the wire
toQuery that converts the intermediate elasticsearch object into the corresponding lucene query

The first phase can be moved to the coordinating node, while the second phase will stay on the data node.
All queries have been refactored, plus lots of tests have been added for each query. Once this is merged we can start using this new infra and effectively move the parse phase to the coordinating node as the next step.
For all the detailed changes, see pull requests labelled with the :Query Refactoring label.
Relates to #10217.">

      <link rel="search" type="application/opensearchdescription+xml" href="https://github.com/opensearch.xml" title="GitHub">

    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <meta property="fb:app_id" content="1401488693436528">
    <meta name="apple-itunes-app" content="app-id=1477376905, app-argument=https://github.com/_view_fragments/voltron/pull_requests/show/elastic/elasticsearch/13788/pull_request_layout">

      <meta name="twitter:image:src" content="https://opengraph.githubassets.com/88bbc14567a1125bf2a6db4f83d9f90d4dba871994bbcd5dc65fbf0171bc2519/elastic/elasticsearch/pull/13788"><meta name="twitter:site" content="@github"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="Query refactoring: split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic/elasticsearch"><meta name="twitter:description" content="This PR includes the work that was done in the query-refactoring branch in the last few months. All queries were refactored to split the current parse phase into tho phases:

fromXContent that retu...">
  <meta property="og:image" content="https://opengraph.githubassets.com/88bbc14567a1125bf2a6db4f83d9f90d4dba871994bbcd5dc65fbf0171bc2519/elastic/elasticsearch/pull/13788"><meta property="og:image:alt" content="This PR includes the work that was done in the query-refactoring branch in the last few months. All queries were refactored to split the current parse phase into tho phases:

fromXContent that retu..."><meta property="og:image:width" content="1200"><meta property="og:image:height" content="600"><meta property="og:site_name" content="GitHub"><meta property="og:type" content="object"><meta property="og:title" content="Query refactoring: split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic/elasticsearch"><meta property="og:url" content="https://github.com/elastic/elasticsearch/pull/13788"><meta property="og:description" content="This PR includes the work that was done in the query-refactoring branch in the last few months. All queries were refactored to split the current parse phase into tho phases:

fromXContent that retu..."><meta property="og:author:username" content="javanna">
  


      <link rel="shared-web-socket" href="wss://alive.github.com/_sockets/u/35693391/ws?session=eyJ2IjoiVjMiLCJ1IjozNTY5MzM5MSwicyI6MTI4NTk3NTM2MiwiYyI6NDA5NTEyODkxNiwidCI6MTcyMjQyNjAzM30=--a7fae9145e46c2c39247ad46a1ca1231d009d34d811bfda85f5762bc587879c3" data-refresh-url="/_alive" data-session-id="d029945e4bc61dfa42a299f7220dd720cf40715a46bdd04d18757c1249033320">
      <link rel="shared-web-socket-src" href="https://github.com/assets-cdn/worker/socket-worker-1a9b1a7a6108.js">


      <meta name="hostname" content="github.com">


      <meta name="keyboard-shortcuts-preference" content="all">
      <meta name="hovercards-preference" content="true">

        <meta name="expected-hostname" content="github.com">


  <meta http-equiv="x-pjax-version" content="c4a5b1b9aa17c77aec86142e442dd24da8b5eb00ff99ad90648821366bae875c" data-turbo-track="reload">
  <meta http-equiv="x-pjax-csp-version" content="479d0e4f25e10adc648c4dd302ffd147aa5c2b606f0c5424f6f6f0f4511e5753" data-turbo-track="reload">
  <meta http-equiv="x-pjax-css-version" content="c1ada978f3c1464c846fca3a428d19b4939379e674e7a81bcd2789123cb67e0f" data-turbo-track="reload">
  <meta http-equiv="x-pjax-js-version" content="ab340f2569ae5e67911afacc0aa6285a0d0de014b2328d82d850c72fff397d68" data-turbo-track="reload">

  <meta name="turbo-cache-control" content="no-preview" data-turbo-transient="">

      <meta name="voltron-timing" value="1023">
  <meta name="go-import" content="github.com/elastic/elasticsearch git https://github.com/elastic/elasticsearch.git">

  <meta name="octolytics-dimension-user_id" content="6764390"><meta name="octolytics-dimension-user_login" content="elastic"><meta name="octolytics-dimension-repository_id" content="507775"><meta name="octolytics-dimension-repository_nwo" content="elastic/elasticsearch"><meta name="octolytics-dimension-repository_public" content="true"><meta name="octolytics-dimension-repository_is_fork" content="false"><meta name="octolytics-dimension-repository_network_root_id" content="507775"><meta name="octolytics-dimension-repository_network_root_nwo" content="elastic/elasticsearch">



    

    <meta name="turbo-body-classes" content="logged-in env-production page-responsive">


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://github.githubassets.com/assets/pinned-octocat-093da3e6fa40.svg" color="#000000">
  <link rel="alternate icon" class="js-site-favicon" type="image/png" href="https://github.githubassets.com/favicons/favicon-dark.png">
  <link rel="icon" class="js-site-favicon" type="image/svg+xml" href="https://github.githubassets.com/favicons/favicon-dark.svg">

<meta name="theme-color" content="#1e2327">
<meta name="color-scheme" content="dark light">


  <link rel="manifest" href="https://github.com/manifest.json" crossorigin="use-credentials">

  <style id="ms-consent-banner-main-styles">.w8hcgFksdo30C8w-bygqu{color:#000}.ydkKdaztSS0AeHWIeIHsQ a{color:#0067B8}.erL690_8JwUW-R4bJRcfl{background-color:#EBEBEB;border:none;color:#000}.erL690_8JwUW-R4bJRcfl:enabled:hover{color:#000;background-color:#DBDBDB;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:none}.erL690_8JwUW-R4bJRcfl:enabled:focus{background-color:#DBDBDB;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:2px solid #000}.erL690_8JwUW-R4bJRcfl:disabled{opacity:1;color:rgba(0,0,0,0.2);background-color:rgba(0,0,0,0.2);border:none}._1zNQOqxpBFSokeCLGi_hGr{border:none;background-color:#0067B8;color:#fff}._1zNQOqxpBFSokeCLGi_hGr:enabled:hover{color:#fff;background-color:#0067B8;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:none}._1zNQOqxpBFSokeCLGi_hGr:enabled:focus{background-color:#0067B8;box-shadow:0px 4px 10px rgba(0,0,0,0.25);border:2px solid #000}._1zNQOqxpBFSokeCLGi_hGr:disabled{opacity:1;color:rgba(0,0,0,0.2);background-color:rgba(0,120,215,0.2);border:none}._23tra1HsiiP6cT-Cka-ycB{position:relative;display:flex;z-index:9999;width:100%;background-color:#F2F2F2;justify-content:space-between;text-align:left}div[dir="rtl"]._23tra1HsiiP6cT-Cka-ycB{text-align:right}._1Upc2NjY8AlDn177YoVj0y{margin:0;padding-left:5%;padding-top:8px;padding-bottom:8px}div[dir="rtl"] ._1Upc2NjY8AlDn177YoVj0y{margin:0;padding:8px 5% 8px 0;float:none}._23tra1HsiiP6cT-Cka-ycB svg{fill:none;max-width:none;max-height:none}._1V_hlU-7jdtPiooHMu89BB{display:table-cell;padding:12px;width:24px;height:24px;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:24px;line-height:0}.f6QKJD7fhSbnJLarTL-W-{display:table-cell;vertical-align:middle;padding:0;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:13px;line-height:16px}.f6QKJD7fhSbnJLarTL-W- a{text-decoration:underline}._2j0fmugLb1FgYz6KPuB91w{display:inline-block;margin-left:5%;margin-right:5%;min-width:40%;min-width:calc((150px + 3 * 4px) * 2 + 150px);min-width:-webkit-fit-content;min-width:-moz-fit-content;min-width:fit-content;align-self:center;position:relative}._1XuCi2WhiqeWRUVp3pnFG3{margin:4px;padding:5px;min-width:150px;min-height:36px;vertical-align:top;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-align:center}._1XuCi2WhiqeWRUVp3pnFG3:focus{box-sizing:border-box}._1XuCi2WhiqeWRUVp3pnFG3:disabled{cursor:not-allowed}._2bvsb3ubApyZ0UGoQA9O9T{display:block;position:fixed;z-index:10000;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,0.6);overflow:auto;text-align:left}div[dir="rtl"]._2bvsb3ubApyZ0UGoQA9O9T{text-align:right}div[dir="rtl"] ._2bvsb3ubApyZ0UGoQA9O9T{left:auto;right:0}.AFsJE948muYyzCMktdzuk{position:relative;top:8%;margin-bottom:40px;margin-left:auto;margin-right:auto;box-sizing:border-box;width:640px;background-color:#fff;border:1px solid #0067B8}._3kWyBRbW_dgnMiEyx06Fu4{float:right;z-index:1;margin:2px;padding:12px;border:none;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:13px;line-height:13px;display:flex;align-items:center;text-align:center;color:#666;background-color:#fff}div[dir="rtl"] ._3kWyBRbW_dgnMiEyx06Fu4{margin:2px;padding:12px;float:left}.uCYvKvHXrhjNgflv1VqdD{position:static;margin-top:36px;margin-left:36px;margin-right:36px}._17pX1m9O_W--iZbDt3Ta5r{margin-top:0;margin-bottom:12px;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:600;font-size:20px;line-height:24px;text-transform:none}._1kBkHQ1V1wu3kl-YcLgUr6{height:446px;overflow:auto}._20_nXDf6uFs9Q6wxRXG-I-{margin-top:0;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px}._20_nXDf6uFs9Q6wxRXG-I- a{text-decoration:underline}dl._2a0NH_GDQEQe5Ynfo7suVH{margin-top:36px;margin-bottom:0;padding:0;list-style:none;text-transform:none}dt._3j_LCPv7fyXv3A8FIXVwZ4{margin-top:20px;float:none;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:24px;list-style:none}.k-vxTGFbdq1aOZB2HHpjh{margin:0;padding:0;border:none}._2Bucyy75c_ogoU1g-liB5R{margin:0;padding:0;border-bottom:none;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:600;font-size:18px;line-height:24px;text-transform:none}._63gwfzV8dclrsl2cfd90r{display:inline-block;margin-top:0;margin-bottom:13px;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px}._1l8wM_4mRYGz3Iu7l3BZR7{display:block}._2UE03QS02aZGkslegN_F-i{display:inline-block;position:relative;left:5px;margin-bottom:13px;margin-right:34px;padding:3px}div[dir="rtl"] ._2UE03QS02aZGkslegN_F-i{margin:0 0 13px 34px;padding:3px;float:none}div[dir="rtl"] ._2UE03QS02aZGkslegN_F-i{left:auto;right:5px}._23tra1HsiiP6cT-Cka-ycB *::before,._2bvsb3ubApyZ0UGoQA9O9T *::before,._23tra1HsiiP6cT-Cka-ycB *::after,._2bvsb3ubApyZ0UGoQA9O9T *::after{box-sizing:inherit}._1HSFn0HzGo6w4ADApV8-c4{outline:2px solid rgba(0,0,0,0.8)}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2{display:inline-block;position:relative;margin-top:0;margin-left:0;margin-right:0;height:0;width:0;border-radius:0;cursor:pointer;outline:none;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2+label::before{display:block;position:absolute;top:5px;left:3px;height:19px;width:19px;content:"";border-radius:50%;border:1px solid #000;background-color:#fff}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2+label::before{left:auto;right:3px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:hover::before{border:1px solid #0067B8}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:hover::after{display:block;position:absolute;top:10px;left:8px;height:9px;width:9px;content:"";border-radius:50%;background-color:rgba(0,0,0,0.8)}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:hover::after{left:auto;right:8px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:focus::before{border:1px solid #0067B8}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:focus::after{display:block;position:absolute;top:10px;left:8px;height:9px;width:9px;content:"";border-radius:50%;background-color:#000}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:not(:disabled)+label:focus::after{left:auto;right:8px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:checked+label::after{display:block;position:absolute;top:10px;left:8px;height:9px;width:9px;content:"";border-radius:50%;background-color:#000}div[dir="rtl"] input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:checked+label::after{left:auto;right:8px}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:disabled+label{cursor:not-allowed}input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:disabled+label::before{border:1px solid rgba(0,0,0,0.2);background-color:rgba(0,0,0,0.2)}._3RJzeL3l9Rl_lAQEm6VwdX{display:block;position:static;float:right;margin-top:0;margin-bottom:0;margin-left:19px;margin-right:0;padding-top:0;padding-bottom:0;padding-left:8px;padding-right:0;width:80%;width:calc(100% - 19px);font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-transform:none;cursor:pointer;box-sizing:border-box}div[dir="rtl"] ._3RJzeL3l9Rl_lAQEm6VwdX{margin:0 19px 0 0;padding:0 8px 0 0;float:left}.nohp3sIG12ZBhzcMnPala{margin-top:20px;margin-bottom:48px}._2uhaEsmeotZ3P-M0AXo2kF{padding:0;width:278px;height:36px;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-align:center}._2uhaEsmeotZ3P-M0AXo2kF:focus{box-sizing:border-box}._2uhaEsmeotZ3P-M0AXo2kF:disabled{cursor:not-allowed}._3tOu1FJ59c_xz_PmI1lKV5{float:right;padding:0;width:278px;height:36px;cursor:pointer;font-family:Segoe UI, SegoeUI, Arial, sans-serif;font-style:normal;font-weight:normal;font-size:15px;line-height:20px;text-align:center}._3tOu1FJ59c_xz_PmI1lKV5:focus{box-sizing:border-box}._3tOu1FJ59c_xz_PmI1lKV5:disabled{cursor:not-allowed}div[dir="rtl"] ._3tOu1FJ59c_xz_PmI1lKV5{margin:0;padding:0;float:left}@media only screen and (max-width: 768px){._2j0fmugLb1FgYz6KPuB91w,._1Upc2NjY8AlDn177YoVj0y{padding-top:8px;padding-bottom:12px;padding-left:3.75%;padding-right:3.75%;margin:0;width:92.5%}._23tra1HsiiP6cT-Cka-ycB{display:block}._1XuCi2WhiqeWRUVp3pnFG3{margin-bottom:8px;margin-left:0;margin-right:0;width:100%}._2bvsb3ubApyZ0UGoQA9O9T{overflow:hidden}.AFsJE948muYyzCMktdzuk{top:1.8%;width:93.33%;height:96.4%;overflow:hidden}.uCYvKvHXrhjNgflv1VqdD{margin-top:24px;margin-left:24px;margin-right:24px;height:100%}._1kBkHQ1V1wu3kl-YcLgUr6{height:62%;height:calc(100% - 188px);min-height:50%}._2uhaEsmeotZ3P-M0AXo2kF{width:100%}._3tOu1FJ59c_xz_PmI1lKV5{margin-bottom:12px;margin-left:0;width:100%}div[dir="rtl"] ._3tOu1FJ59c_xz_PmI1lKV5{margin:0 0 12px 0;padding:0;float:none}}@media only screen and (max-width: 768px) and (orientation: landscape), only screen and (max-height: 260px), only screen and (max-width: 340px){.AFsJE948muYyzCMktdzuk{overflow:auto}}@media only screen and (max-height: 260px), only screen and (max-width: 340px){._1XuCi2WhiqeWRUVp3pnFG3{min-width:0}._3kWyBRbW_dgnMiEyx06Fu4{padding:3%}.uCYvKvHXrhjNgflv1VqdD{margin-top:3%;margin-left:3%;margin-right:3%}._17pX1m9O_W--iZbDt3Ta5r{margin-bottom:3%}._1kBkHQ1V1wu3kl-YcLgUr6{height:calc(79% - 64px)}.nohp3sIG12ZBhzcMnPala{margin-top:5%;margin-bottom:10%}._3tOu1FJ59c_xz_PmI1lKV5{margin-bottom:3%}div[dir="rtl"] ._3tOu1FJ59c_xz_PmI1lKV5{margin:0 0 3% 0;padding:0;float:none}}
</style><style type="text/css" id="ms-consent-banner-theme-styles">._23tra1HsiiP6cT-Cka-ycB {
            background-color: #24292f !important;
        }.w8hcgFksdo30C8w-bygqu {
            color: #ffffff !important;
        }.ydkKdaztSS0AeHWIeIHsQ a {
            color: #d8b9ff !important;
        }._2bvsb3ubApyZ0UGoQA9O9T {
            background-color: rgba(23, 23, 23, 0.8) !important;
        }.AFsJE948muYyzCMktdzuk {
            background-color: #24292f !important;
            border: 1px solid #d8b9ff !important;
        }._3kWyBRbW_dgnMiEyx06Fu4 {
            color: #d8b9ff !important;
            background-color: #24292f !important;
        }._1zNQOqxpBFSokeCLGi_hGr {
            border: 1px solid #ffffff !important;
            background-color: #ffffff !important;
            color: #1f2328 !important;
        }._1zNQOqxpBFSokeCLGi_hGr:enabled:hover {
            color: #1f2328 !important;
            background-color: #d8b9ff !important;
            box-shadow: none !important;
            border: 1px solid transparent !important;
        }._1zNQOqxpBFSokeCLGi_hGr:enabled:focus {
            background-color: #d8b9ff !important;
            box-shadow: none !important;
            border: 2px solid #ffffff !important;
        }._1zNQOqxpBFSokeCLGi_hGr:disabled {
            opacity: 0.5 !important;
            color: #1f2328 !important;
            background-color: #ffffff !important;
            border: 1px solid transparent !important;
        }.erL690_8JwUW-R4bJRcfl {
            border: 1px solid #eaeef2 !important;
            background-color: #32383f !important;
            color: #ffffff !important;
        }.erL690_8JwUW-R4bJRcfl:enabled:hover {
            color: #ffffff !important;
            background-color: #24292f !important;
            box-shadow: none !important;
            border: 1px solid #ffffff !important;
        }.erL690_8JwUW-R4bJRcfl:enabled:focus {
            background-color: #24292f !important;
            box-shadow: none !important;
            border: 2px solid #6e7781 !important;
        }.erL690_8JwUW-R4bJRcfl:disabled {
            opacity: 0.5 !important;
            color: #ffffff !important;
            background-color: #424a53 !important;
            border: 1px solid #6e7781 !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label::before {
            border: 1px solid #d8b9ff !important;
            background-color: #24292f !important;
        }._1HSFn0HzGo6w4ADApV8-c4 {
            outline: 2px solid #ffffff !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:checked + label::after {
            background-color: #d8b9ff !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:hover::before {
            border: 1px solid #ffffff !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:hover::after {
            background-color: #ffffff !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:focus::before {
            border: 1px solid #ffffff !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2 + label:focus::after {
            background-color: #d8b9ff !important;
        }input[type="radio"]._1dp8Vp5m3HwAqGx8qBmFV2:disabled + label::before {
            border: 1px solid rgba(227, 227, 227, 0.2) !important;
            background-color: rgba(227, 227, 227, 0.2) !important;
        }</style><style id="highlight-mengshou-style">
    .highlight-mengshou-wrap {
        background: #ff9;
        cursor: pointer;
    }
    .highlight-mengshou-wrap.active {
        background: #ffb;
    }
</style></head>

  <body class="logged-in env-production page-responsive" style="overflow-wrap: break-word; --dialog-scrollgutter: 17px;">
    <div data-turbo-body="" class="logged-in env-production page-responsive" style="word-wrap: break-word;">
      


    <div class="position-relative js-header-wrapper ">
      <a href="https://github.com/elastic/elasticsearch/pull/13788#start-of-content" data-skip-target-assigned="false" class="p-3 color-bg-accent-emphasis color-fg-on-emphasis show-on-focus js-skip-to-content">Skip to content</a>

      <span data-view-component="true" class="progress-pjax-loader Progress position-fixed width-full">
    <span style="width: 0%;" data-view-component="true" class="Progress-item progress-pjax-loader-bar left-0 top-0 color-bg-accent-emphasis"></span>
</span>      
      
      <script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/react-lib-7b7b5264f6c1.js.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_github_mini-throttle_dist_index_js-node_(5).download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_Box_Box_js-55a9038b54f0.j.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_Button_Button_js-e151c171.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_TooltipV2_Tooltip_js-ffca.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_clsx_dist_clsx_m_js-node_modules_primer_react_.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_ActionList_index_js-1567f.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_Dialog_Dialog_js-node_mod.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/ui_packages_react-core_create-browser-history_ts-ui_packages_safe-s.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/keyboard-shortcuts-dialog-5aab2ec84f1a.js.download"></script>

<react-partial partial-name="keyboard-shortcuts-dialog" data-ssr="false" data-catalyst="" class="loaded">
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"docsUrl":"https://docs.github.com/get-started/accessibility/keyboard-shortcuts"}}</script>
  <div data-target="react-partial.reactRoot"><script type="application/json" id="__PRIMER_DATA_:r0:__">{"resolvedServerColorMode":"night"}</script></div>
</react-partial>




      

          

              <header class="AppHeader" role="banner">
  <h2 class="sr-only">Navigation Menu</h2>

    

    <div class="AppHeader-globalBar pb-2 js-global-bar">
      <div class="AppHeader-globalBar-start">
          <deferred-side-panel data-url="/_side-panels/global" data-catalyst="">
  <include-fragment data-target="deferred-side-panel.fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
      <button aria-label="Open global navigation menu" data-action="click:deferred-side-panel#loadPanel click:deferred-side-panel#panelOpened" data-show-dialog-id="dialog-1459f682-3412-4101-b9fe-804a2552d2e8" id="dialog-show-dialog-1459f682-3412-4101-b9fe-804a2552d2e8" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-bg-transparent p-0 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-three-bars Button-visual">
    <path d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75ZM1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Z"></path>
</svg>
</button>

<dialog-helper>
  <dialog data-target="deferred-side-panel.panel" id="dialog-1459f682-3412-4101-b9fe-804a2552d2e8" aria-modal="true" aria-labelledby="dialog-1459f682-3412-4101-b9fe-804a2552d2e8-title" aria-describedby="dialog-1459f682-3412-4101-b9fe-804a2552d2e8-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade Overlay--placement-left SidePanel">
    <div styles="flex-direction: row;" data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="dialog-1459f682-3412-4101-b9fe-804a2552d2e8-title">
        Global navigation
      </h1>
            <div data-view-component="true" class="d-flex">
      <div data-view-component="true" class="AppHeader-logo position-relative">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
</div></div>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="dialog-1459f682-3412-4101-b9fe-804a2552d2e8" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="dialog-1459f682-3412-4101-b9fe-804a2552d2e8-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body d-flex flex-column px-2">    <div data-view-component="true" class="d-flex flex-column mb-3">
        <nav aria-label="Site navigation" data-view-component="true" class="ActionList">
  
  <nav-list data-catalyst="">
    <ul data-target="nav-list.topLevelList" data-view-component="true" class="ActionListWrap">
        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g d" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;HOME&quot;,&quot;label&quot;:null}" id="item-082df89e-f927-4105-a96e-724cae6d7a5e" href="https://github.com/dashboard" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-home">
    <path d="M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Home
</span></a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES&quot;,&quot;label&quot;:null}" id="item-10a81266-e9ea-4071-b5fb-4a1fb5090062" href="https://github.com/issues" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span></a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS&quot;,&quot;label&quot;:null}" id="item-ce77ab3c-1256-42f3-a480-726da1d4a222" href="https://github.com/pulls" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span></a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PROJECTS&quot;,&quot;label&quot;:null}" id="item-3ea66cb3-d6d8-4d20-9aec-e65df18f30ba" href="https://github.com/projects" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span></a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;DISCUSSIONS&quot;,&quot;label&quot;:null}" id="item-327c392e-228a-40e3-aaa7-6672e825183e" href="https://github.com/discussions" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Discussions
</span></a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;CODESPACES&quot;,&quot;label&quot;:null}" id="item-d7bcd719-9883-432d-bdde-90768f930e6e" href="https://github.com/codespaces" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-codespaces">
    <path d="M0 11.25c0-.966.784-1.75 1.75-1.75h12.5c.966 0 1.75.784 1.75 1.75v3A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm2-9.5C2 .784 2.784 0 3.75 0h8.5C13.216 0 14 .784 14 1.75v5a1.75 1.75 0 0 1-1.75 1.75h-8.5A1.75 1.75 0 0 1 2 6.75Zm1.75-.25a.25.25 0 0 0-.25.25v5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-5a.25.25 0 0 0-.25-.25Zm-2 9.5a.25.25 0 0 0-.25.25v3c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25v-3a.25.25 0 0 0-.25-.25Z"></path><path d="M7 12.75a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Zm-4 0a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Codespaces
</span></a>
  
</li>

        
          <li role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;EXPLORE&quot;,&quot;label&quot;:null}" id="item-77f5239b-eb1e-459a-a2c3-b6d1f58ae4fb" href="https://github.com/explore" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-telescope">
    <path d="M14.184 1.143v-.001l1.422 2.464a1.75 1.75 0 0 1-.757 2.451L3.104 11.713a1.75 1.75 0 0 1-2.275-.702l-.447-.775a1.75 1.75 0 0 1 .53-2.32L11.682.573a1.748 1.748 0 0 1 2.502.57Zm-4.709 9.32h-.001l2.644 3.863a.75.75 0 1 1-1.238.848l-1.881-2.75v2.826a.75.75 0 0 1-1.5 0v-2.826l-1.881 2.75a.75.75 0 1 1-1.238-.848l2.049-2.992a.746.746 0 0 1 .293-.253l1.809-.87a.749.749 0 0 1 .944.252ZM9.436 3.92h-.001l-4.97 3.39.942 1.63 5.42-2.61Zm3.091-2.108h.001l-1.85 1.26 1.505 2.605 2.016-.97a.247.247 0 0 0 .13-.151.247.247 0 0 0-.022-.199l-1.422-2.464a.253.253 0 0 0-.161-.119.254.254 0 0 0-.197.038ZM1.756 9.157a.25.25 0 0 0-.075.33l.447.775a.25.25 0 0 0 .325.1l1.598-.769-.83-1.436-1.465 1Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Explore
</span></a>
  
</li>

        
          
<li data-item-id="" data-targets="nav-list.items" data-view-component="true" class="ActionListItem">
    
    
    <a data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;MARKETPLACE&quot;,&quot;label&quot;:null}" id="item-17f51a46-ee36-45d6-8aba-d867c40a63da" href="https://github.com/marketplace" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-gift">
    <path d="M2 2.75A2.75 2.75 0 0 1 4.75 0c.983 0 1.873.42 2.57 1.232.268.318.497.668.68 1.042.183-.375.411-.725.68-1.044C9.376.42 10.266 0 11.25 0a2.75 2.75 0 0 1 2.45 4h.55c.966 0 1.75.784 1.75 1.75v2c0 .698-.409 1.301-1 1.582v4.918A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25V9.332C.409 9.05 0 8.448 0 7.75v-2C0 4.784.784 4 1.75 4h.55c-.192-.375-.3-.8-.3-1.25ZM7.25 9.5H2.5v4.75c0 .138.112.25.25.25h4.5Zm1.5 0v5h4.5a.25.25 0 0 0 .25-.25V9.5Zm0-4V8h5.5a.25.25 0 0 0 .25-.25v-2a.25.25 0 0 0-.25-.25Zm-7 0a.25.25 0 0 0-.25.25v2c0 .138.112.25.25.25h5.5V5.5h-5.5Zm3-4a1.25 1.25 0 0 0 0 2.5h2.309c-.233-.818-.542-1.401-.878-1.793-.43-.502-.915-.707-1.431-.707ZM8.941 4h2.309a1.25 1.25 0 0 0 0-2.5c-.516 0-1 .205-1.43.707-.337.392-.646.975-.879 1.793Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Marketplace
</span></a>
  
</li>

</ul>  </nav-list>
</nav>

        <div data-view-component="true" class="my-3 d-flex flex-justify-center height-full">
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>  <span class="sr-only">Loading</span>

</div>
</div>
      <div data-view-component="true" class="flex-1"></div>


      <div data-view-component="true" class="px-2">      <p class="color-fg-subtle text-small text-light">© 2024 GitHub, Inc.</p>

      <div data-view-component="true" class="d-flex flex-wrap text-small text-light">
          <a target="_blank" href="https://github.com/about" data-view-component="true" class="Link mr-2">About</a>
          <a target="_blank" href="https://github.blog/" data-view-component="true" class="Link mr-2">Blog</a>
          <a target="_blank" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link mr-2">Terms</a>
          <a target="_blank" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link mr-2">Privacy</a>
          <a target="_blank" href="https://github.com/security" data-view-component="true" class="Link mr-2">Security</a>
          <a target="_blank" href="https://www.githubstatus.com/" data-view-component="true" class="Link mr-3">Status</a>

</div></div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

  </include-fragment>
</deferred-side-panel>

        <a class="AppHeader-logo ml-2" href="https://github.com/" data-hotkey="g d" aria-label="Homepage " data-turbo="false" data-analytics-event="{&quot;category&quot;:&quot;Header&quot;,&quot;action&quot;:&quot;go to dashboard&quot;,&quot;label&quot;:&quot;icon:logo&quot;}">
          <svg height="32" aria-hidden="true" viewBox="0 0 24 24" version="1.1" width="32" data-view-component="true" class="octicon octicon-mark-github v-align-middle color-fg-default">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
        </a>

          <div class="AppHeader-context">
  <div class="AppHeader-context-compact">
      <button aria-expanded="false" aria-haspopup="dialog" aria-label="Page context: elastic / elasticsearch" id="dialog-show-context-region-dialog" data-show-dialog-id="context-region-dialog" type="button" data-view-component="true" class="AppHeader-context-compact-trigger Truncate Button--secondary Button--medium Button box-shadow-none">  <span class="Button-content">
    <span class="Button-label"><span class="AppHeader-context-compact-lead">
                <span class="AppHeader-context-compact-parentItem">elastic</span>
                <span class="no-wrap">&nbsp;/</span>

            </span>

            <strong class="AppHeader-context-compact-mainItem d-flex flex-items-center Truncate">
  <span class="Truncate-text ">elasticsearch</span>

</strong></span>
  </span>
</button>

<dialog-helper>
  <dialog id="context-region-dialog" aria-modal="true" aria-labelledby="context-region-dialog-title" aria-describedby="context-region-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="context-region-dialog-title">
        Navigate back to
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="context-region-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="context-region-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <ul role="list" class="list-style-none">
    <li>
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;elastic&quot;,&quot;screen_size&quot;:&quot;compact&quot;}" href="https://github.com/elastic" data-view-component="true" class="Link--primary Truncate d-flex flex-items-center py-1">
        <span class="AppHeader-context-item-label Truncate-text ">
            <svg aria-hidden="true" height="12" viewBox="0 0 16 16" version="1.1" width="12" data-view-component="true" class="octicon octicon-organization mr-1">
    <path d="M1.75 16A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0h8.5C11.216 0 12 .784 12 1.75v12.5c0 .085-.006.168-.018.25h2.268a.25.25 0 0 0 .25-.25V8.285a.25.25 0 0 0-.111-.208l-1.055-.703a.749.749 0 1 1 .832-1.248l1.055.703c.487.325.779.871.779 1.456v5.965A1.75 1.75 0 0 1 14.25 16h-3.5a.766.766 0 0 1-.197-.026c-.099.017-.2.026-.303.026h-3a.75.75 0 0 1-.75-.75V14h-1v1.25a.75.75 0 0 1-.75.75Zm-.25-1.75c0 .138.112.25.25.25H4v-1.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 .75.75v1.25h2.25a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25ZM3.75 6h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 3.75A.75.75 0 0 1 3.75 3h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 3.75Zm4 3A.75.75 0 0 1 7.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 7 6.75ZM7.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM3 9.75A.75.75 0 0 1 3.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 3 9.75ZM7.75 9h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5Z"></path>
</svg>

          elastic
        </span>

</a>
    </li>
    <li>
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;elasticsearch&quot;,&quot;screen_size&quot;:&quot;compact&quot;}" href="https://github.com/elastic/elasticsearch" data-view-component="true" class="Link--primary Truncate d-flex flex-items-center py-1">
        <span class="AppHeader-context-item-label Truncate-text ">
            <svg aria-hidden="true" height="12" viewBox="0 0 16 16" version="1.1" width="12" data-view-component="true" class="octicon octicon-repo mr-1">
    <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
</svg>

          elasticsearch
        </span>

</a>
    </li>
</ul>

</div>
      </scrollable-region>
      
</dialog></dialog-helper>
  </div>

  <div class="AppHeader-context-full">
    <nav role="navigation" aria-label="Page context">
      <ul role="list" class="list-style-none">
    <li>
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;elastic&quot;,&quot;screen_size&quot;:&quot;full&quot;}" data-hovercard-type="organization" data-hovercard-url="/orgs/elastic/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/elastic" data-view-component="true" class="AppHeader-context-item">
        <span class="AppHeader-context-item-label  ">

          elastic
        </span>

</a>
        <span class="AppHeader-context-item-separator">/</span>
    </li>
    <li>
      <a data-analytics-event="{&quot;category&quot;:&quot;SiteHeaderComponent&quot;,&quot;action&quot;:&quot;context_region_crumb&quot;,&quot;label&quot;:&quot;elasticsearch&quot;,&quot;screen_size&quot;:&quot;full&quot;}" href="https://github.com/elastic/elasticsearch" data-view-component="true" class="AppHeader-context-item">
        <span class="AppHeader-context-item-label  ">

          elasticsearch
        </span>

</a>
    </li>
</ul>

    </nav>
  </div>
</div>

      </div>
      <div class="AppHeader-globalBar-end">
          <div class="AppHeader-search">
              


<qbsearch-input class="search-input" data-scope="repo:elastic/elasticsearch" data-custom-scopes-path="/search/custom_scopes" data-delete-custom-scopes-csrf="sQ0kHht0dbceBgL_3DClj_QJDr0oTsj5G9jEaILDz7wH21Ihn2E2zPl_wyb72S1hrxlPA4DH3Vo55P9xSj3yxQ" data-max-custom-scopes="10" data-header-redesign-enabled="true" data-initial-value="" data-blackbird-suggestions-path="/search/suggestions" data-jump-to-suggestions-path="/_graphql/GetSuggestedNavigationDestinations" data-current-repository="elastic/elasticsearch" data-current-org="elastic" data-current-owner="" data-logged-in="true" data-copilot-chat-enabled="false" data-nl-search-enabled="false" data-catalyst="">
  <div class="search-input-container search-with-dialog position-relative d-flex flex-row flex-items-center height-auto color-bg-transparent border-0 color-fg-subtle mx-0" data-action="click:qbsearch-input#searchInputContainerClicked">
      
            <button type="button" data-action="click:qbsearch-input#handleExpand" class="AppHeader-button AppHeader-search-whenNarrow" aria-label="Search or jump to…" aria-expanded="false" aria-haspopup="dialog">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </button>


<div class="AppHeader-search-whenRegular">
  <div class="AppHeader-search-wrap AppHeader-search-wrap--hasTrailing">
    <div class="AppHeader-search-control">
      <label for="AppHeader-searchInput" aria-label="Search or jump to…" class="AppHeader-search-visual--leading">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
      </label>

                <button type="button" data-target="qbsearch-input.inputButton" data-action="click:qbsearch-input#handleExpand" class="AppHeader-searchButton form-control input-contrast text-left color-fg-subtle no-wrap placeholder" data-hotkey="s,/" data-analytics-event="{&quot;location&quot;:&quot;navbar&quot;,&quot;action&quot;:&quot;searchbar&quot;,&quot;context&quot;:&quot;global&quot;,&quot;tag&quot;:&quot;input&quot;,&quot;label&quot;:&quot;searchbar_input_global_navbar&quot;}" aria-describedby="search-error-message-flash">
            <div class="overflow-hidden">
              <span id="qb-input-query" data-target="qbsearch-input.inputButtonText">
                  Type <kbd class="AppHeader-search-kbd">/</kbd> to search
              </span>
            </div>
          </button>

    </div>


  </div>
</div>

    <input type="hidden" name="type" class="js-site-search-type-field">

    
<div class="Overlay--hidden " data-modal-dialog-overlay="">
  <modal-dialog data-action="close:qbsearch-input#handleClose cancel:qbsearch-input#handleClose" data-target="qbsearch-input.searchSuggestionsDialog" role="dialog" id="search-suggestions-dialog" aria-modal="true" aria-labelledby="search-suggestions-dialog-header" data-view-component="true" class="Overlay Overlay--width-medium Overlay--height-auto">
      <h1 id="search-suggestions-dialog-header" class="sr-only">Search code, repositories, users, issues, pull requests...</h1>
    <div class="Overlay-body Overlay-body--paddingNone">
      
          <div data-view-component="true">        <div class="search-suggestions position-absolute width-full color-shadow-large border color-fg-default color-bg-default overflow-hidden d-flex flex-column query-builder-container" style="border-radius: 12px;" data-target="qbsearch-input.queryBuilderContainer" hidden="">
          <!-- '"` --><!-- </textarea></xmp> --><form id="query-builder-test-form" action="https://github.com/elastic/elasticsearch/pull/13788" accept-charset="UTF-8" method="get">
  <query-builder data-target="qbsearch-input.queryBuilder" id="query-builder-query-builder-test" data-filter-key=":" data-view-component="true" class="QueryBuilder search-query-builder" data-min-width="300" data-catalyst="">
    <div class="FormControl FormControl--fullWidth">
      <label id="query-builder-test-label" for="query-builder-test" class="FormControl-label sr-only">
        Search
      </label>
      <div class="QueryBuilder-StyledInput width-fit " data-target="query-builder.styledInput">
          <span id="query-builder-test-leadingvisual-wrap" class="FormControl-input-leadingVisualWrap QueryBuilder-leadingVisualWrap">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-search FormControl-input-leadingVisual">
    <path d="M10.68 11.74a6 6 0 0 1-7.922-8.982 6 6 0 0 1 8.982 7.922l3.04 3.04a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215ZM11.5 7a4.499 4.499 0 1 0-8.997 0A4.499 4.499 0 0 0 11.5 7Z"></path>
</svg>
          </span>
        <div data-target="query-builder.styledInputContainer" class="QueryBuilder-StyledInputContainer">
          <div aria-hidden="true" class="QueryBuilder-StyledInputContent" data-target="query-builder.styledInputContent"></div>
          <div class="QueryBuilder-InputWrapper">
            <div aria-hidden="true" class="QueryBuilder-Sizer" data-target="query-builder.sizer"><span></span></div>
            <input id="query-builder-test" name="query-builder-test" value="" autocomplete="off" type="text" role="combobox" spellcheck="false" aria-expanded="false" aria-describedby="validation-ea89f5c5-e092-4d34-8eea-4ea2f320358e" data-target="query-builder.input" data-action="
          input:query-builder#inputChange
          blur:query-builder#inputBlur
          keydown:query-builder#inputKeydown
          focus:query-builder#inputFocus
        " data-view-component="true" class="FormControl-input QueryBuilder-Input FormControl-medium" aria-controls="query-builder-test-results" aria-autocomplete="list" aria-haspopup="listbox" style="width: 300px;">
          </div>
        </div>
          <span class="sr-only" id="query-builder-test-clear">Clear</span>
          <button role="button" id="query-builder-test-clear-button" aria-labelledby="query-builder-test-clear query-builder-test-label" data-target="query-builder.clearButton" data-action="
                click:query-builder#clear
                focus:query-builder#clearButtonFocus
                blur:query-builder#clearButtonBlur
              " variant="small" hidden="" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium mr-1 px-2 py-0 d-flex flex-items-center rounded-1 color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x-circle-fill Button-visual">
    <path d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path>
</svg>
</button>

      </div>
      <template id="search-icon"></template>

<template id="code-icon"></template>

<template id="file-code-icon"></template>

<template id="history-icon"></template>

<template id="repo-icon"></template>

<template id="bookmark-icon"></template>

<template id="plus-circle-icon"></template>

<template id="circle-icon"></template>

<template id="trash-icon"></template>

<template id="team-icon"></template>

<template id="project-icon"></template>

<template id="pencil-icon"></template>

<template id="copilot-icon"></template>

<template id="copilot-error-icon"></template>

<template id="workflow-icon"></template>

<template id="book-icon"></template>

<template id="code-review-icon"></template>

<template id="codespaces-icon"></template>

<template id="comment-icon"></template>

<template id="comment-discussion-icon"></template>

<template id="organization-icon"></template>

<template id="rocket-icon"></template>

<template id="shield-check-icon"></template>

<template id="heart-icon"></template>

<template id="server-icon"></template>

<template id="globe-icon"></template>

<template id="issue-opened-icon"></template>

<template id="device-mobile-icon"></template>

<template id="package-icon"></template>

<template id="credit-card-icon"></template>

<template id="play-icon"></template>

<template id="gift-icon"></template>

<template id="code-square-icon"></template>

<template id="device-desktop-icon"></template>

        <div class="position-relative">
                <ul role="listbox" class="ActionListWrap QueryBuilder-ListWrap" aria-label="Suggestions" data-action="
                    combobox-commit:query-builder#comboboxCommit
                    mousedown:query-builder#resultsMousedown
                  " data-target="query-builder.resultsList" data-persist-list="false" id="query-builder-test-results"></ul>
        </div>
      <div class="FormControl-inlineValidation" id="validation-ea89f5c5-e092-4d34-8eea-4ea2f320358e" hidden="hidden">
        <span class="FormControl-inlineValidation--visual">
          <svg aria-hidden="true" height="12" viewBox="0 0 12 12" version="1.1" width="12" data-view-component="true" class="octicon octicon-alert-fill">
    <path d="M4.855.708c.5-.896 1.79-.896 2.29 0l4.675 8.351a1.312 1.312 0 0 1-1.146 1.954H1.33A1.313 1.313 0 0 1 .183 9.058ZM7 7V3H5v4Zm-1 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path>
</svg>
        </span>
        <span></span>
</div>    </div>
    <div data-target="query-builder.screenReaderFeedback" aria-live="polite" aria-atomic="true" class="sr-only">0 suggestions.</div>
</query-builder></form>
          <div class="d-flex flex-row color-fg-muted px-3 text-small color-bg-default search-feedback-prompt">
            <a target="_blank" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax" data-view-component="true" class="Link color-fg-accent text-normal ml-2">
              Search syntax tips
</a>            <div class="d-flex flex-1"></div>
              <button data-action="click:qbsearch-input#showFeedbackDialog" type="button" data-view-component="true" class="Button--link Button--medium Button color-fg-accent text-normal ml-2">  <span class="Button-content">
    <span class="Button-label">Give feedback</span>
  </span>
</button>
          </div>
        </div>
</div>

    </div>
</modal-dialog></div>
  </div>
  <div data-action="click:qbsearch-input#retract" class="dark-backdrop position-fixed" hidden="" data-target="qbsearch-input.darkBackdrop"></div>
  <div class="color-fg-default">
    
<dialog-helper>
  <dialog data-target="qbsearch-input.feedbackDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="feedback-dialog" aria-modal="true" aria-labelledby="feedback-dialog-title" aria-describedby="feedback-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="feedback-dialog-title">
        Provide feedback
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="feedback-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="feedback-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">        <!-- '"` --><!-- </textarea></xmp> --><form id="code-search-feedback-form" data-turbo="false" action="https://github.com/search/feedback" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="pTUqJpL6xCfO6YEhIQz0hKz3JVS7AjxcSbcv5Z68J7J2VV-VUrChVUhGeGU8Rdrreo-1SAjiyYVU0sK2hS9iEQ">
          <p>We read every piece of feedback, and take your input very seriously.</p>
          <textarea name="feedback" class="form-control width-full mb-2" style="height: 120px" id="feedback"></textarea>
          <input name="include_email" id="include_email" aria-label="Include my email address so I can be contacted" class="form-control mr-2" type="checkbox">
          <label for="include_email" style="font-weight: normal">Include my email address so I can be contacted</label>
</form></div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd">          <button data-close-dialog-id="feedback-dialog" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="code-search-feedback-form" data-action="click:qbsearch-input#submitFeedback" type="submit" data-view-component="true" class="btn-primary btn">    Submit feedback
</button>
</div>
</dialog></dialog-helper>

    <custom-scopes data-target="qbsearch-input.customScopesManager" data-catalyst="">
    
<dialog-helper>
  <dialog data-target="custom-scopes.customScopesModalDialog" data-action="close:qbsearch-input#handleDialogClose cancel:qbsearch-input#handleDialogClose" id="custom-scopes-dialog" aria-modal="true" aria-labelledby="custom-scopes-dialog-title" aria-describedby="custom-scopes-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="custom-scopes-dialog-title">
        Saved searches
      </h1>
        <h2 id="custom-scopes-dialog-description" class="Overlay-description">Use saved searches to filter your results more quickly</h2>
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="custom-scopes-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="custom-scopes-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">        <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

        <div hidden="" class="create-custom-scope-form" data-target="custom-scopes.createCustomScopeForm">
        <!-- '"` --><!-- </textarea></xmp> --><form id="custom-scopes-dialog-form" data-turbo="false" action="https://github.com/search/custom_scopes" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="Oo7h9l_C28aUSB8ZbtsLmuuaDIz6a1xHid-ESu8OOLu9fptKxGP2IPi5lLnrn5BmjvvHztjJuhaOYkOBy8XUnQ">
          <div data-target="custom-scopes.customScopesModalDialogFlash"></div>

          <input type="hidden" id="custom_scope_id" name="custom_scope_id" data-target="custom-scopes.customScopesIdField">

          <div class="form-group">
            <label for="custom_scope_name">Name</label>
            <auto-check src="/search/custom_scopes/check_name" required="">
              <input type="text" name="custom_scope_name" id="custom_scope_name" data-target="custom-scopes.customScopesNameField" class="form-control" autocomplete="off" placeholder="github-ruby" required="" maxlength="50" spellcheck="false">
              <input type="hidden" value="a9C5BfRT2rO8iMWPbi64sK0hkXun7MUaWk0QD9H2ZHJ6bK_UrtESPZdcWT8tCtiSzbqfo9QM1mri4XbftWUenw" data-csrf="true">
            </auto-check>
          </div>

          <div class="form-group">
            <label for="custom_scope_query">Query</label>
            <input type="text" name="custom_scope_query" id="custom_scope_query" data-target="custom-scopes.customScopesQueryField" class="form-control" autocomplete="off" placeholder="(repo:mona/a OR repo:mona/b) AND lang:python" required="" maxlength="500">
          </div>

          <p class="text-small color-fg-muted">
            To see all available qualifiers, see our <a class="Link--inTextBlock" href="https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax">documentation</a>.
          </p>
</form>        </div>

        <div data-target="custom-scopes.manageCustomScopesForm">
          <div data-target="custom-scopes.list"></div>
        </div>

</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">          <button data-action="click:custom-scopes#customScopesCancel" type="button" data-view-component="true" class="btn">    Cancel
</button>
          <button form="custom-scopes-dialog-form" data-action="click:custom-scopes#customScopesSubmit" data-target="custom-scopes.customScopesSubmitButton" type="submit" data-view-component="true" class="btn-primary btn">    Create saved search
</button>
</div>
</dialog></dialog-helper>
    </custom-scopes>
  </div>
</qbsearch-input>    <input type="hidden" value="o9BBtqABeH7NLWYxd33kOxxtpG1Kd24RnOT_ymyiKY4d-n89-hduhKHmNUW4gIe3UWotrIgAYGkzEkEXYDcI3Q" data-csrf="true" class="js-data-jump-to-suggestions-path-csrf">

          </div>

        <div class="AppHeader-actions position-relative">
             <react-partial-anchor data-catalyst="">
      <button id="global-create-menu-anchor" aria-label="Create something new" data-target="react-partial-anchor.anchor" type="button" data-view-component="true" class="AppHeader-button global-create-button Button--secondary Button--medium Button width-auto color-fg-muted" aria-describedby="tooltip-8d1fd672-63ef-4de3-9eec-88b27f77be4d" aria-expanded="false" aria-haspopup="true">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus">
    <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path>
</svg>
      </span>
    <span class="Button-label"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg></span>
  </span>
</button><tool-tip id="tooltip-8d1fd672-63ef-4de3-9eec-88b27f77be4d" for="global-create-menu-anchor" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Create new...</tool-tip>

      
    
        <script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_ActionMenu_ActionMenu_js-.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/vendors-node_modules_primer_react_lib-esm_FeatureFlags_FeatureFlags.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/ui_packages_react-core_register-partial_ts-ui_packages_global-creat.download"></script>
<script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/global-create-menu-bdc8947279f4.js.download"></script>

<react-partial partial-name="global-create-menu" data-ssr="false" data-catalyst="" class="loaded">
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"createRepo":true,"importRepo":true,"codespaces":true,"gist":true,"createOrg":true,"createProject":false,"createProjectUrl":"/l-schulte?tab=projects","createLegacyProject":false,"createIssue":false,"org":null,"owner":"elastic","repo":"elasticsearch"}}</script>
  <div data-target="react-partial.reactRoot"><script type="application/json" id="__PRIMER_DATA_:r1:__">{"resolvedServerColorMode":"night"}</script></div>
</react-partial>

      </react-partial-anchor>


          <a href="https://github.com/issues" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;ISSUES_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-f5b81eed-4300-4ec6-a8b4-fd5ec4e51c78" aria-labelledby="tooltip-f92ddf6f-5289-4824-a23d-fb327dacdfac" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened Button-visual">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
</a><tool-tip id="tooltip-f92ddf6f-5289-4824-a23d-fb327dacdfac" for="icon-button-f5b81eed-4300-4ec6-a8b4-fd5ec4e51c78" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Issues</tool-tip>

          <a href="https://github.com/pulls" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;PULL_REQUESTS_HEADER&quot;,&quot;label&quot;:null}" id="icon-button-b384cf98-05a7-48dc-a7e8-ec180789da18" aria-labelledby="tooltip-a2db7d98-668f-469b-a952-89d581e20553" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request Button-visual">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
</a><tool-tip id="tooltip-a2db7d98-668f-469b-a952-89d581e20553" for="icon-button-b384cf98-05a7-48dc-a7e8-ec180789da18" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Pull requests</tool-tip>

        </div>

        <notification-indicator data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MzU2OTMzOTEiLCJ0IjoxNzIyNDI2MDMzfQ==--20e47f29e5f7799ae84fc6c44972c1114ee7e8a31237b06002a091f8b87855cd" data-indicator-mode="none" data-tooltip-global="You have unread notifications" data-tooltip-unavailable="Notifications are unavailable at the moment." data-tooltip-none="You have no unread notifications" data-header-redesign-enabled="true" data-fetch-indicator-src="/notifications/indicator" data-fetch-indicator-enabled="true" data-view-component="true" class="js-socket-channel" data-fetch-retry-delay-time="500" data-catalyst="">
    <a id="AppHeader-notifications-button" href="https://github.com/notifications" aria-labelledby="notification-indicator-tooltip" data-hotkey="g n" data-target="notification-indicator.link" data-analytics-event="{&quot;category&quot;:&quot;Global navigation&quot;,&quot;action&quot;:&quot;NOTIFICATIONS_HEADER&quot;,&quot;label&quot;:&quot;icon:read&quot;}" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium AppHeader-button color-fg-muted">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-inbox Button-visual">
    <path d="M2.8 2.06A1.75 1.75 0 0 1 4.41 1h7.18c.7 0 1.333.417 1.61 1.06l2.74 6.395c.04.093.06.194.06.295v4.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25v-4.5c0-.101.02-.202.06-.295Zm1.61.44a.25.25 0 0 0-.23.152L1.887 8H4.75a.75.75 0 0 1 .6.3L6.625 10h2.75l1.275-1.7a.75.75 0 0 1 .6-.3h2.863L11.82 2.652a.25.25 0 0 0-.23-.152Zm10.09 7h-2.875l-1.275 1.7a.75.75 0 0 1-.6.3h-3.5a.75.75 0 0 1-.6-.3L4.375 9.5H1.5v3.75c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</a>

    <tool-tip id="notification-indicator-tooltip" data-target="notification-indicator.tooltip" for="AppHeader-notifications-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>You have no unread notifications</tool-tip>
</notification-indicator>

        

        <div class="AppHeader-user">
          <deferred-side-panel data-url="/_side-panels/user?repository_id=507775" data-catalyst="">
  <include-fragment data-target="deferred-side-panel.fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
    <react-partial-anchor data-catalyst="">
  <button data-target="react-partial-anchor.anchor" data-login="l-schulte" aria-label="Open user navigation menu" type="button" data-view-component="true" class="Button--invisible Button--medium Button Button--invisible-noVisuals color-bg-transparent p-0" aria-expanded="false" aria-haspopup="true">  <span class="Button-content">
    <span class="Button-label"><img src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/35693391" alt="" size="32" height="32" width="32" data-view-component="true" class="avatar circle"></span>
  </span>
</button>
  

    <script crossorigin="anonymous" defer="defer" type="application/javascript" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/global-user-nav-drawer-1c2dc5db008c.js.download"></script>
<link crossorigin="anonymous" media="all" rel="stylesheet" href="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/global-user-nav-drawer.dd5b95699efad9266028.module.css">

<react-partial partial-name="global-user-nav-drawer" data-ssr="false" data-catalyst="" class="loaded">
  
  <script type="application/json" data-target="react-partial.embeddedData">{"props":{"owner":{"login":"l-schulte","name":"Lukas Schulte","avatarUrl":"https://avatars.githubusercontent.com/u/35693391?v=4"},"drawerId":"global-user-nav-drawer","lazyLoadItemDataFetchUrl":"/_side-panels/user.json","canAddAccount":true,"addAccountPath":"/login?add_account=1\u0026return_to=https%3A%2F%2Fgithub.com%2Felastic%2Felasticsearch%2Fpull%2F13788","switchAccountPath":"/switch_account","loginAccountPath":"/login?add_account=1","projectsPath":"/l-schulte?tab=projects","gistsUrl":"https://gist.github.com/mine","docsUrl":"https://docs.github.com","yourEnterpriseUrl":null,"enterpriseSettingsUrl":null,"supportUrl":"https://support.github.com","showAccountSwitcher":true,"showEnterprises":true,"showEnterprise":false,"showGists":true,"showSponsors":true,"showFeaturesPreviews":true,"showEnterpriseSettings":false,"createMenuProps":{"createRepo":true,"importRepo":true,"codespaces":true,"gist":true,"createOrg":true,"createProject":false,"createProjectUrl":"/l-schulte?tab=projects","createLegacyProject":false,"createIssue":false,"org":null,"owner":"elastic","repo":"elasticsearch"}}}</script>
  <div data-target="react-partial.reactRoot"><script type="application/json" id="__PRIMER_DATA_:r4:__">{"resolvedServerColorMode":"night"}</script></div>
</react-partial>

  </react-partial-anchor>

  </include-fragment>
</deferred-side-panel>
        </div>

        <div class="position-absolute mt-2">
            
<site-header-logged-in-user-menu data-catalyst="">

</site-header-logged-in-user-menu>

        </div>
      </div>
    </div>


      <div class="AppHeader-localBar">
        <nav data-pjax="#js-repo-pjax-container" aria-label="Repository" data-view-component="true" class="js-repo-nav js-sidenav-container-pjax js-responsive-underlinenav overflow-hidden UnderlineNav">

  <ul data-view-component="true" class="UnderlineNav-body list-style-none">
      <li data-view-component="true" class="d-inline-flex">
  <a id="code-tab" href="https://github.com/elastic/elasticsearch" data-tab-item="i0code-tab" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages repo_deployments repo_attestations /elastic/elasticsearch" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g c" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Code&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code UnderlineNav-octicon d-none d-sm-inline">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        <span data-content="Code">Code</span>
          <span id="code-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="issues-tab" href="https://github.com/elastic/elasticsearch/issues" data-tab-item="i1issues-tab" data-selected-links="repo_issues repo_labels repo_milestones /elastic/elasticsearch/issues /_view_fragments/issues/index/elastic/elasticsearch/layout" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g i" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Issues&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        <span data-content="Issues">Issues</span>
          <span id="issues-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="3,772" data-view-component="true" class="Counter">3.8k</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="pull-requests-tab" href="https://github.com/elastic/elasticsearch/pulls" data-tab-item="i2pull-requests-tab" data-selected-links="repo_pulls checks /elastic/elasticsearch/pulls" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g p" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Pull requests&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item selected" aria-current="page">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        <span data-content="Pull requests">Pull requests</span>
          <span id="pull-requests-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="715" data-view-component="true" class="Counter">715</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="actions-tab" href="https://github.com/elastic/elasticsearch/actions" data-tab-item="i3actions-tab" data-selected-links="repo_actions /elastic/elasticsearch/actions" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g a" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Actions&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play UnderlineNav-octicon d-none d-sm-inline">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        <span data-content="Actions">Actions</span>
          <span id="actions-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="projects-tab" href="https://github.com/elastic/elasticsearch/projects" data-tab-item="i4projects-tab" data-selected-links="repo_projects new_repo_project repo_project /elastic/elasticsearch/projects" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g b" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Projects&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table UnderlineNav-octicon d-none d-sm-inline">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        <span data-content="Projects">Projects</span>
          <span id="projects-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="1" data-view-component="true" class="Counter">1</span>


    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="security-tab" href="https://github.com/elastic/elasticsearch/security" data-tab-item="i5security-tab" data-selected-links="security overview alerts policy token_scanning code_scanning /elastic/elasticsearch/security" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-hotkey="g s" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Security&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield UnderlineNav-octicon d-none d-sm-inline">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span data-content="Security">Security</span>
          

    
</a></li>
      <li data-view-component="true" class="d-inline-flex">
  <a id="insights-tab" href="https://github.com/elastic/elasticsearch/pulse" data-tab-item="i6insights-tab" data-selected-links="repo_graphs repo_contributors dependency_graph dependabot_updates pulse people community /elastic/elasticsearch/pulse" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" data-analytics-event="{&quot;category&quot;:&quot;Underline navbar&quot;,&quot;action&quot;:&quot;Click tab&quot;,&quot;label&quot;:&quot;Insights&quot;,&quot;target&quot;:&quot;UNDERLINE_NAV.TAB&quot;}" data-view-component="true" class="UnderlineNav-item no-wrap js-responsive-underlinenav-item js-selected-navigation-item">
    
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph UnderlineNav-octicon d-none d-sm-inline">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        <span data-content="Insights">Insights</span>
          <span id="insights-repo-tab-count" data-pjax-replace="" data-turbo-replace="" title="Not available" data-view-component="true" class="Counter"></span>


    
</a></li>
</ul>
    <div style="visibility:hidden;" data-view-component="true" class="UnderlineNav-actions js-responsive-underlinenav-overflow position-absolute pr-3 pr-md-4 pr-lg-5 right-0">      <action-menu data-select-variant="none" data-view-component="true" data-catalyst="">
  <focus-group direction="vertical" mnemonics="" retain="">
    <button id="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-button" popovertarget="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-overlay" aria-controls="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-list" aria-haspopup="true" aria-labelledby="tooltip-601be35a-cd1e-4c4a-87d2-fe66ffa733eb" type="button" data-view-component="true" class="Button Button--iconOnly Button--secondary Button--medium UnderlineNav-item">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-601be35a-cd1e-4c4a-87d2-fe66ffa733eb" for="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Additional navigation options</tool-tip>


<anchored-position id="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-overlay" anchor="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-button" align="start" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true" style="inset: 36px auto auto 0px;">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list data-catalyst="">
  <div data-view-component="true">
    <ul aria-labelledby="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-button" id="action-menu-a82730d5-0bd8-4649-950e-f16cb2a6084f-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li hidden="" data-menu-item="i0code-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-c9e1fd25-176f-4d8e-8123-89f016b88386" href="https://github.com/elastic/elasticsearch" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Code
</span></a>
  
</li>
        <li hidden="" data-menu-item="i1issues-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-a86b15b7-9e79-4b49-9b00-31607740dadf" href="https://github.com/elastic/elasticsearch/issues" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-issue-opened">
    <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Issues
</span></a>
  
</li>
        <li hidden="" data-menu-item="i2pull-requests-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-a9e64ae1-48fc-49a5-b6d4-11f85db9f224" href="https://github.com/elastic/elasticsearch/pulls" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-pull-request">
    <path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Pull requests
</span></a>
  
</li>
        <li hidden="" data-menu-item="i3actions-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-5c103a6b-41bf-4cc7-a9ef-f61ad866c34d" href="https://github.com/elastic/elasticsearch/actions" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-play">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm4.879-2.773 4.264 2.559a.25.25 0 0 1 0 .428l-4.264 2.559A.25.25 0 0 1 6 10.559V5.442a.25.25 0 0 1 .379-.215Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Actions
</span></a>
  
</li>
        <li hidden="" data-menu-item="i4projects-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-233d1008-e483-4e24-9ac0-926e332eaf2f" href="https://github.com/elastic/elasticsearch/projects" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-table">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25ZM6.5 6.5v8h7.75a.25.25 0 0 0 .25-.25V6.5Zm8-1.5V1.75a.25.25 0 0 0-.25-.25H6.5V5Zm-13 1.5v7.75c0 .138.112.25.25.25H5v-8ZM5 5V1.5H1.75a.25.25 0 0 0-.25.25V5Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Projects
</span></a>
  
</li>
        <li hidden="" data-menu-item="i5security-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-72ed7b01-f015-4bf7-83de-0629289587a2" href="https://github.com/elastic/elasticsearch/security" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-shield">
    <path d="M7.467.133a1.748 1.748 0 0 1 1.066 0l5.25 1.68A1.75 1.75 0 0 1 15 3.48V7c0 1.566-.32 3.182-1.303 4.682-.983 1.498-2.585 2.813-5.032 3.855a1.697 1.697 0 0 1-1.33 0c-2.447-1.042-4.049-2.357-5.032-3.855C1.32 10.182 1 8.566 1 7V3.48a1.75 1.75 0 0 1 1.217-1.667Zm.61 1.429a.25.25 0 0 0-.153 0l-5.25 1.68a.25.25 0 0 0-.174.238V7c0 1.358.275 2.666 1.057 3.86.784 1.194 2.121 2.34 4.366 3.297a.196.196 0 0 0 .154 0c2.245-.956 3.582-2.104 4.366-3.298C13.225 9.666 13.5 8.36 13.5 7V3.48a.251.251 0 0 0-.174-.237l-5.25-1.68ZM8.75 4.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 1.5 0ZM9 10.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Security
</span></a>
  
</li>
        <li hidden="" data-menu-item="i6insights-tab" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <a tabindex="-1" id="item-f111c57e-f5a3-4d2c-b82b-1af07e7e9a27" href="https://github.com/elastic/elasticsearch/pulse" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-graph">
    <path d="M1.5 1.75V13.5h13.75a.75.75 0 0 1 0 1.5H.75a.75.75 0 0 1-.75-.75V1.75a.75.75 0 0 1 1.5 0Zm14.28 2.53-5.25 5.25a.75.75 0 0 1-1.06 0L7 7.06 4.28 9.78a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042l3.25-3.25a.75.75 0 0 1 1.06 0L10 7.94l4.72-4.72a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Insights
</span></a>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu></div>
</nav>
      </div>
</header>


      <div hidden="hidden" data-view-component="true" class="js-stale-session-flash stale-session-flash flash flash-warn flash-full mb-3">
  
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
        <span class="js-stale-session-flash-signed-in" hidden="">You signed in with another tab or window. <a class="Link--inTextBlock" href="https://github.com/elastic/elasticsearch/pull/13788">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-signed-out" hidden="">You signed out in another tab or window. <a class="Link--inTextBlock" href="https://github.com/elastic/elasticsearch/pull/13788">Reload</a> to refresh your session.</span>
        <span class="js-stale-session-flash-switched" hidden="">You switched accounts on another tab or window. <a class="Link--inTextBlock" href="https://github.com/elastic/elasticsearch/pull/13788">Reload</a> to refresh your session.</span>

    <button id="icon-button-380347a4-abd0-4675-924b-b144976972da" aria-labelledby="tooltip-4c7dc501-f49f-44f6-a36c-4353876e69a2" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium flash-close js-flash-close">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x Button-visual">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-4c7dc501-f49f-44f6-a36c-4353876e69a2" for="icon-button-380347a4-abd0-4675-924b-b144976972da" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Dismiss alert</tool-tip>


  
</div>
          
    </div>

  <div id="start-of-content" class="show-on-focus"></div>








    <div id="js-flash-container" class="flash-container" data-turbo-replace="">




  <template class="js-flash-template"></template>
</div>


    
    <notification-shelf-watcher data-base-url="https://github.com/notifications/beta/shelf" data-channel="eyJjIjoibm90aWZpY2F0aW9uLWNoYW5nZWQ6MzU2OTMzOTEiLCJ0IjoxNzIyNDI2MDMzfQ==--20e47f29e5f7799ae84fc6c44972c1114ee7e8a31237b06002a091f8b87855cd" data-view-component="true" class="js-socket-channel" data-refresh-delay="500" data-catalyst=""></notification-shelf-watcher>
  <div hidden="" data-initial="" data-target="notification-shelf-watcher.placeholder"></div>






  <div class="application-main " data-commit-hovercards-enabled="" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode" class="">
    <main id="js-repo-pjax-container">
      
  



      
    

    






    
  <div id="repository-container-header" data-turbo-replace="" hidden=""></div>




<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance" class="">
    <div id="repo-content-pjax-container" class="repository-content ">
      <a href="https://github.dev/" class="d-none js-github-dev-shortcut" data-hotkey=".,Mod+Alt+.">Open in github.dev</a>
  <a href="https://github.dev/" class="d-none js-github-dev-new-tab-shortcut" data-hotkey="Shift+.,Shift+&gt;,&gt;" target="_blank" rel="noopener noreferrer">Open in a new github.dev tab</a>
    <a class="d-none" data-hotkey=",,Mod+Alt+," target="_blank" href="https://github.com/codespaces/new/elastic/elasticsearch/pull/13788?resume=1">Open in codespace</a>




    
      
    <div class="clearfix new-discussion-timeline js-check-all-container container-xl px-3 px-md-4 px-lg-5 mt-4" data-pjax="" data-turbo-frame="">
      

  <div id="js-report-pull-request-refresh" data-hydro-view="{&quot;event_type&quot;:&quot;pull-request-refresh&quot;,&quot;payload&quot;:{&quot;pull_request_id&quot;:46006908,&quot;tab_context&quot;:&quot;conversation&quot;,&quot;originating_url&quot;:&quot;https://github.com/elastic/elasticsearch/pull/13788&quot;,&quot;user_id&quot;:35693391}}" data-hydro-view-hmac="160155847766d16c1471d3213aae23a37583645fc661f1a6f8598c8706615d55"></div>


  <div class="clearfix js-issues-results">
      
  <div id="partial-discussion-header" class="gh-header mb-3 js-details-container Details js-socket-channel js-updatable-content pull request js-pull-header-details" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4IiwidCI6MTcyMjQyNjAzM30=--9fde50b00c8a9bc94c11988512963b6194baed514d34bce2e58d5433eab8c091" data-url="/elastic/elasticsearch/pull/13788/partials/title?sticky=true" data-channel-event-name="title_updated" data-pull-is-open="false" data-gid="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=">
    

  <div class="gh-header-show ">
    <div class="d-flex flex-column flex-md-row">
      <div class="gh-header-actions mt-0 mb-3 mb-md-2 ml-1 flex-md-order-1 flex-shrink-0 d-flex flex-items-center gap-1">

            <div class="flex-md-order-2">
              <get-repo data-catalyst="">
                <details class="position-relative details-overlay details-reset js-codespaces-details-container hx_dropdown-fullscreen" data-action="toggle:get-repo#onDetailsToggle">
                  <summary data-hydro-click="{&quot;event_type&quot;:&quot;repository.click&quot;,&quot;payload&quot;:{&quot;repository_id&quot;:507775,&quot;target&quot;:&quot;CLONE_OR_DOWNLOAD_BUTTON&quot;,&quot;originating_url&quot;:&quot;https://github.com/elastic/elasticsearch/pull/13788&quot;,&quot;user_id&quot;:35693391}}" data-hydro-click-hmac="e07b7f061d4f5cf4ae157e4a422ff995a5e83ebebb9a2d9a99d9d40a30d57828" aria-description="Open checkout and codespaces menu" data-view-component="true" class="Button--secondary Button--small Button float-none" aria-haspopup="menu" role="button">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
      </span>
    <span class="Button-label">Code</span>
  </span>
    <span class="Button-visual Button-trailingAction">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-triangle-down">
    <path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"></path>
</svg>
    </span>
</summary>
                  <details-menu src="/elastic/elasticsearch/pull/13788/open_with_menu?ref=3d3197342ded0a697c94a02d81dce011c88a9fc1" role="menu">
                    <include-fragment class="SelectMenu-loading"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
                      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>  <span class="sr-only">Loading</span>

                    </include-fragment>
                  </details-menu>
                </details>
              </get-repo>
            </div>
        <div class="flex-auto text-right d-block d-md-none">
          <a href="https://github.com/elastic/elasticsearch/pull/13788#issue-comment-box" class="py-1">Jump to bottom</a>
        </div>
      </div>

    <h1 class="gh-header-title mb-2 lh-condensed f1 mr-0 flex-auto wb-break-word">
      <bdi class="js-issue-title markdown-title">Query refactoring: split parse phase into fromXContent and toQuery for all queries</bdi>
      <span class="f1-light color-fg-muted">#13788</span>
    </h1>
    </div>
  </div>

  <div class="d-flex flex-items-center flex-wrap mt-0 gh-header-meta">
    <div class="flex-shrink-0 mb-2 flex-self-start flex-md-self-center">
        <span reviewable_state="ready" title="Status: Merged" data-view-component="true" class="State State--merged">
  <svg height="16" class="octicon octicon-git-merge" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path d="M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"></path></svg> Merged
</span>
    </div>




    <div class="flex-auto min-width-0 mb-2">
          <a class="author Link--secondary text-bold css-truncate css-truncate-target expandable" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  merged 371 commits into


  <span title="elastic/elasticsearch:master" class="commit-ref css-truncate user-select-contain expandable "><a title="elastic/elasticsearch:master" class="no-underline " href="https://github.com/elastic/elasticsearch/tree/master"><span class="css-truncate-target">elastic</span>:<span class="css-truncate-target">master</span></a></span><span></span>

from

<span title="javanna/elasticsearch:merge/query-refactoring" class="commit-ref css-truncate user-select-contain expandable head-ref"><a title="javanna/elasticsearch:merge/query-refactoring" class="no-underline " href="https://github.com/javanna/elasticsearch/tree/merge/query-refactoring"><span class="css-truncate-target">javanna</span>:<span class="css-truncate-target">merge/query-refactoring</span></a></span><span><span data-view-component="true">
  <clipboard-copy aria-label="Copy" data-copy-feedback="Copied!" value="javanna:merge/query-refactoring" data-view-component="true" class="Link--onHover js-copy-branch color-fg-muted d-inline-block ml-1" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg style="display: none;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check color-fg-success">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback=""></div>
</span></span>


  <relative-time datetime="2015-09-25T12:41:22Z" class="no-wrap" title="Sep 25, 2015, 2:41 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time>


    </div>

  </div>


      



    <div class="js-sticky-offset-scroll top-0 gh-header-sticky is-placeholder" style="visibility: hidden; display: block; height: 1px;"></div><div class="js-sticky js-sticky-offset-scroll top-0 gh-header-sticky is-stuck" style="position: fixed; top: 0px !important; left: 343.5px; width: 1216px; margin-top: 0px;" data-original-top="0px">
      <div class="sticky-content">
        <div class="d-flex flex-items-center flex-justify-between mt-2">
          <div class="d-flex flex-row flex-items-center min-width-0">
            <div class="mr-2 mb-2 flex-shrink-0">
                <span reviewable_state="ready" title="Status: Merged" data-view-component="true" class="State State--merged">
  <svg height="16" class="octicon octicon-git-merge" viewBox="0 0 16 16" version="1.1" width="16" aria-hidden="true"><path d="M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"></path></svg> Merged
</span>
            </div>




            <div class="min-width-0 mr-2 mb-2">
              <h1 class="d-flex text-bold f5">
  <a class="js-issue-title css-truncate css-truncate-target Link--primary width-fit markdown-title js-smoothscroll-anchor" href="https://github.com/elastic/elasticsearch/pull/13788#top">
    Query refactoring: split parse phase into fromXContent and toQuery for all queries
  </a>
  <span class="gh-header-number color-fg-muted pl-1">#13788</span>
</h1>

              <div class="meta color-fg-muted css-truncate css-truncate-target d-block width-fit">
                    <a class="author Link--secondary text-bold css-truncate css-truncate-target expandable" data-hovercard-z-index-override="111" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  merged 371 commits into


  <span title="elastic/elasticsearch:master" class="commit-ref css-truncate user-select-contain expandable "><a title="elastic/elasticsearch:master" class="no-underline " href="https://github.com/elastic/elasticsearch/tree/master"><span class="css-truncate-target">elastic</span>:<span class="css-truncate-target">master</span></a></span><span></span>

from

<span title="javanna/elasticsearch:merge/query-refactoring" class="commit-ref css-truncate user-select-contain expandable head-ref"><a title="javanna/elasticsearch:merge/query-refactoring" class="no-underline " href="https://github.com/javanna/elasticsearch/tree/merge/query-refactoring"><span class="css-truncate-target">javanna</span>:<span class="css-truncate-target">merge/query-refactoring</span></a></span><span><span data-view-component="true">
  <clipboard-copy aria-label="Copy" data-copy-feedback="Copied!" value="javanna:merge/query-refactoring" data-view-component="true" class="Link--onHover js-copy-branch color-fg-muted d-inline-block ml-1" tabindex="0" role="button">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-copy">
    <path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path>
</svg>
      <svg style="display: none;" aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-check color-fg-success">
    <path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</clipboard-copy>  <div aria-live="polite" aria-atomic="true" class="sr-only" data-clipboard-copy-feedback=""></div>
</span></span>


  <relative-time datetime="2015-09-25T12:41:22Z" class="no-wrap" title="Sep 25, 2015, 2:41 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time>


              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="gh-header-shadow color-shadow-small js-notification-shelf-offset-top" data-original-top="auto" style="top: 0px !important;"></div>
</div>



        
<div class="px-3 px-md-0 ml-n3 mr-n3 mx-md-0 tabnav">
    <div class="tabnav-extra float-right d-none d-md-block">
      <span class="diffstat" id="diffstat">
        <span class="color-fg-success">
          +24,555
        </span>
        <span class="color-fg-danger">
          −13,325
        </span>
        <span>
          <span class="diffstat-block-added"></span><span class="diffstat-block-added"></span><span class="diffstat-block-added"></span><span class="diffstat-block-deleted"></span><span class="diffstat-block-neutral"></span>
        </span>
      </span>
    </div>

  <nav class="tabnav-tabs d-flex overflow-auto" data-pjax="#repo-content-pjax-container" data-turbo-frame="repo-content-turbo-frame" aria-label="Pull request tabs">
    <a href="https://github.com/elastic/elasticsearch/pull/13788" class="tabnav-tab flex-shrink-0 selected" aria-current="page" data-turbo-frame="repo-content-turbo-frame">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion d-none d-md-inline-block">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
      Conversation

      <span id="conversation_tab_counter" title="4" data-view-component="true" class="Counter">4</span>
    </a>

    <a href="https://github.com/elastic/elasticsearch/pull/13788/commits" class="tabnav-tab flex-shrink-0 " data-turbo-frame="repo-content-turbo-frame">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit d-none d-md-inline-block">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg>
      Commits

      <span id="commits_tab_counter" title="250" data-view-component="true" class="Counter js-updateable-pull-request-commits-count">250</span>
    </a>

    <a href="https://github.com/elastic/elasticsearch/pull/13788/checks" class="tabnav-tab flex-shrink-0 " data-turbo-frame="repo-content-turbo-frame">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-checklist d-none d-md-inline-block">
    <path d="M2.5 1.75v11.5c0 .138.112.25.25.25h3.17a.75.75 0 0 1 0 1.5H2.75A1.75 1.75 0 0 1 1 13.25V1.75C1 .784 1.784 0 2.75 0h8.5C12.216 0 13 .784 13 1.75v7.736a.75.75 0 0 1-1.5 0V1.75a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13.274 9.537v-.001l-4.557 4.45a.75.75 0 0 1-1.055-.008l-1.943-1.95a.75.75 0 0 1 1.062-1.058l1.419 1.425 4.026-3.932a.75.75 0 1 1 1.048 1.074ZM4.75 4h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM4 7.75A.75.75 0 0 1 4.75 7h2a.75.75 0 0 1 0 1.5h-2A.75.75 0 0 1 4 7.75Z"></path>
</svg>
  Checks

  <span id="checks_tab_counter" title="0" data-view-component="true" class="Counter">0</span>
</a>


    <a href="https://github.com/elastic/elasticsearch/pull/13788/files" class="tabnav-tab flex-shrink-0 " data-turbo-frame="repo-content-turbo-frame">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-file-diff d-none d-md-inline-block">
    <path d="M1 1.75C1 .784 1.784 0 2.75 0h7.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073ZM8 3.25a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0V7h-1.5a.75.75 0 0 1 0-1.5h1.5V4A.75.75 0 0 1 8 3.25Zm-3 8a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
      Files changed

        <span id="files_tab_counter" title="443" data-view-component="true" class="Counter">443</span>
    </a>
  </nav>
</div>



    <div id="discussion_bucket" class="pull-request-tab-content is-visible js-socket-channel js-updatable-content" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4OnRpbWVsaW5lIiwidCI6MTcyMjQyNjAzM30=--24341c6baa5a2c0c5769020e4a271cef2429200c468a02de569a024f3949a4b9">
      <div data-view-component="true" class="Layout Layout--flowRow-until-md Layout--sidebarPosition-end Layout--sidebarPosition-flowRow-end">
  <div data-view-component="true" class="Layout-main">            <h2 class="sr-only">Conversation</h2>
  <div class="pull-discussion-timeline js-pull-discussion-timeline js-quote-selection-container js-review-state-classes" data-quote-markdown=".js-comment-body" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="" data-team-hovercards-enabled="" data-hpc="">
    <template class="js-file-alert-template"></template>
<template class="js-line-alert-template"></template>

    <div class="js-discussion js-socket-channel ml-0 pl-0 ml-md-6 pl-md-3" data-channel="eyJjIjoibWFya2VkLWFzLXJlYWQ6MzU2OTMzOTEiLCJ0IjoxNzIyNDI2MDMzfQ==--83168b0dbff3f63dc681069fae867789540ce69b26f93218d7813cc1307ca0aa" data-channel-target="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=">

      <div class="TimelineItem TimelineItem--condensed pt-0 js-comment-container js-socket-channel js-updatable-content js-command-palette-pull-body" data-gid="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=" data-url="/elastic/elasticsearch/pull/13788/partials/body" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4IiwidCI6MTcyMjQyNjAzM30=--9fde50b00c8a9bc94c11988512963b6194baed514d34bce2e58d5433eab8c091">

<div data-view-component="true" class="TimelineItem ml-0 p-0">
  <a href="https://github.com/javanna" data-view-component="true" class="TimelineItem-avatar avatar circle lh-0 Link"><img data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460" alt="javanna" size="40" height="40" width="40" data-view-component="true"></a>
  
  
</div><div class="timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0" id="issue-108317377">
  <div id="pullrequest-46006908" class="timeline-comment-group js-minimizable-comment-group js-targetable-element my-0 comment previewable-edit js-task-list-container js-comment editable-comment timeline-comment--caret reorderable-task-lists timeline-comment ml-n3 unminimized-comment">
          <div class="timeline-comment-header clearfix d-flex" data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button" aria-haspopup="menu" role="button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default" style="width:185px" src="/elastic/elasticsearch/issues/13788/actions_menu?gid=MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg%3D&amp;href=issue-108317377" preload="" role="menu">
          <include-fragment class="js-comment-header-actions-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
            <p class="text-center mt-3" data-hide-on-error="">
              <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
            </p>
            <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
              Sorry, something went wrong.
            </p>
            <button type="button" class="dropdown-item btn-link js-comment-quote-reply" data-hotkey="r" role="menuitem">
             Quote reply
            </button>
          </include-fragment>
      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  <span aria-label="This user is a member of the elastic organization." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Member</span>
</span>

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      <img src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(1)" alt="@javanna" size="24" height="24" width="24" data-view-component="true" class="avatar circle d-inline-block d-md-none mr-2">

      <strong>
          <a class="author Link--primary text-bold css-overflow-wrap-anywhere " show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  

      </strong>

      

      commented


        <a href="https://github.com/elastic/elasticsearch/pull/13788#issue-108317377" id="issue-108317377-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2015-09-25T12:35:41Z" class="no-wrap" title="Sep 25, 2015, 2:35 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>


      
    </div>

  </h3>
</div>

          <div>
        <div class="edit-comment-hide">
  
  <task-lists disabled="" sortable="">
    <div class="comment-body markdown-body js-comment-body soft-wrap css-overflow-wrap-anywhere user-select-contain d-block">
      <p dir="auto">This PR includes the work that was done in the query-refactoring branch in the last few months. All queries were refactored to split the current parse phase into tho phases:</p>
<ol dir="auto">
<li><code class="notranslate">fromXContent</code> that returns an intermediate elasticsearch object which can be streamed over the wire</li>
<li><code class="notranslate">toQuery</code> that converts the intermediate elasticsearch object into the corresponding lucene query</li>
</ol>
<p dir="auto">The first phase can be moved to the coordinating node, while the second phase will stay on the data node.</p>
<p dir="auto">All queries have been refactored, plus lots of tests have been added for each query. Once this is merged we can start using this new infra and effectively move the parse phase to the coordinating node as the next step.</p>
<p dir="auto">For all the detailed changes, see pull requests labelled with the <a href="https://github.com/elastic/elasticsearch/pulls?q=is%3Aclosed+is%3Apr+label%3A%22%3AQuery+Refactoring%22"><code class="notranslate">:Query Refactoring</code> label</a>.</p>
<p dir="auto">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">#10217</a>.</p>
    </div>
  </task-lists>
  
</div>

      </div>

          <!-- '"` --><!-- </textarea></xmp> --><form class="js-comment-update" id="issue-108317377-edit-form" data-type="json" data-turbo="false" action="https://github.com/elastic/elasticsearch/issues/13788" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="DCipNPTMFSPiNC44oyxfYnTWHgOPropBL1d3TR3j-OKO0TISQRXaMCwqhbHQHU6TYzAY0YkguRJNUSZ32yGhYA" autocomplete="off">
          <include-fragment loading="lazy" src="/elastic/elasticsearch/issues/13788/edit_form?textarea_id=issue-108317377-body&amp;comment_context=" class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
  <p class="text-center mt-3" data-hide-on-error="">
    <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>
          <div class="pr-review-reactions">
        <div data-view-component="true" class="comment-reactions just-bottom js-reactions-container js-reaction-buttons-container social-reactions reactions-container d-flex">
      <reactions-menu tabindex="-1" data-catalyst="">
    <details data-action="toggle:reactions-menu#focusFirstItem" data-target="reactions-menu.details" class="dropdown details-reset details-overlay d-inline-block new-reactions-dropdown js-reaction-popover-container js-comment-header-reaction-button">
        <summary data-target="reactions-menu.summary" aria-label="Add or remove reactions" aria-haspopup="true" data-view-component="true" class="circle reaction-dropdown-button reaction-dropdown-button--inline btn-invisible btn p-0 mr-1 d-flex flex-justify-center flex-items-center color-bg-subtle border color-border-muted">    <svg height="18" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="18" data-view-component="true" class="octicon octicon-smiley social-button-emoji">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path>
</svg>
</summary>        <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="MQObphqLP_sYMV7h6nYFLqFWs53wZVNMpntUfzSwoFtmyrh4Qavc_9k3V_2F3fjJCC0BdtFT3Z95Spy2gLJlJA" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=">
    <ul class="dropdown-menu mt-2 d-flex mb-2 anim-scale-in dropdown-menu-reactions dropdown-menu-se" role="menu">
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-7cfd45" value="THUMBS_UP react" data-reaction-label="+1" data-reaction-content="+1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs up" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="+1" fallback-src="https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png" class="d-flex">👍</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-9de988" value="THUMBS_DOWN react" data-reaction-label="-1" data-reaction-content="-1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs down" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="-1" fallback-src="https://github.githubassets.com/assets/1f44e-ce91733aae25.png" class="d-flex">👎</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-e18d3d" value="LAUGH react" data-reaction-label="Laugh" data-reaction-content="smile" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="laugh" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="smile" fallback-src="https://github.githubassets.com/assets/1f604-7528822fb4c5.png" class="d-flex">😄</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-dd1670" value="HOORAY react" data-reaction-label="Hooray" data-reaction-content="tada" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="hooray" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="tada" fallback-src="https://github.githubassets.com/assets/1f389-36899a2cb781.png" class="d-flex">🎉</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-3aa404" value="CONFUSED react" data-reaction-label="Confused" data-reaction-content="thinking_face" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="confused" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/assets/1f615-4bb1369c4251.png" class="d-flex">😕</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-5ca5b5" value="HEART react" data-reaction-label="Heart" data-reaction-content="heart" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="heart" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="heart" fallback-src="https://github.githubassets.com/assets/2764-982dc91ea48a.png" class="d-flex">❤️</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-4d16a8" value="ROCKET react" data-reaction-label="Rocket" data-reaction-content="rocket" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="rocket" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/assets/1f680-d0ef47fdb515.png" class="d-flex">🚀</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-45a543" value="EYES react" data-reaction-label="Eyes" data-reaction-content="eyes" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="eyes" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/assets/1f440-ee44e91e92a7.png" class="d-flex">👀</g-emoji>
</button>        </li>
    </ul>
</form>
    </details>
  </reactions-menu>

  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="2dbqPf60SUl7ayJSCKKekrhH4TqcK_Z4twdKgXtzN9mOH8njpZSqTbptK05nCWN1ETxT0b0deKtoNoJIz3Hypg" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=">
    <div class="js-comment-reactions-options d-flex flex-items-center flex-row flex-wrap">
      <div class="js-reactions-container">
        <details class="dropdown details-reset details-overlay d-inline-block js-all-reactions-popover" hidden="">
          <summary aria-haspopup="true" data-view-component="true" class="Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label">All reactions</span>
  </span>
</summary>

          <ul class="dropdown-menu dropdown-menu-se">
          </ul>
        </details>
      </div>
    </div>
</form></div>
      </div>

</div>
  </div>
</div>


        

       
            <div id="js-timeline-progressive-loader" data-timeline-item-src="elastic/elasticsearch/timeline_focused_item?after_cursor=Y3Vyc29yOnYyOpPPAAABTmfzzaAH2gAxNDYwMDY5MDg6ZDhlNTZlOWE2ZGEzOTFiZjQ5ZWY5MGMyMmVhYjZhYWUwNTliZTRjYg%3D%3D&amp;before_cursor=Y3Vyc29yOnYyOpPPAAABT_TsWHAH2gAxNDYwMDY5MDg6NWViYjA3NGU1Nzg2YTA0YmRkZTRhZWY1MmE3NDY3MjMxMjg1Yjk4MQ%3D%3D&amp;id=MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg%3D"></div>


      <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDoxZTA0ZDhkMjM0MzA3NzVhZjZhMmE5ZDYzMTg4Mzk2Njc5YWE1NmIy">
  
        <div>
    <div id="commits-pushed-1e04d8d" data-view-component="true" class="TimelineItem pb-1">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-push">
    <path d="M1 2.5A2.5 2.5 0 0 1 3.5 0h8.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V1.5h-8a1 1 0 0 0-1 1v6.708A2.493 2.493 0 0 1 3.5 9h3.25a.75.75 0 0 1 0 1.5H3.5a1 1 0 0 0 0 2h5.75a.75.75 0 0 1 0 1.5H3.5A2.5 2.5 0 0 1 1 11.5Zm13.23 7.79h-.001l-1.224-1.224v6.184a.75.75 0 0 1-1.5 0V9.066L10.28 10.29a.75.75 0 0 1-1.06-1.061l2.505-2.504a.75.75 0 0 1 1.06 0L15.29 9.23a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <span class="author text-bold">Isabel Drost-Fromm</span>
<span>and others</span>
        added <span>30</span> commits
        <a href="https://github.com/elastic/elasticsearch/pull/13788#commits-pushed-1e04d8d" data-view-component="true" class="Link--inTextBlock Link--secondary Link">
          <relative-time tense="past" datetime="2015-06-25T11:11:55+02:00" data-view-component="true" title="Jun 25, 2015, 11:11 AM GMT+2"><template shadowrootmode="open">9 years ago</template>June 25, 2015 11:11</relative-time>
</a></div>
</div>  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #11845 from MaineC/feature/simple-query-string-operator

Remove duplicate operator enums." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1e04d8d23430775af6a2a9d63188396679aa56b2">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="90617017" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11845" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11845/hovercard" href="https://github.com/elastic/elasticsearch/pull/11845">elastic#11845</a> <a title="Merge pull request #11845 from MaineC/feature/simple-query-string-operator

Remove duplicate operator enums." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1e04d8d23430775af6a2a9d63188396679aa56b2">from MaineC/feature/simple-query-str…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFlMDRkOGQyMzQzMDc3NWFmNmEyYTlkNjMxODgzOTY2NzlhYTU2YjIiLCJ0IjoxNzIyNDI2MDM0fQ==--d74a1688385378e70a652ec6556ada1fc528f01b3d3d9ffb1f370c4d1d313c16" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1e04d8d23430775af6a2a9d63188396679aa56b2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1e04d8d23430775af6a2a9d63188396679aa56b2" class="Link--secondary">1e04d8d</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ing-operator

Remove duplicate operator enums.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/556e43aa84172e09a2245ad456de7a42a68a73d8">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjU1NmU0M2FhODQxNzJlMDlhMjI0NWFkNDU2ZGU3YTQyYTY4YTczZDgiLCJ0IjoxNzIyNDI2MDM0fQ==--ae8021c8b6adb5de72f00b6268962970e6f84f386161595bcf70254ba5eef4f5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=556e43aa84172e09a2245ad456de7a42a68a73d8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/556e43aa84172e09a2245ad456de7a42a68a73d8" class="Link--secondary">556e43a</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Adapted BaseQueryTestCase to upstream changes" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/06d9948b09efd4c195bb2a0177ab1f547c60b50e">Adapted BaseQueryTestCase to upstream changes</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA2ZDk5NDhiMDllZmQ0YzE5NWJiMmEwMTc3YWIxZjU0N2M2MGI1MGUiLCJ0IjoxNzIyNDI2MDM0fQ==--ddacd6e3f7bced7127ba301609c177ec733eeb92a7bab03654fa5b1dee6645e1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=06d9948b09efd4c195bb2a0177ab1f547c60b50e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/06d9948b09efd4c195bb2a0177ab1f547c60b50e" class="Link--secondary">06d9948</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] fix CommonTermsQueryBuilderTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/33a7839cfb57c9c865d3970aacd6590f95284289">[TEST] fix CommonTermsQueryBuilderTest</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjMzYTc4MzljZmI1N2M5Yzg2NWQzOTcwYWFjZDY1OTBmOTUyODQyODkiLCJ0IjoxNzIyNDI2MDM0fQ==--be1edda78fea354df24526e85813a60aee2af20c7281626035070e3e1f8ab191" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=33a7839cfb57c9c865d3970aacd6590f95284289">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/33a7839cfb57c9c865d3970aacd6590f95284289" class="Link--secondary">33a7839</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Revisited the queries already refactored, corrected and aligned some of
the codebase based on the conventions that we decided to follow. Also including
some cosmetic fixes (making members final where possible, avoiding this
references outside of setters/getters).

In addition to that this PR changes:

* prevent NPEs in doXContent when rendering out nested queries that are null. We now render out empty object ({ }) which then gets parser to null to be consistent with queries than come only through the rest layer
* prevent adding nested null queries to collections of clauses like in BoolQueryBuilder
* add validate() method to all builders (even when empty)

Closes #11834" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/28506d7b8781d545a5f20c1774d5bac7de463b17">Revisited the queries already refactored, corrected and aligned some of</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI4NTA2ZDdiODc4MWQ1NDVhNWYyMGMxNzc0ZDViYWM3ZGU0NjNiMTciLCJ0IjoxNzIyNDI2MDM0fQ==--d6ce5b4eac0924a16c9fe46778ec9a45075fafc5ac633265a23096917a4c170d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=28506d7b8781d545a5f20c1774d5bac7de463b17">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/28506d7b8781d545a5f20c1774d5bac7de463b17" class="Link--secondary">28506d7</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">the codebase based on the conventions that we decided to follow. Also including
some cosmetic fixes (making members final where possible, avoiding this
references outside of setters/getters).

In addition to that this PR changes:

* prevent NPEs in doXContent when rendering out nested queries that are null. We now render out empty object ({ }) which then gets parser to null to be consistent with queries than come only through the rest layer
* prevent adding nested null queries to collections of clauses like in BoolQueryBuilder
* add validate() method to all builders (even when empty)

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #11834.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="90438068" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11834" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11834/hovercard" href="https://github.com/elastic/elasticsearch/pull/11834">elastic#11834</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #11834 from cbuescher/feature/query-refactoring-minorcleanup

Query Refactoring: Minor consistency cleanups for default values and validation" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/9d47e809c67fc39e71548385f03fcca7faf11774">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="90438068" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11834" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11834/hovercard" href="https://github.com/elastic/elasticsearch/pull/11834">elastic#11834</a> <a title="Merge pull request #11834 from cbuescher/feature/query-refactoring-minorcleanup

Query Refactoring: Minor consistency cleanups for default values and validation" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/9d47e809c67fc39e71548385f03fcca7faf11774">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjlkNDdlODA5YzY3ZmMzOWU3MTU0ODM4NWYwM2ZjY2E3ZmFmMTE3NzQiLCJ0IjoxNzIyNDI2MDM0fQ==--fcfe02008476eeda8f646d7a3949b4d6b63a07dbae6f08cd79088d53117a0794" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=9d47e809c67fc39e71548385f03fcca7faf11774">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/9d47e809c67fc39e71548385f03fcca7faf11774" class="Link--secondary">9d47e80</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-minorcleanup

Query Refactoring: Minor consistency cleanups for default values and validation</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6678acfe23bf9a10bcfaa9028a3f18c25970e0f1">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjY2NzhhY2ZlMjNiZjlhMTBiY2ZhYTkwMjhhM2YxOGMyNTk3MGUwZjEiLCJ0IjoxNzIyNDI2MDM0fQ==--827586d532a9a5b3508e66680e59705ac41513d574fa50ca8a2d230ee995386e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=6678acfe23bf9a10bcfaa9028a3f18c25970e0f1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/6678acfe23bf9a10bcfaa9028a3f18c25970e0f1" class="Link--secondary">6678acf</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/index/query/RangeQueryBuilder.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/53f6bf0625e682ebddc21ff7f3286812d9bdd76c">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjUzZjZiZjA2MjVlNjgyZWJkZGMyMWZmN2YzMjg2ODEyZDliZGQ3NmMiLCJ0IjoxNzIyNDI2MDM0fQ==--72a29169ae35702def980f48d4b1d0140342fdb94b82be76422de08514b8cb23" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=53f6bf0625e682ebddc21ff7f3286812d9bdd76c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/53f6bf0625e682ebddc21ff7f3286812d9bdd76c" class="Link--secondary">53f6bf0</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4406d236de9483a35d4e3b08be8a2558e8f99274">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjQ0MDZkMjM2ZGU5NDgzYTM1ZDRlM2IwOGJlOGEyNTU4ZThmOTkyNzQiLCJ0IjoxNzIyNDI2MDM0fQ==--633f5b14464b6322ab61faba78934a899a0ed8afd3878431cd378542025a8466" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4406d236de9483a35d4e3b08be8a2558e8f99274">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4406d236de9483a35d4e3b08be8a2558e8f99274" class="Link--secondary">4406d23</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: validate inner queries whenever supported

Added validation for all inner queries that any already refactored query may hold. Added also tests around this. At the end of the refactoring validate will be called by SearchRequest#validate during TransportSearchAction execution, which will call validate against the top level query builder that will need to go and validate its data plus all of its inner queries, and so on.

Closes #11889" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/10f80167e66901ce9b208b974d4d8ac2bdc6fa53">Query refactoring: validate inner queries whenever supported</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjEwZjgwMTY3ZTY2OTAxY2U5YjIwOGI5NzRkNGQ4YWMyYmRjNmZhNTMiLCJ0IjoxNzIyNDI2MDM0fQ==--110d22ae802d44588e464601a2c17b9bae758938fa34123e783babab81cdd33e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=10f80167e66901ce9b208b974d4d8ac2bdc6fa53">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/10f80167e66901ce9b208b974d4d8ac2bdc6fa53" class="Link--secondary">10f8016</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Added validation for all inner queries that any already refactored query may hold. Added also tests around this. At the end of the refactoring validate will be called by SearchRequest#validate during TransportSearchAction execution, which will call validate against the top level query builder that will need to go and validate its data plus all of its inner queries, and so on.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #11889.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="91254965" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11889" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11889/hovercard" href="https://github.com/elastic/elasticsearch/pull/11889">elastic#11889</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
	core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/654dc20897b0e4eb479c5dea64b3a87dc496ba4e">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjY1NGRjMjA4OTdiMGU0ZWI0NzljNWRlYTY0YjNhODdkYzQ5NmJhNGUiLCJ0IjoxNzIyNDI2MDM0fQ==--afafd17ace25984b2b01b39f5eb69373099bfebad02d90163d12f2febf8b7a1c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=654dc20897b0e4eb479c5dea64b3a87dc496ba4e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/654dc20897b0e4eb479c5dea64b3a87dc496ba4e" class="Link--secondary">654dc20</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
	core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: unify boost and query name

Following the discussion in #11744, move boost and query _name to base class AbstractQueryBuilder with their getters and setters. Unify their serialization code and equals/hashcode handling in the base class too. This guarantess that every query supports both _name and boost and nothing needs to be done around those in subclasses besides properly parsing the fields in the parsers and printing them out as part of the doXContent method in the builders. More specifically, these are the performed changes:

- Introduced printBoostAndQueryName utility method in AbstractQueryBuilder that subclasses can use to print out _name and boost in their doXContent method.

- readFrom and writeTo are now final methods that take care of _name and boost serialization. Subclasses have to implement doReadFrom and doWriteTo instead.

- toQuery is a final method too that takes care of properly applying _name and boost to the lucene query. Subclasses have to implement doToQuery instead. The query returned will have boost and queryName applied automatically.

- Removed BoostableQueryBuilder interface, given that every query is boostable after this change. This won&#39;t have any negative effect on filters, as the boost simply gets ignored in that case.

- Extended equals and hashcode to handle queryName and boost automatically as well.

- Update the query test infra so that queryName and boost are tested automatically, and whenever they are forgotten in parser or doXContent tests fail, so this makes things a lot less error-prone

- Introduced DEFAULT_BOOST constant to make sure we don&#39;t repeat 1.0f all the time for default boost values.

SpanQueryBuilder is again a marker interface only. The convenient toQuery that allowed us to override the return type to SpanQuery cannot be supported anymore due to a clash with the toQuery implementation from AbstractQueryBuilder. We have to go back to castin lucene Query to SpanQuery when dealing with span queries unfortunately.

Note that this change touches not only the already refactored queries but also the untouched ones, by making sure that we parse _name and boost whenever we need to and that we print them out as part of QueryBuilder#doXContent. This will result in printing out the default boost all the time rather than skipping it in non refactored queries, something that we would have changed anyway as part of the query refactoring.

The following are the queries that support boost now while previously they didn&#39;t (parser now parses it and builder prints it out): and, exists, fquery, geo_bounding_box, geo_distance, geo_distance_range, geo_hash_cell, geo_polygon, indices, limit, missing, not, or, script, type.

The following are the queries that support _name now while previously they didn&#39;t (parser now parses it and builder prints it out): boosting, constant_score, function_score, limit, match_all,  type.

Range query parser supports now _name at the same level as boost too (_name is still supported on the outer object though for bw comp).

There are two exceptions that despite have getters and setters for queryName and boost don&#39;t really support boost and queryName: query filter and span multi term query. The reason for this is that they only support a single inner object which is another query that they wrap, no other elements.

Relates to #11744
Closes #10776
Closes #11974" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/cab3a68cc073fd4d9b4db985a271d77a8675694a">Query refactoring: unify boost and query name</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmNhYjNhNjhjYzA3M2ZkNGQ5YjRkYjk4NWEyNzFkNzdhODY3NTY5NGEiLCJ0IjoxNzIyNDI2MDM0fQ==--bb469a6103629431a231da02ceb005869a6f7cc0eef241bb3cf9ccede9f5e262" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=cab3a68cc073fd4d9b4db985a271d77a8675694a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/cab3a68cc073fd4d9b4db985a271d77a8675694a" class="Link--secondary">cab3a68</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Following the discussion in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="89261225" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11744" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/11744/hovercard" href="https://github.com/elastic/elasticsearch/issues/11744">elastic#11744</a>, move boost and query _name to base class AbstractQueryBuilder with their getters and setters. Unify their serialization code and equals/hashcode handling in the base class too. This guarantess that every query supports both _name and boost and nothing needs to be done around those in subclasses besides properly parsing the fields in the parsers and printing them out as part of the doXContent method in the builders. More specifically, these are the performed changes:

- Introduced printBoostAndQueryName utility method in AbstractQueryBuilder that subclasses can use to print out _name and boost in their doXContent method.

- readFrom and writeTo are now final methods that take care of _name and boost serialization. Subclasses have to implement doReadFrom and doWriteTo instead.

- toQuery is a final method too that takes care of properly applying _name and boost to the lucene query. Subclasses have to implement doToQuery instead. The query returned will have boost and queryName applied automatically.

- Removed BoostableQueryBuilder interface, given that every query is boostable after this change. This won't have any negative effect on filters, as the boost simply gets ignored in that case.

- Extended equals and hashcode to handle queryName and boost automatically as well.

- Update the query test infra so that queryName and boost are tested automatically, and whenever they are forgotten in parser or doXContent tests fail, so this makes things a lot less error-prone

- Introduced DEFAULT_BOOST constant to make sure we don't repeat 1.0f all the time for default boost values.

SpanQueryBuilder is again a marker interface only. The convenient toQuery that allowed us to override the return type to SpanQuery cannot be supported anymore due to a clash with the toQuery implementation from AbstractQueryBuilder. We have to go back to castin lucene Query to SpanQuery when dealing with span queries unfortunately.

Note that this change touches not only the already refactored queries but also the untouched ones, by making sure that we parse _name and boost whenever we need to and that we print them out as part of QueryBuilder#doXContent. This will result in printing out the default boost all the time rather than skipping it in non refactored queries, something that we would have changed anyway as part of the query refactoring.

The following are the queries that support boost now while previously they didn't (parser now parses it and builder prints it out): and, exists, fquery, geo_bounding_box, geo_distance, geo_distance_range, geo_hash_cell, geo_polygon, indices, limit, missing, not, or, script, type.

The following are the queries that support _name now while previously they didn't (parser now parses it and builder prints it out): boosting, constant_score, function_score, limit, match_all,  type.

Range query parser supports now _name at the same level as boost too (_name is still supported on the outer object though for bw comp).

There are two exceptions that despite have getters and setters for queryName and boost don't really support boost and queryName: query filter and span multi term query. The reason for this is that they only support a single inner object which is another query that they wrap, no other elements.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="89261225" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11744" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/11744/hovercard" href="https://github.com/elastic/elasticsearch/issues/11744">elastic#11744</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes issue #10776.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="70659883" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10776" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10776/hovercard" href="https://github.com/elastic/elasticsearch/issues/10776">elastic#10776</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #11974.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="92369914" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11974" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11974/hovercard" href="https://github.com/elastic/elasticsearch/pull/11974">elastic#11974</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Simple query string: minor changes" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/24b2614b3648d5eac8ec7f83cc828472da836481">Simple query string: minor changes</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI0YjI2MTRiMzY0OGQ1ZWFjOGVjN2Y4M2NjODI4NDcyZGE4MzY0ODEiLCJ0IjoxNzIyNDI2MDM0fQ==--3fe1bd2d8429e1e3964ae3e421c481aea66b0d9ea5c76ac0bafc0ef323ea9c5b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=24b2614b3648d5eac8ec7f83cc828472da836481">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/24b2614b3648d5eac8ec7f83cc828472da836481" class="Link--secondary">24b2614</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] assign flags in SimpleQueryStringBuilderTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4b071f8d2c2bbca6b7067bce502634079c8fada8">[TEST] assign flags in SimpleQueryStringBuilderTest</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRiMDcxZjhkMmMyYmJjYTZiNzA2N2JjZTUwMjYzNDA3OWM4ZmFkYTgiLCJ0IjoxNzIyNDI2MDM0fQ==--2433dddf9741ae6b6f80671fce58139ea30c66d5a4bb3c5c8a036cdaf369fd0e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4b071f8d2c2bbca6b7067bce502634079c8fada8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4b071f8d2c2bbca6b7067bce502634079c8fada8" class="Link--secondary">4b071f8</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d7187238a21cdf5aaee75e2820855893a36a7e16">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ3MTg3MjM4YTIxY2RmNWFhZWU3NWUyODIwODU1ODkzYTM2YTdlMTYiLCJ0IjoxNzIyNDI2MDM0fQ==--2ac0f4f45b4c9bf2695f97cf6b902e9de50cce381dfa8886944343e088b45f2e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d7187238a21cdf5aaee75e2820855893a36a7e16">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d7187238a21cdf5aaee75e2820855893a36a7e16" class="Link--secondary">d718723</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="adapt changes from upstream" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/912e2ee69e0698175792be644e13a4c85859b8b5">adapt changes from upstream</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkxMmUyZWU2OWUwNjk4MTc1NzkyYmU2NDRlMTNhNGM4NTg1OWI4YjUiLCJ0IjoxNzIyNDI2MDM0fQ==--ff5051cb67d1dc417f6d86eb9f95c895c057aab78ec59ae5f1b3d598aa56b020" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=912e2ee69e0698175792be644e13a4c85859b8b5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/912e2ee69e0698175792be644e13a4c85859b8b5" class="Link--secondary">912e2ee</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] fix lucene query comparison in RangeQueryBuilderTest

The expected query needs to use BytesRef to represent the from and to, otherwise we try to compare BytesRef with String and that returns false." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/88e3d6c4bc27433e793cec349f532b44421cbe16">[TEST] fix lucene query comparison in RangeQueryBuilderTest</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg4ZTNkNmM0YmMyNzQzM2U3OTNjZWMzNDlmNTMyYjQ0NDIxY2JlMTYiLCJ0IjoxNzIyNDI2MDM0fQ==--878c4798dd674ca7b84605e7816d7e7fc016c08b7dacf0e6b7db07f100f44699" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=88e3d6c4bc27433e793cec349f532b44421cbe16">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/88e3d6c4bc27433e793cec349f532b44421cbe16" class="Link--secondary">88e3d6c</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">The expected query needs to use BytesRef to represent the from and to, otherwise we try to compare BytesRef with String and that returns false.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/63530631f9fe1f63b9677af61019639bd8cb78cf">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYzNTMwNjMxZjlmZTFmNjNiOTY3N2FmNjEwMTk2MzliZDhjYjc4Y2YiLCJ0IjoxNzIyNDI2MDM0fQ==--804006e5b4f8aa53b026e0c5735bae36f269c2d954514f0645db3316ef3d5e90" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=63530631f9fe1f63b9677af61019639bd8cb78cf">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/63530631f9fe1f63b9677af61019639bd8cb78cf" class="Link--secondary">6353063</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/ConstantScoreQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Make sure that parsing nested queries always returns an query builder

Currently parsing inner queries can return `null` which leads to unnecessary complicated
null checks further up the query hierarchy. By introducing a special EmptyQueryBuilder
that can be used to signal that this query clause should be ignored upstream where possible,
we can avoid additional null checks in parent query builders and still allow for this query
to be ignored when creating the lucene query later.

This new builder returns `null` when calling its `toQuery()` method, so at this point
we still need to handle it, but having an explicit object for the intermediate query
representation makes it easier to differentiate between cases where inner query clauses are
empty (legal) or are not set at all (illegal).

Also added check for empty inner builder list to BoolQueryBuilder and OrQueryBuilder.
Removed setters for positive/negatice query in favour of constructor with
mandatory non-null arguments in BoostingQueryBuilder.

Closes #11915" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c51cfbb6d0729a1e6075db45b756ae96b7f9aeb1">Query Refactoring: Make sure that parsing nested queries always retur…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM1MWNmYmI2ZDA3MjlhMWU2MDc1ZGI0NWI3NTZhZTk2YjdmOWFlYjEiLCJ0IjoxNzIyNDI2MDM0fQ==--7d73b6d74b76fd20f625c8bbfeefea76cee8b465c6de0027a952ef8d82000ccd" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c51cfbb6d0729a1e6075db45b756ae96b7f9aeb1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c51cfbb6d0729a1e6075db45b756ae96b7f9aeb1" class="Link--secondary">c51cfbb</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ns an query builder

Currently parsing inner queries can return `null` which leads to unnecessary complicated
null checks further up the query hierarchy. By introducing a special EmptyQueryBuilder
that can be used to signal that this query clause should be ignored upstream where possible,
we can avoid additional null checks in parent query builders and still allow for this query
to be ignored when creating the lucene query later.

This new builder returns `null` when calling its `toQuery()` method, so at this point
we still need to handle it, but having an explicit object for the intermediate query
representation makes it easier to differentiate between cases where inner query clauses are
empty (legal) or are not set at all (illegal).

Also added check for empty inner builder list to BoolQueryBuilder and OrQueryBuilder.
Removed setters for positive/negatice query in favour of constructor with
mandatory non-null arguments in BoostingQueryBuilder.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #11915.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="91824522" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11915" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11915/hovercard" href="https://github.com/elastic/elasticsearch/pull/11915">elastic#11915</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #11915 from cbuescher/feature/query-refactoring-emptyquerybuilder

Query Refactoring: Make parsing nested queries always return query builder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/faa4e98aa5ffc3abe5e8ea2542c6d7273b1a857a">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="91824522" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11915" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11915/hovercard" href="https://github.com/elastic/elasticsearch/pull/11915">elastic#11915</a> <a title="Merge pull request #11915 from cbuescher/feature/query-refactoring-emptyquerybuilder

Query Refactoring: Make parsing nested queries always return query builder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/faa4e98aa5ffc3abe5e8ea2542c6d7273b1a857a">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZhYTRlOThhYTVmZmMzYWJlNWU4ZWEyNTQyYzZkNzI3M2IxYTg1N2EiLCJ0IjoxNzIyNDI2MDM0fQ==--fde1e55e73a395c7b7554d68b9cea08758b4a2ccf03972464fea05a74cc801b2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=faa4e98aa5ffc3abe5e8ea2542c6d7273b1a857a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/faa4e98aa5ffc3abe5e8ea2542c6d7273b1a857a" class="Link--secondary">faa4e98</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-emptyquerybuilder

Query Refactoring: Make parsing nested queries always return query builder</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d225a8f56c4445228d8b1fb7d50e4f9fd5a0f8d1">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQyMjVhOGY1NmM0NDQ1MjI4ZDhiMWZiN2Q1MGU0ZjlmZDVhMGY4ZDEiLCJ0IjoxNzIyNDI2MDM0fQ==--d69d03e031ea4a11072e6c9fb3a4e10ac564908317e2d27e9acafadc567a663b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d225a8f56c4445228d8b1fb7d50e4f9fd5a0f8d1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d225a8f56c4445228d8b1fb7d50e4f9fd5a0f8d1" class="Link--secondary">d225a8f</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="BoolQueryBuilder#hasClauses to take into account filterClauses too" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/60fa8908d8ab901de4537bfb14e4d12fbeb2facb">BoolQueryBuilder#hasClauses to take into account filterClauses too</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYwZmE4OTA4ZDhhYjkwMWRlNDUzN2JmYjE0ZTRkMTJmYmViMmZhY2IiLCJ0IjoxNzIyNDI2MDM0fQ==--33a2f75493e362277b59b126bc67c8db899a1809e6fcc875266c42768d16cdc5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=60fa8908d8ab901de4537bfb14e4d12fbeb2facb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/60fa8908d8ab901de4537bfb14e4d12fbeb2facb" class="Link--secondary">60fa890</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/e2da4eb732776157b10616d2809b5bed36b8f233">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmUyZGE0ZWI3MzI3NzYxNTdiMTA2MTZkMjgwOWI1YmVkMzZiOGYyMzMiLCJ0IjoxNzIyNDI2MDM0fQ==--811e3a744dff2cc52c4650f40235693716e05deb3761de62618c55d820ea7003" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=e2da4eb732776157b10616d2809b5bed36b8f233">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/e2da4eb732776157b10616d2809b5bed36b8f233" class="Link--secondary">e2da4eb</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanContainingQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4dd59da997a1b5e8ee22f9338462a28d071905f7">Query refactoring: SpanContainingQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRkZDU5ZGE5OTdhMWI1ZThlZTIyZjkzMzg0NjJhMjhkMDcxOTA1ZjciLCJ0IjoxNzIyNDI2MDM0fQ==--3b489855628a88557d596a6579ee981529ff0f9636d83f687d4956926d5ca318" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4dd59da997a1b5e8ee22f9338462a28d071905f7">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4dd59da997a1b5e8ee22f9338462a28d071905f7" class="Link--secondary">4dd59da</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Changed creation of test query" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/9897a5a6e7eb1f56c7705e91d9a942a5c6c9d48d">Changed creation of test query</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk4OTdhNWE2ZTdlYjFmNTZjNzcwNWU5MWQ5YTk0MmE1YzZjOWQ0OGQiLCJ0IjoxNzIyNDI2MDM0fQ==--9e9a4f80d9bb12ade2a1950f2a91fcdeaa7fac197b93f9e325e3f29f48e94880" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=9897a5a6e7eb1f56c7705e91d9a942a5c6c9d48d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/9897a5a6e7eb1f56c7705e91d9a942a5c6c9d48d" class="Link--secondary">9897a5a</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12057 from cbuescher/feature/query-refactoring-spancontaining

Query refactoring: SpanContainingQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6c023010328e8838ee3c097e818a09dbbbcf8e49">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93307561" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12057" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12057/hovercard" href="https://github.com/elastic/elasticsearch/pull/12057">elastic#12057</a> <a title="Merge pull request #12057 from cbuescher/feature/query-refactoring-spancontaining

Query refactoring: SpanContainingQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6c023010328e8838ee3c097e818a09dbbbcf8e49">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjZjMDIzMDEwMzI4ZTg4MzhlZTNjMDk3ZTgxOGEwOWRiYmJjZjhlNDkiLCJ0IjoxNzIyNDI2MDM0fQ==--0efa1c7f6a0dbd177adbbb67a765829fa8aa97278b6c2e889ed6ca4f3327318d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=6c023010328e8838ee3c097e818a09dbbbcf8e49">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/6c023010328e8838ee3c097e818a09dbbbcf8e49" class="Link--secondary">6c02301</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spancontaining

Query refactoring: SpanContainingQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanFirstQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/53db46b560f28e6662a8f69dac681a9ddac36f18">Query refactoring: SpanFirstQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjUzZGI0NmI1NjBmMjhlNjY2MmE4ZjY5ZGFjNjgxYTlkZGFjMzZmMTgiLCJ0IjoxNzIyNDI2MDM0fQ==--9ab39fd500605b72fc15081d74900320a841c7e3bb499f630e5f5ebf3816384d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=53db46b560f28e6662a8f69dac681a9ddac36f18">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/53db46b560f28e6662a8f69dac681a9ddac36f18" class="Link--secondary">53db46b</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Make EmptyQueryBuilder implement QueryBuilder directly

By extending AbstractQueryBuilder, EmptyQueryBuilder had setters for boost and
queryname which defeats its original purpose of beeing a stand-in
singleton for empty queries. By directly implementing QueryBuilder (and
temporarily also extending ToXContentToBytes) this is prevented" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/51a27ab082e426590df79be97d4a9ee338452b03">Query Refactoring: Make EmptyQueryBuilder implement QueryBuilder dire…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjUxYTI3YWIwODJlNDI2NTkwZGY3OWJlOTdkNGE5ZWUzMzg0NTJiMDMiLCJ0IjoxNzIyNDI2MDM0fQ==--e63fbb820b3c8f9ca8b965842ee40100d57140b266d13af486600d2aac09faaa" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=51a27ab082e426590df79be97d4a9ee338452b03">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/51a27ab082e426590df79be97d4a9ee338452b03" class="Link--secondary">51a27ab</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ctly

By extending AbstractQueryBuilder, EmptyQueryBuilder had setters for boost and
queryname which defeats its original purpose of beeing a stand-in
singleton for empty queries. By directly implementing QueryBuilder (and
temporarily also extending ToXContentToBytes) this is prevented</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12072 from cbuescher/feature/query-refactoring-fixemptyqb

Query Refactoring: Make EmptyQueryBuilder implement QueryBuilder directly" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ecba81a856729986e48f3c95b1f632867ac37ea8">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93479809" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12072" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12072/hovercard" href="https://github.com/elastic/elasticsearch/pull/12072">elastic#12072</a> <a title="Merge pull request #12072 from cbuescher/feature/query-refactoring-fixemptyqb

Query Refactoring: Make EmptyQueryBuilder implement QueryBuilder directly" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ecba81a856729986e48f3c95b1f632867ac37ea8">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmVjYmE4MWE4NTY3Mjk5ODZlNDhmM2M5NWIxZjYzMjg2N2FjMzdlYTgiLCJ0IjoxNzIyNDI2MDM0fQ==--f0b7c13c144b70ed4e992f65887db7bd661cd836150b07a1383bd0cdbd795ae9" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=ecba81a856729986e48f3c95b1f632867ac37ea8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/ecba81a856729986e48f3c95b1f632867ac37ea8" class="Link--secondary">ecba81a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-fixemptyqb

Query Refactoring: Make EmptyQueryBuilder implement QueryBuilder directly</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12073 from cbuescher/feature/query-refactoring-spanfirst

Query refactoring: SpanFirstQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d8e56e9a6da391bf49ef90c22eab6aae059be4cb">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93479996" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12073" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12073/hovercard" href="https://github.com/elastic/elasticsearch/pull/12073">elastic#12073</a> <a title="Merge pull request #12073 from cbuescher/feature/query-refactoring-spanfirst

Query refactoring: SpanFirstQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d8e56e9a6da391bf49ef90c22eab6aae059be4cb">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ4ZTU2ZTlhNmRhMzkxYmY0OWVmOTBjMjJlYWI2YWFlMDU5YmU0Y2IiLCJ0IjoxNzIyNDI2MDM0fQ==--59aea7a24d45005c1b4b08b141b2495d54e5838c442ba31b21f87691f1972ecf" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d8e56e9a6da391bf49ef90c22eab6aae059be4cb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d8e56e9a6da391bf49ef90c22eab6aae059be4cb" class="Link--secondary">d8e56e9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spanfirst

Query refactoring: SpanFirstQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>  </div>
</div>


</div>


  <div id="js-progressive-timeline-item-container">
    <!-- '"` --><!-- </textarea></xmp> -->

      <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDpkZTI3N2Q5OWQ5OGMyODI2OWU1ZDdkMjM5OWEyNDFiYzdlY2ZhODg1">
  
        <div>
    <div id="commits-pushed-de277d9" data-view-component="true" class="TimelineItem pb-1">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-push">
    <path d="M1 2.5A2.5 2.5 0 0 1 3.5 0h8.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V1.5h-8a1 1 0 0 0-1 1v6.708A2.493 2.493 0 0 1 3.5 9h3.25a.75.75 0 0 1 0 1.5H3.5a1 1 0 0 0 0 2h5.75a.75.75 0 0 1 0 1.5H3.5A2.5 2.5 0 0 1 1 11.5Zm13.23 7.79h-.001l-1.224-1.224v6.184a.75.75 0 0 1-1.5 0V9.066L10.28 10.29a.75.75 0 0 1-1.06-1.061l2.505-2.504a.75.75 0 0 1 1.06 0L15.29 9.23a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <a class="author Link--primary text-bold" data-test-selector="pr-timeline-events-commit-actor-profile-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">alexksikes</a>
  
<span>and others</span>
        added <span>60</span> commits
        <a href="https://github.com/elastic/elasticsearch/pull/13788#commits-pushed-de277d9" data-view-component="true" class="Link--inTextBlock Link--secondary Link">
          <relative-time tense="past" datetime="2015-07-07T20:58:16+02:00" data-view-component="true" title="Jul 7, 2015, 8:58 PM GMT+2"><template shadowrootmode="open">9 years ago</template>July 7, 2015 20:58</relative-time>
</a></div>
</div>  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Make MultiTermQueryBuilder an interface again

This PR is against the query-refactoring branch.

Closes #12074" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/de277d99d98c28269e5d7d2399a241bc7ecfa885">Make MultiTermQueryBuilder an interface again</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRlMjc3ZDk5ZDk4YzI4MjY5ZTVkN2QyMzk5YTI0MWJjN2VjZmE4ODUiLCJ0IjoxNzIyNDI2MDc2fQ==--2fb0bc4c2399f63fb0ffe8ae5cc668870d7fa605b6f78869feb3044362e28f7c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=de277d99d98c28269e5d7d2399a241bc7ecfa885">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/de277d99d98c28269e5d7d2399a241bc7ecfa885" class="Link--secondary">de277d9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12074.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93483080" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12074" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12074/hovercard" href="https://github.com/elastic/elasticsearch/pull/12074">elastic#12074</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Separates JSON parsing from Lucene query creation, adds support for streaming, hashCode and equals as well as unit tests.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/0202c99e50ba2e85d6eeb14bdc1f4b15481288b2">Separates JSON parsing from Lucene query creation, adds support for s…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjAyMDJjOTllNTBiYTJlODVkNmVlYjE0YmRjMWY0YjE1NDgxMjg4YjIiLCJ0IjoxNzIyNDI2MDc2fQ==--92b32dba9ef8d3716258adc1224954469036d03c411b086e07f5832264af3d8a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=0202c99e50ba2e85d6eeb14bdc1f4b15481288b2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/0202c99e50ba2e85d6eeb14bdc1f4b15481288b2" class="Link--secondary">0202c99</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…treaming, hashCode and equals as well as unit tests.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #11885 from MaineC/feature/filter-query-builder-refactoring

Refactors FilteredQueryBuilder.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a0cccec86f949408b516668c056e3fb5ebf72d34">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="91187392" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11885" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11885/hovercard" href="https://github.com/elastic/elasticsearch/pull/11885">elastic#11885</a> <a title="Merge pull request #11885 from MaineC/feature/filter-query-builder-refactoring

Refactors FilteredQueryBuilder.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a0cccec86f949408b516668c056e3fb5ebf72d34">from MaineC/feature/filter-query-bui…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmEwY2NjZWM4NmY5NDk0MDhiNTE2NjY4YzA1NmUzZmI1ZWJmNzJkMzQiLCJ0IjoxNzIyNDI2MDc2fQ==--c880ff70506123b0532e4c5217ee9507ae403d15041d5ee7bf0595405c04731a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a0cccec86f949408b516668c056e3fb5ebf72d34">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a0cccec86f949408b516668c056e3fb5ebf72d34" class="Link--secondary">a0cccec</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…lder-refactoring

Refactors FilteredQueryBuilder.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/fc1b178dc4b844070f29074ce27f8bc348a9499f">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZjMWIxNzhkYzRiODQ0MDcwZjI5MDc0Y2UyN2Y4YmMzNDhhOTQ5OWYiLCJ0IjoxNzIyNDI2MDc2fQ==--2b2aaaa5954699db6044591fe1d113fe6bbe0066353bb3252d581bb68737a866" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=fc1b178dc4b844070f29074ce27f8bc348a9499f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/fc1b178dc4b844070f29074ce27f8bc348a9499f" class="Link--secondary">fc1b178</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/index/query/FuzzyQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/FuzzyQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Replacing now unsupported dot-notation in object field mappings in base test setup

We still want one mapping with an object with two inner fields for e.g. testing one
code path in ExistsQueryBuilder. Using the dot notation for field names was
forbidden with recent changes from master coming in." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6c79569caef4ec6de992b4a6997b86ddbeb15662">Replacing now unsupported dot-notation in object field mappings in ba…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjZjNzk1NjljYWVmNGVjNmRlOTkyYjRhNjk5N2I4NmRkYmViMTU2NjIiLCJ0IjoxNzIyNDI2MDc2fQ==--7510ba734c338ff53326c5b7a15648faaeb2fb2aa14c07216812118e70d803d6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=6c79569caef4ec6de992b4a6997b86ddbeb15662">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/6c79569caef4ec6de992b4a6997b86ddbeb15662" class="Link--secondary">6c79569</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…se test setup

We still want one mapping with an object with two inner fields for e.g. testing one
code path in ExistsQueryBuilder. Using the dot notation for field names was
forbidden with recent changes from master coming in.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanNearQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c689e891d9ea53dca32bbb1e76501d8883c44043">Query refactoring: SpanNearQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM2ODllODkxZDllYTUzZGNhMzJiYmIxZTc2NTAxZDg4ODNjNDQwNDMiLCJ0IjoxNzIyNDI2MDc2fQ==--76c22040f4ff45c16b309496575d171293d596b262c2698c573710bcf7aaaa7c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c689e891d9ea53dca32bbb1e76501d8883c44043">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c689e891d9ea53dca32bbb1e76501d8883c44043" class="Link--secondary">c689e89</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12156 from cbuescher/feature/query-refactoring-spannear

Query refactoring: SpanNearQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/76e9a171534fd8ea681328a3e5494bff03864cef">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="94058229" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12156" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12156/hovercard" href="https://github.com/elastic/elasticsearch/pull/12156">elastic#12156</a> <a title="Merge pull request #12156 from cbuescher/feature/query-refactoring-spannear

Query refactoring: SpanNearQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/76e9a171534fd8ea681328a3e5494bff03864cef">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc2ZTlhMTcxNTM0ZmQ4ZWE2ODEzMjhhM2U1NDk0YmZmMDM4NjRjZWYiLCJ0IjoxNzIyNDI2MDc2fQ==--065230a3698b4996ee9668bdc0c137dbed8e2e864a99046c02ddfe9208362f67" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=76e9a171534fd8ea681328a3e5494bff03864cef">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/76e9a171534fd8ea681328a3e5494bff03864cef" class="Link--secondary">76e9a17</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spannear

Query refactoring: SpanNearQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dda11e16a717dc1cbeb6a2dce909d66c3df5133d">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRkYTExZTE2YTcxN2RjMWNiZWI2YTJkY2U5MDlkNjZjM2RmNTEzM2QiLCJ0IjoxNzIyNDI2MDc2fQ==--10d2e0529e696043ec35bac83c5227388639eef4fd667396e938ce790ed78851" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=dda11e16a717dc1cbeb6a2dce909d66c3df5133d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/dda11e16a717dc1cbeb6a2dce909d66c3df5133d" class="Link--secondary">dda11e1</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Adapt to changed method name" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ac92ad627067b4a8816e2efbcce89a2e8ecca689">Adapt to changed method name</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmFjOTJhZDYyNzA2N2I0YTg4MTZlMmVmYmNjZTg5YTJlOGVjY2E2ODkiLCJ0IjoxNzIyNDI2MDc2fQ==--1dbdee96fb09003b391453f4aaec82e4b4887a08f3f1c2aa4f35985664e955b5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=ac92ad627067b4a8816e2efbcce89a2e8ecca689">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/ac92ad627067b4a8816e2efbcce89a2e8ecca689" class="Link--secondary">ac92ad6</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c0490215c7dcc48a042e712aaaa851754bc03df2">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmMwNDkwMjE1YzdkY2M0OGEwNDJlNzEyYWFhYTg1MTc1NGJjMDNkZjIiLCJ0IjoxNzIyNDI2MDc2fQ==--266d7201e6979f4113b5929ba881ddde315ae9f64191b6bd7fdbb015c0ac2e9d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c0490215c7dcc48a042e712aaaa851754bc03df2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c0490215c7dcc48a042e712aaaa851754bc03df2" class="Link--secondary">c049021</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7540ad5d507911bfdb036f7d8ba1d6e1a4f71dc3">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc1NDBhZDVkNTA3OTExYmZkYjAzNmY3ZDhiYTFkNmUxYTRmNzFkYzMiLCJ0IjoxNzIyNDI2MDc2fQ==--73a9a3b7f5128f7405daafc803f00cf118b3d56c31843da531ed1020b071eddf" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7540ad5d507911bfdb036f7d8ba1d6e1a4f71dc3">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7540ad5d507911bfdb036f7d8ba1d6e1a4f71dc3" class="Link--secondary">7540ad5</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/37cdc1344ab6e6a1d7eb891703a2a0dac1bfe2a7">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM3Y2RjMTM0NGFiNmU2YTFkN2ViODkxNzAzYTJhMGRhYzFiZmUyYTciLCJ0IjoxNzIyNDI2MDc2fQ==--85f99f19d44144aa12b394195c44e0c125896ebb5881bb3640c94642f45af723" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=37cdc1344ab6e6a1d7eb891703a2a0dac1bfe2a7">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/37cdc1344ab6e6a1d7eb891703a2a0dac1bfe2a7" class="Link--secondary">37cdc13</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanMultiTermQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #12182" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/966c02b1ac441381b426bcd63835570ea36493f8">Query refactoring: SpanMultiTermQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk2NmMwMmIxYWM0NDEzODFiNDI2YmNkNjM4MzU1NzBlYTM2NDkzZjgiLCJ0IjoxNzIyNDI2MDc2fQ==--5e7cb74286a1456d7ab3f492c96b7acce32195f793a0876c8028f5eb03e047ad" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=966c02b1ac441381b426bcd63835570ea36493f8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/966c02b1ac441381b426bcd63835570ea36493f8" class="Link--secondary">966c02b</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12182.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="94305462" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12182" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12182/hovercard" href="https://github.com/elastic/elasticsearch/pull/12182">elastic#12182</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12182 from cbuescher/feature/query-refactoring-spanmultiterm

Query refactoring: SpanMultiTermQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1a09633a624d6f6a1a2885a17e03e45b62f76141">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="94305462" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12182" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12182/hovercard" href="https://github.com/elastic/elasticsearch/pull/12182">elastic#12182</a> <a title="Merge pull request #12182 from cbuescher/feature/query-refactoring-spanmultiterm

Query refactoring: SpanMultiTermQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1a09633a624d6f6a1a2885a17e03e45b62f76141">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFhMDk2MzNhNjI0ZDZmNmExYTI4ODVhMTdlMDNlNDViNjJmNzYxNDEiLCJ0IjoxNzIyNDI2MDc2fQ==--3072fc87888304cf6e348d3bfb04368000914b23e8fc82d541ea56aaf2fa098d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1a09633a624d6f6a1a2885a17e03e45b62f76141">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1a09633a624d6f6a1a2885a17e03e45b62f76141" class="Link--secondary">1a09633</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spanmultiterm

Query refactoring: SpanMultiTermQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/22dcc77062e93df509544775ba8d03a2936f097f">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjIyZGNjNzcwNjJlOTNkZjUwOTU0NDc3NWJhOGQwM2EyOTM2ZjA5N2YiLCJ0IjoxNzIyNDI2MDc2fQ==--40f388f2146b4ae8f1059672ae53f5ab25cf6aa99d07c7e9e5f1714bbbf9cae2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=22dcc77062e93df509544775ba8d03a2936f097f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/22dcc77062e93df509544775ba8d03a2936f097f" class="Link--secondary">22dcc77</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanNotQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new doToQuery() method analogous to other recent query refactorings.

Relates to #10217
Closes #12365" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7f88cc596b2b94aa8cc3cce34342ec8a6781e513">Query refactoring: SpanNotQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjdmODhjYzU5NmIyYjk0YWE4Y2MzY2NlMzQzNDJlYzhhNjc4MWU1MTMiLCJ0IjoxNzIyNDI2MDc2fQ==--ffabc7bddc33f2658089164b7660d7d92aeab58b665461abe399b79a5aa92b7a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7f88cc596b2b94aa8cc3cce34342ec8a6781e513">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7f88cc596b2b94aa8cc3cce34342ec8a6781e513" class="Link--secondary">7f88cc5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new doToQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12365.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="96278440" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12365" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12365/hovercard" href="https://github.com/elastic/elasticsearch/pull/12365">elastic#12365</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12365 from cbuescher/feature/query-refactoring-spannot

Query refactoring: SpanNotQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/83fe825eebb7ea41c50716fa92387acd84bead43">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="96278440" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12365" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12365/hovercard" href="https://github.com/elastic/elasticsearch/pull/12365">elastic#12365</a> <a title="Merge pull request #12365 from cbuescher/feature/query-refactoring-spannot

Query refactoring: SpanNotQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/83fe825eebb7ea41c50716fa92387acd84bead43">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjgzZmU4MjVlZWJiN2VhNDFjNTA3MTZmYTkyMzg3YWNkODRiZWFkNDMiLCJ0IjoxNzIyNDI2MDc2fQ==--345b518af449f6490a9fc5f5f1ac54ecc7040482efe3d57454e2ed59ab841f0b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=83fe825eebb7ea41c50716fa92387acd84bead43">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/83fe825eebb7ea41c50716fa92387acd84bead43" class="Link--secondary">83fe825</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spannot

Query refactoring: SpanNotQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fix edge case for SpanMultiTermQueryBuilderTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/e11e75e3ec9f7d7bd3375146f237c949264bc0b9">Fix edge case for SpanMultiTermQueryBuilderTest</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmUxMWU3NWUzZWM5ZjdkN2JkMzM3NTE0NmYyMzdjOTQ5MjY0YmMwYjkiLCJ0IjoxNzIyNDI2MDc2fQ==--14116865181eaa6e7343581dfb6c7c2a1675825c3eb4d0bcf0edad1212f15b9b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=e11e75e3ec9f7d7bd3375146f237c949264bc0b9">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/e11e75e3ec9f7d7bd3375146f237c949264bc0b9" class="Link--secondary">e11e75e</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanWithinQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/fc1b5a993e7ba9a1a151b72c373f6cb876b539af">Query refactoring: SpanWithinQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZjMWI1YTk5M2U3YmE5YTFhMTUxYjcyYzM3M2Y2Y2I4NzZiNTM5YWYiLCJ0IjoxNzIyNDI2MDc2fQ==--41913939592ac324b80572831e7da7a1ac9d343bb4a0ae6725eec6f0ceaa82b1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=fc1b5a993e7ba9a1a151b72c373f6cb876b539af">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/fc1b5a993e7ba9a1a151b72c373f6cb876b539af" class="Link--secondary">fc1b5a9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12396 from cbuescher/feature/query-refactoring-spanwithin

Query refactoring: SpanWithinQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/82555fd5f9605aad231e533df7d332966ae434e5">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="96562185" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12396" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12396/hovercard" href="https://github.com/elastic/elasticsearch/pull/12396">elastic#12396</a> <a title="Merge pull request #12396 from cbuescher/feature/query-refactoring-spanwithin

Query refactoring: SpanWithinQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/82555fd5f9605aad231e533df7d332966ae434e5">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjgyNTU1ZmQ1Zjk2MDVhYWQyMzFlNTMzZGY3ZDMzMjk2NmFlNDM0ZTUiLCJ0IjoxNzIyNDI2MDc2fQ==--06ce0306031f66b09d60bf7c2824f127999061568cd8117f67496d491f6e9410" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=82555fd5f9605aad231e533df7d332966ae434e5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/82555fd5f9605aad231e533df7d332966ae434e5" class="Link--secondary">82555fd</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spanwithin

Query refactoring: SpanWithinQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: SpanNearQueryBuilder and Parser

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/885b258871b678684910a11e7f4adcd1a69ad34b">Query refactoring: SpanNearQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg4NWIyNTg4NzFiNjc4Njg0OTEwYTExZTdmNGFkY2QxYTY5YWQzNGIiLCJ0IjoxNzIyNDI2MDc2fQ==--7e90a29e466bf6845e729cac56e8fcf38d90b1280c24a4e0c9489ab825a37e70" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=885b258871b678684910a11e7f4adcd1a69ad34b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/885b258871b678684910a11e7f4adcd1a69ad34b" class="Link--secondary">885b258</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Added comments, some simplification to test" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/0135b68cec3f5d42dcd207c54ab5c72983442d83">Added comments, some simplification to test</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjAxMzViNjhjZWMzZjVkNDJkY2QyMDdjNTRhYjVjNzI5ODM0NDJkODMiLCJ0IjoxNzIyNDI2MDc2fQ==--45e9114cb41e22ca9d3180677e3e4559a25f23b9a5611e36e7e22fa59f30e4cc" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=0135b68cec3f5d42dcd207c54ab5c72983442d83">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/0135b68cec3f5d42dcd207c54ab5c72983442d83" class="Link--secondary">0135b68</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove empty check in doXContent, parser or validate will take care of this" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/afe4fb4a27ecae578d78b89fe07fbb7f692222be">Remove empty check in doXContent, parser or validate will take care o…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmFmZTRmYjRhMjdlY2FlNTc4ZDc4Yjg5ZmUwN2ZiYjdmNjkyMjIyYmUiLCJ0IjoxNzIyNDI2MDc2fQ==--d26323deca0ecdb95fd65a4f9fc639b5a47367c8c565c906f7c48c808e9498dc" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=afe4fb4a27ecae578d78b89fe07fbb7f692222be">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/afe4fb4a27ecae578d78b89fe07fbb7f692222be" class="Link--secondary">afe4fb4</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…f this</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Adding utility method to SpanTermQueryBuilderTest that outputs certain amount of queries with same fieldname" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8e20536f0f9384c653865ceaa9c3f7cd8c50d1b4">Adding utility method to SpanTermQueryBuilderTest that outputs certai…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjhlMjA1MzZmMGY5Mzg0YzY1Mzg2NWNlYWE5YzNmN2NkOGM1MGQxYjQiLCJ0IjoxNzIyNDI2MDc2fQ==--fef8827e49edb76801598dce130ad230e09b6aab659098c3b21d89928414798d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8e20536f0f9384c653865ceaa9c3f7cd8c50d1b4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8e20536f0f9384c653865ceaa9c3f7cd8c50d1b4" class="Link--secondary">8e20536</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…n amount of queries with same fieldname</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2b675ccf037fabea89439d10e17a63a90a6fdafd">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjJiNjc1Y2NmMDM3ZmFiZWE4OTQzOWQxMGUxN2E2M2E5MGE2ZmRhZmQiLCJ0IjoxNzIyNDI2MDc2fQ==--1f6eae12204ce0a1f73621e64ad44731b502d2472f40f12c337ad0016e9b9f28" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2b675ccf037fabea89439d10e17a63a90a6fdafd">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2b675ccf037fabea89439d10e17a63a90a6fdafd" class="Link--secondary">2b675cc</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12342 from cbuescher/feature/query-refactoring-spanor

Query refactoring: SpanOrQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/026fd3843deb2e4759e793e17ece025971b579e1">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="96072963" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12342" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12342/hovercard" href="https://github.com/elastic/elasticsearch/pull/12342">elastic#12342</a> <a title="Merge pull request #12342 from cbuescher/feature/query-refactoring-spanor

Query refactoring: SpanOrQueryBuilder and Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/026fd3843deb2e4759e793e17ece025971b579e1">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjAyNmZkMzg0M2RlYjJlNDc1OWU3OTNlMTdlY2UwMjU5NzFiNTc5ZTEiLCJ0IjoxNzIyNDI2MDc2fQ==--e14a89140d06901f68e050a70c4032eddef70f7438154b47ad2ad29a92afe1e2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=026fd3843deb2e4759e793e17ece025971b579e1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/026fd3843deb2e4759e793e17ece025971b579e1" class="Link--secondary">026fd38</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-spanor

Query refactoring: SpanOrQueryBuilder and Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactoring of RegexpQuery

Relates to #10217
Closes #11896

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/93674b8b1b9fed1427e62eb96438938294a6317c">Refactoring of RegexpQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkzNjc0YjhiMWI5ZmVkMTQyN2U2MmViOTY0Mzg5MzgyOTRhNjMxN2MiLCJ0IjoxNzIyNDI2MDc2fQ==--45d228fe0f40820a8cfb0040de4c960c8f94aa617198b714fda1a9a11d0bd01c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=93674b8b1b9fed1427e62eb96438938294a6317c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/93674b8b1b9fed1427e62eb96438938294a6317c" class="Link--secondary">93674b8</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #11896.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="91330757" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11896" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11896/hovercard" href="https://github.com/elastic/elasticsearch/pull/11896">elastic#11896</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactoring of MissingQuery

Relates to #10217
Closes #12030

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a4e9f642c26f932717be4bcc4c8df80d7ed3ddd2">Refactoring of MissingQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmE0ZTlmNjQyYzI2ZjkzMjcxN2JlNGJjYzRjOGRmODBkN2VkM2RkZDIiLCJ0IjoxNzIyNDI2MDc2fQ==--3fd005a4db01b1b5f79512c6deb23e038d76d3d307433dabbdaf2b3c60f02e98" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a4e9f642c26f932717be4bcc4c8df80d7ed3ddd2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a4e9f642c26f932717be4bcc4c8df80d7ed3ddd2" class="Link--secondary">a4e9f64</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12030.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="92919726" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12030" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12030/hovercard" href="https://github.com/elastic/elasticsearch/pull/12030">elastic#12030</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Moving null-checks from constructors to validate()" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4df452a915d0c5e2a0bf58342c1d11b082198dbc">Moving null-checks from constructors to validate()</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRkZjQ1MmE5MTVkMGM1ZTJhMGJmNTgzNDJjMWQxMWIwODIxOThkYmMiLCJ0IjoxNzIyNDI2MDc2fQ==--1c6c826d7aa2ae195e72c810b6a25f7eb5e9991164b8d48a09d021a6535c9b0f" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4df452a915d0c5e2a0bf58342c1d11b082198dbc">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4df452a915d0c5e2a0bf58342c1d11b082198dbc" class="Link--secondary">4df452a</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors PrefixQuery

Relates to #10217
Closes #12032

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/37c6347bcef7bf587c72e4dcf88abf90b8c283a0">Refactors PrefixQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM3YzYzNDdiY2VmN2JmNTg3YzcyZTRkY2Y4OGFiZjkwYjhjMjgzYTAiLCJ0IjoxNzIyNDI2MDc2fQ==--4a8d5bedcb2039cf1fff9f6b8072f1b0f62752ec1e9d3d20adefd0a65e893177" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=37c6347bcef7bf587c72e4dcf88abf90b8c283a0">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/37c6347bcef7bf587c72e4dcf88abf90b8c283a0" class="Link--secondary">37c6347</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12032.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93023250" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12032" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12032/hovercard" href="https://github.com/elastic/elasticsearch/pull/12032">elastic#12032</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors TypeQuery

Relates to #10217
Closes #12035

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4d4dc5cceb3cb5c1f7a833b98180c84733812949">Refactors TypeQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRkNGRjNWNjZWIzY2I1YzFmN2E4MzNiOTgxODBjODQ3MzM4MTI5NDkiLCJ0IjoxNzIyNDI2MDc2fQ==--800099ffdf1bb5f1987fc3d8396b0642feea7576bc78bc7787f3e6321767ee38" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4d4dc5cceb3cb5c1f7a833b98180c84733812949">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4d4dc5cceb3cb5c1f7a833b98180c84733812949" class="Link--secondary">4d4dc5c</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12035.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93030402" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12035" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12035/hovercard" href="https://github.com/elastic/elasticsearch/pull/12035">elastic#12035</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors ScriptQueryBuilder and Parser

Relates to #10217
Closes #12115

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7099e6ca93c5b2c35e409fe07b7a8909a92287a2">Refactors ScriptQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjcwOTllNmNhOTNjNWIyYzM1ZTQwOWZlMDdiN2E4OTA5YTkyMjg3YTIiLCJ0IjoxNzIyNDI2MDc2fQ==--ca83fd41f66b734ccfae7ff2611535ed734b9ad19dff51e25f304189d34a57aa" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7099e6ca93c5b2c35e409fe07b7a8909a92287a2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7099e6ca93c5b2c35e409fe07b7a8909a92287a2" class="Link--secondary">7099e6c</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12115.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93708318" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12115" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12115/hovercard" href="https://github.com/elastic/elasticsearch/pull/12115">elastic#12115</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12427 from cbuescher/feature/query-refactoring-constructorCleanup

Moving null-checks from constructors to validate()" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/817b9925115b98ecb3b5c849426f4cd875381661">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="96861286" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12427" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12427/hovercard" href="https://github.com/elastic/elasticsearch/pull/12427">elastic#12427</a> <a title="Merge pull request #12427 from cbuescher/feature/query-refactoring-constructorCleanup

Moving null-checks from constructors to validate()" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/817b9925115b98ecb3b5c849426f4cd875381661">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjgxN2I5OTI1MTE1Yjk4ZWNiM2I1Yzg0OTQyNmY0Y2Q4NzUzODE2NjEiLCJ0IjoxNzIyNDI2MDc2fQ==--d3aaee10feac3c3dd8ea8263e20bb5eeaf1a15eae57d4449f8522caf8abcd22b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=817b9925115b98ecb3b5c849426f4cd875381661">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/817b9925115b98ecb3b5c849426f4cd875381661" class="Link--secondary">817b992</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-constructorCleanup

Moving null-checks from constructors to validate()</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors WildcardQueryBuilder and Parser

Relates to #10217
Closes #12110

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/94d13c73c786181245a9296c22b032e44afff6f5">Refactors WildcardQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk0ZDEzYzczYzc4NjE4MTI0NWE5Mjk2YzIyYjAzMmU0NGFmZmY2ZjUiLCJ0IjoxNzIyNDI2MDc2fQ==--eaf7515b4ff24e6cb1788e7fc59f71a5f5113c247ea427a09cfd8e7e11079d4b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=94d13c73c786181245a9296c22b032e44afff6f5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/94d13c73c786181245a9296c22b032e44afff6f5" class="Link--secondary">94d13c7</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12110.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93686546" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12110" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12110/hovercard" href="https://github.com/elastic/elasticsearch/pull/12110">elastic#12110</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Extended SpanFirstQueryBuilderTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1c3e8e27bfbb7a055917513d8f6edd2831437f4c">Extended SpanFirstQueryBuilderTest</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFjM2U4ZTI3YmZiYjdhMDU1OTE3NTEzZDhmNmVkZDI4MzE0MzdmNGMiLCJ0IjoxNzIyNDI2MDc2fQ==--cc03fcf30ef7adb8ea6a72d49674605458faa6eeacfece2cf6704605bb7acc14" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1c3e8e27bfbb7a055917513d8f6edd2831437f4c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1c3e8e27bfbb7a055917513d8f6edd2831437f4c" class="Link--secondary">1c3e8e2</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12440 from cbuescher/feature/query-refactoring-constructorCleanup

Extended SpanFirstQueryBuilderTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8776463084d097b31ad442059b065083fb808900">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="97053251" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12440" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12440/hovercard" href="https://github.com/elastic/elasticsearch/pull/12440">elastic#12440</a> <a title="Merge pull request #12440 from cbuescher/feature/query-refactoring-constructorCleanup

Extended SpanFirstQueryBuilderTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8776463084d097b31ad442059b065083fb808900">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg3NzY0NjMwODRkMDk3YjMxYWQ0NDIwNTliMDY1MDgzZmI4MDg5MDAiLCJ0IjoxNzIyNDI2MDc2fQ==--ec71f059d15beaf83b048cc782094b370a8971d7a7f84d81e16d4979baa51b1e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8776463084d097b31ad442059b065083fb808900">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8776463084d097b31ad442059b065083fb808900" class="Link--secondary">8776463</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-constructorCleanup

Extended SpanFirstQueryBuilderTest</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Move null-checks from constructors and setters to validate

Following up to #12427, this PR does same changes, moving null-checks from construtors
and setters in query builder to the validate() method.

PR against query-refactoring branch" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/15a09a04f2cc62650d54a20ae85c94e92d4d7de9">Query Refactoring: Move null-checks from constructors and setters to …</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE1YTA5YTA0ZjJjYzYyNjUwZDU0YTIwYWU4NWM5NGU5MmQ0ZDdkZTkiLCJ0IjoxNzIyNDI2MDc2fQ==--ae21de93934e8831b72876b2076b561560f448e0be14b0ad011cdb0b6296f717" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=15a09a04f2cc62650d54a20ae85c94e92d4d7de9">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/15a09a04f2cc62650d54a20ae85c94e92d4d7de9" class="Link--secondary">15a09a0</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…validate

Following up to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="96861286" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12427" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12427/hovercard" href="https://github.com/elastic/elasticsearch/pull/12427">elastic#12427</a>, this PR does same changes, moving null-checks from construtors
and setters in query builder to the validate() method.

PR against query-refactoring branch</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/081d264f401ceced5344d20111e68a38316bd96b">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA4MWQyNjRmNDAxY2VjZWQ1MzQ0ZDIwMTExZTY4YTM4MzE2YmQ5NmIiLCJ0IjoxNzIyNDI2MDc2fQ==--a8c70f917992cbfe42cb619e99ef13a6feab2bb99ea0833e511a050a08e0d90d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=081d264f401ceced5344d20111e68a38316bd96b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/081d264f401ceced5344d20111e68a38316bd96b" class="Link--secondary">081d264</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12444 from cbuescher/feature/query-refactoring-nullCheckCleanup

Query Refactoring: Move null-checks to validate" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/db5d73a6174b38828b26276a1387b84a3ac8344e">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="97079885" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12444" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12444/hovercard" href="https://github.com/elastic/elasticsearch/pull/12444">elastic#12444</a> <a title="Merge pull request #12444 from cbuescher/feature/query-refactoring-nullCheckCleanup

Query Refactoring: Move null-checks to validate" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/db5d73a6174b38828b26276a1387b84a3ac8344e">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRiNWQ3M2E2MTc0YjM4ODI4YjI2Mjc2YTEzODdiODRhM2FjODM0NGUiLCJ0IjoxNzIyNDI2MDc2fQ==--92b8fc97059735b7e3a2fed97bb86c5c53acb8ff5fc00a03236b343bc75e4400" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=db5d73a6174b38828b26276a1387b84a3ac8344e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/db5d73a6174b38828b26276a1387b84a3ac8344e" class="Link--secondary">db5d73a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-nullCheckCleanup

Query Refactoring: Move null-checks to validate</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query DSL: don&#39;t cache type filter in DocumentMapper

If we cache the type filter and we e.g. set its boost which is now settable on all queries, the boost will change for all subsequent queries. We should rather create a new query every time." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/cf570ac5bde062de026773139093d2f2ed46041e">Query DSL: don't cache type filter in DocumentMapper</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmNmNTcwYWM1YmRlMDYyZGUwMjY3NzMxMzkwOTNkMmYyZWQ0NjA0MWUiLCJ0IjoxNzIyNDI2MDc2fQ==--25f475d46ee4b9325f9af4dc43def58091034b92ea73195feb80abcb3b9c8ab8" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=cf570ac5bde062de026773139093d2f2ed46041e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/cf570ac5bde062de026773139093d2f2ed46041e" class="Link--secondary">cf570ac</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">If we cache the type filter and we e.g. set its boost which is now settable on all queries, the boost will change for all subsequent queries. We should rather create a new query every time.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12447 from javanna/enhancement/dont_cache_type_query

Query DSL: don&#39;t cache type filter in DocumentMapper" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/56391c14a66bfe31e603fda0a57ee5caf5f28990">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="97089405" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12447" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12447/hovercard" href="https://github.com/elastic/elasticsearch/pull/12447">elastic#12447</a> <a title="Merge pull request #12447 from javanna/enhancement/dont_cache_type_query

Query DSL: don&#39;t cache type filter in DocumentMapper" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/56391c14a66bfe31e603fda0a57ee5caf5f28990">from javanna/enhancement/dont_cache_…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjU2MzkxYzE0YTY2YmZlMzFlNjAzZmRhMGE1N2VlNWNhZjVmMjg5OTAiLCJ0IjoxNzIyNDI2MDc2fQ==--35f233e2ad120d5734968c2eb2665ce4552d71552470980a981a43f5ca4bd2e4" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=56391c14a66bfe31e603fda0a57ee5caf5f28990">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/56391c14a66bfe31e603fda0a57ee5caf5f28990" class="Link--secondary">56391c1</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…type_query

Query DSL: don't cache type filter in DocumentMapper</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query DSL: assign result of validateInnerQuery in ConstantScoreQueryBuilder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dbec71face2a31a45a5b92ca919c8c2f65c0b3c1">Query DSL: assign result of validateInnerQuery in ConstantScoreQueryB…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRiZWM3MWZhY2UyYTMxYTQ1YTViOTJjYTkxOWM4YzJmNjVjMGIzYzEiLCJ0IjoxNzIyNDI2MDc2fQ==--504fc99ced41952ddf8b67a953ec38cb78e9035fb6674ec283a7a9a547fba592" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=dbec71face2a31a45a5b92ca919c8c2f65c0b3c1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/dbec71face2a31a45a5b92ca919c8c2f65c0b3c1" class="Link--secondary">dbec71f</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…uilder</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/3d534136503ac860df7f6b775823a9cf3db1acaa">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjNkNTM0MTM2NTAzYWM4NjBkZjdmNmI3NzU4MjNhOWNmM2RiMWFjYWEiLCJ0IjoxNzIyNDI2MDc2fQ==--5dfb349ed34b28fbe1815c07946fb1ae6865f2a7ad994a1f7a8d244234e0b243" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=3d534136503ac860df7f6b775823a9cf3db1acaa">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/3d534136503ac860df7f6b775823a9cf3db1acaa" class="Link--secondary">3d53413</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

	core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/012825207521ad97adbe82d08aab4c835378909f">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjAxMjgyNTIwNzUyMWFkOTdhZGJlODJkMDhhYWI0YzgzNTM3ODkwOWYiLCJ0IjoxNzIyNDI2MDc2fQ==--9de9f3c9b8e34af16aa85e0989b4281fc838076ed37684870c1779618026d148" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=012825207521ad97adbe82d08aab4c835378909f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/012825207521ad97adbe82d08aab4c835378909f" class="Link--secondary">0128252</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">	core/src/test/java/org/elasticsearch/aliases/IndexAliasesTests.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/b780346cb7bb51c0c8b08198f488161213224c1d">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmI3ODAzNDZjYjdiYjUxYzBjOGIwODE5OGY0ODgxNjEyMTMyMjRjMWQiLCJ0IjoxNzIyNDI2MDc2fQ==--765e102fe590736449c51d6f23b0c97798423f4b39e8ff1e5ab2d73dad554b34" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=b780346cb7bb51c0c8b08198f488161213224c1d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/b780346cb7bb51c0c8b08198f488161213224c1d" class="Link--secondary">b780346</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] remove createExpectedQuery from BaseQueryTestCase

We currently test the toQuery method by comparing its return value with the output of createExpectedQuery. This seemed at first like a good deep test for the lucene generated queries, but ends up causing a lot of code duplication between tests and prod code, which smells like this test is not that useful after all.

This commit removes the requirement for createExpectedQuery, we test a bit less the lucene generated queries, but we do still have a testToQuery method in BaseQueryTestCase. This test acts as smoke test to verify that there are no issues with our toQuery method implementation for each query: it verifies that two equal queries should result in the same lucene query. It also verifies that changing the boost value of a query affects the result of the toQuery.

Part of the previous createExpectedQuery can be moved to assertLuceneQuery using normal assertions, we do it when it makes sense only though.

This commit also adds support for boost and queryName to SpanMultiTermQueryParser and SpanMultiTermQueryBuilder, plus it removes no-op setters for queryName and boost from QueryFilterBuilder. Instead we simply declare in our test infra that query filter doesn&#39;t support boost and queryName and we disable tests aroudn these fields in that specific case. Boost and queryName support is also moved down to the QueryBuilder interface.

Closes #12473" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/f6ca11db30708d308363b17c5dd37780f7a51c3f">[TEST] remove createExpectedQuery from BaseQueryTestCase</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmY2Y2ExMWRiMzA3MDhkMzA4MzYzYjE3YzVkZDM3NzgwZjdhNTFjM2YiLCJ0IjoxNzIyNDI2MDc2fQ==--341301507c16b457610e38ff358b16ee90781d22f0c1ae40301acd3cf3ca4db3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=f6ca11db30708d308363b17c5dd37780f7a51c3f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/f6ca11db30708d308363b17c5dd37780f7a51c3f" class="Link--secondary">f6ca11d</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">We currently test the toQuery method by comparing its return value with the output of createExpectedQuery. This seemed at first like a good deep test for the lucene generated queries, but ends up causing a lot of code duplication between tests and prod code, which smells like this test is not that useful after all.

This commit removes the requirement for createExpectedQuery, we test a bit less the lucene generated queries, but we do still have a testToQuery method in BaseQueryTestCase. This test acts as smoke test to verify that there are no issues with our toQuery method implementation for each query: it verifies that two equal queries should result in the same lucene query. It also verifies that changing the boost value of a query affects the result of the toQuery.

Part of the previous createExpectedQuery can be moved to assertLuceneQuery using normal assertions, we do it when it makes sense only though.

This commit also adds support for boost and queryName to SpanMultiTermQueryParser and SpanMultiTermQueryBuilder, plus it removes no-op setters for queryName and boost from QueryFilterBuilder. Instead we simply declare in our test infra that query filter doesn't support boost and queryName and we disable tests aroudn these fields in that specific case. Boost and queryName support is also moved down to the QueryBuilder interface.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12473.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="97423224" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12473" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12473/hovercard" href="https://github.com/elastic/elasticsearch/pull/12473">elastic#12473</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a1948350a56a97da07ce1b6ec4bb286c5d3cbd3d">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmExOTQ4MzUwYTU2YTk3ZGEwN2NlMWI2ZWM0YmIyODZjNWQzY2JkM2QiLCJ0IjoxNzIyNDI2MDc2fQ==--895507722bca733f0c143c559144a78b028d4994e3d33bf430c5737e2a4d6b95" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a1948350a56a97da07ce1b6ec4bb286c5d3cbd3d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a1948350a56a97da07ce1b6ec4bb286c5d3cbd3d" class="Link--secondary">a194835</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/af751178458a685077063ca8170762cf9e74a0f2">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmFmNzUxMTc4NDU4YTY4NTA3NzA2M2NhODE3MDc2MmNmOWU3NGEwZjIiLCJ0IjoxNzIyNDI2MDc2fQ==--fe8bd67eddd691ad54b298da40e317717b9618925142da4033ef4c4a5991daa3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=af751178458a685077063ca8170762cf9e74a0f2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/af751178458a685077063ca8170762cf9e74a0f2" class="Link--secondary">af75117</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7f28dc14eeb12585a0e8c0fcaec95e40843e444b">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjdmMjhkYzE0ZWViMTI1ODVhMGU4YzBmY2FlYzk1ZTQwODQzZTQ0NGIiLCJ0IjoxNzIyNDI2MDc2fQ==--975d421c5547febc69627f9068c6d77e2af0d80678510bbd659863d99254193d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7f28dc14eeb12585a0e8c0fcaec95e40843e444b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7f28dc14eeb12585a0e8c0fcaec95e40843e444b" class="Link--secondary">7f28dc1</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/99398ad3114f3e8fcbc0d3962c9940f4fc57a47d">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk5Mzk4YWQzMTE0ZjNlOGZjYmMwZDM5NjJjOTk0MGY0ZmM1N2E0N2QiLCJ0IjoxNzIyNDI2MDc2fQ==--d4fad3490e222829ed2c2d8f44c439ed463786f745cefc70262c334ecee8a1a6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=99398ad3114f3e8fcbc0d3962c9940f4fc57a47d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/99398ad3114f3e8fcbc0d3962c9940f4fc57a47d" class="Link--secondary">99398ad</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
	core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
	core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
	core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4cceb08a0b786788c8fba7c1c2a80ed1d8f1d441">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRjY2ViMDhhMGI3ODY3ODhjOGZiYTdjMWMyYTgwZWQxZDhmMWQ0NDEiLCJ0IjoxNzIyNDI2MDc2fQ==--dfed5069cfa32d6ae1d750a5fe8e35f2b603099cc66d0dfc56b90319246f12e9" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4cceb08a0b786788c8fba7c1c2a80ed1d8f1d441">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4cceb08a0b786788c8fba7c1c2a80ed1d8f1d441" class="Link--secondary">4cceb08</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/test/java/org/elasticsearch/common/io/streams/BytesStreamsTests.java
	core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java
	core/src/test/java/org/elasticsearch/search/query/SearchQueryIT.java
	core/src/test/java/org/elasticsearch/test/transport/AssertingLocalTransport.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Adapted BaseQueryTestCase to renanming of parant class to ESTestCase" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/9756202d0f92ed60347119de69d1a7d6ab5c15da">Adapted BaseQueryTestCase to renanming of parant class to ESTestCase</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk3NTYyMDJkMGY5MmVkNjAzNDcxMTlkZTY5ZDFhN2Q2YWI1YzE1ZGEiLCJ0IjoxNzIyNDI2MDc2fQ==--b36f6f03c72cd849e12540373fc927e70602cf9fc6b2455852245222924858a4" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=9756202d0f92ed60347119de69d1a7d6ab5c15da">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/9756202d0f92ed60347119de69d1a7d6ab5c15da" class="Link--secondary">9756202</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove forbidden @Ignore on base test cases" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/fafaac6a88e79ea27fb367ac25fede78a00f8f23">Remove forbidden</a> <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ignore/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ignore">@ignore</a> <a title="Remove forbidden @Ignore on base test cases" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/fafaac6a88e79ea27fb367ac25fede78a00f8f23">on base test cases</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZhZmFhYzZhODhlNzllYTI3ZmIzNjdhYzI1ZmVkZTc4YTAwZjhmMjMiLCJ0IjoxNzIyNDI2MDc2fQ==--ac683b5857596506a2e1786c1bfd9cdaa2beee10dac99f1fb97fdfc257fa9d2d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=fafaac6a88e79ea27fb367ac25fede78a00f8f23">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/fafaac6a88e79ea27fb367ac25fede78a00f8f23" class="Link--secondary">fafaac6</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2784e2f7f0ca56b2c022523bb8209cd035a7ec9c">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI3ODRlMmY3ZjBjYTU2YjJjMDIyNTIzYmI4MjA5Y2QwMzVhN2VjOWMiLCJ0IjoxNzIyNDI2MDc2fQ==--c33d9fd4a1495c91030f5d622c119cfb93ead517f1dfee987887b4689060a477" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2784e2f7f0ca56b2c022523bb8209cd035a7ec9c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2784e2f7f0ca56b2c022523bb8209cd035a7ec9c" class="Link--secondary">2784e2f</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Separating QueryParseContext and QueryShardContext

We are currently splitting the parse() method in the query parsers into a
query parsing part (fromXContent(QueryParseContext)) and a new method that
generates the lucene query (toQuery(QueryParseContext)). At some point we
would like to be able to excute these two steps in different phases, one
on the coordinating node and one on the shards.

This PR tries to anticipate this by renaming the existing QueryParseContext
to QueryShardContext to make it clearer that this context object will provide
the information needed to generate the lucene queries on the shard. A new
QueryParseContext is introduced and all the functionality needed for parsing
the XContent in the request is moved there (parser, helper methods for parsing
inner queries).

While the refactoring is not finished, the new QueryShardContext will expose the
QueryParseContext via the parseContext() method. Also, for the time beeing the
QueryParseContext will contain a link back to the QueryShardContext it wraps, which
eventually will be deleted once the refactoring is done.

Closes #12527
Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/904cbf53409ae62bb67cd07c31ef88121cff9361">Separating QueryParseContext and QueryShardContext</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkwNGNiZjUzNDA5YWU2MmJiNjdjZDA3YzMxZWY4ODEyMWNmZjkzNjEiLCJ0IjoxNzIyNDI2MDc2fQ==--9be06d3b4f5005b9adfef83d96c75bd2e80bdd2d932c2aeb32a5b09d1f8788a2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=904cbf53409ae62bb67cd07c31ef88121cff9361">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/904cbf53409ae62bb67cd07c31ef88121cff9361" class="Link--secondary">904cbf5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">We are currently splitting the parse() method in the query parsers into a
query parsing part (fromXContent(QueryParseContext)) and a new method that
generates the lucene query (toQuery(QueryParseContext)). At some point we
would like to be able to excute these two steps in different phases, one
on the coordinating node and one on the shards.

This PR tries to anticipate this by renaming the existing QueryParseContext
to QueryShardContext to make it clearer that this context object will provide
the information needed to generate the lucene queries on the shard. A new
QueryParseContext is introduced and all the functionality needed for parsing
the XContent in the request is moved there (parser, helper methods for parsing
inner queries).

While the refactoring is not finished, the new QueryShardContext will expose the
QueryParseContext via the parseContext() method. Also, for the time beeing the
QueryParseContext will contain a link back to the QueryShardContext it wraps, which
eventually will be deleted once the refactoring is done.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12527.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="97916298" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12527" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12527/hovercard" href="https://github.com/elastic/elasticsearch/pull/12527">elastic#12527</a>
Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12527 from cbuescher/feature/query-refactoring-queryCreationContext

Separating QueryParseContext and QueryShardContext" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/07c2e48e96dffaf039a41b80dd5f92ab735f719d">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="97916298" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12527" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12527/hovercard" href="https://github.com/elastic/elasticsearch/pull/12527">elastic#12527</a> <a title="Merge pull request #12527 from cbuescher/feature/query-refactoring-queryCreationContext

Separating QueryParseContext and QueryShardContext" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/07c2e48e96dffaf039a41b80dd5f92ab735f719d">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA3YzJlNDhlOTZkZmZhZjAzOWE0MWI4MGRkNWY5MmFiNzM1ZjcxOWQiLCJ0IjoxNzIyNDI2MDc2fQ==--72b1da96a10ae7c20d1edf64f6784a34aa36128ebb79ed440f041347065cf099" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=07c2e48e96dffaf039a41b80dd5f92ab735f719d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/07c2e48e96dffaf039a41b80dd5f92ab735f719d" class="Link--secondary">07c2e48</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-queryCreationContext

Separating QueryParseContext and QueryShardContext</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/b763265f677132fe3772d51135734f542540e6bb">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmI3NjMyNjVmNjc3MTMyZmUzNzcyZDUxMTM1NzM0ZjU0MjU0MGU2YmIiLCJ0IjoxNzIyNDI2MDc2fQ==--d02373151b67b37d0ab8548937e655cf45adda59b93b8e74c4fec6fbb607c23e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=b763265f677132fe3772d51135734f542540e6bb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/b763265f677132fe3772d51135734f542540e6bb" class="Link--secondary">b763265</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/transport/local/LocalTransport.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
	core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
	core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
	core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
	core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
	core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/20f944bf9459c5dd0b8326641c43782ddc0880b4">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjIwZjk0NGJmOTQ1OWM1ZGQwYjgzMjY2NDFjNDM3ODJkZGMwODgwYjQiLCJ0IjoxNzIyNDI2MDc2fQ==--bf666b9722223f3a560f27eb484c8ecd6b0f2704e8f0b6fbf2891654b7356caa" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=20f944bf9459c5dd0b8326641c43782ddc0880b4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/20f944bf9459c5dd0b8326641c43782ddc0880b4" class="Link--secondary">20f944b</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/common/io/stream/FilterStreamInput.java
	core/src/main/java/org/elasticsearch/common/io/stream/NamedWriteableRegistry.java
	core/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java
	core/src/main/java/org/elasticsearch/common/io/stream/StreamOutput.java
	core/src/main/java/org/elasticsearch/transport/netty/MessageChannelHandler.java
	core/src/test/java/org/elasticsearch/common/io/stream/BytesStreamsTests.java
	core/src/test/java/org/elasticsearch/transport/AbstractSimpleTransportTests.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Tests: Allow unmapped fields in SimpleQueryStringBuilderTest#testDefaultOperatorHandling" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/88fe42bc50852a6ad2287f063e2b967621f9923c">Tests: Allow unmapped fields in SimpleQueryStringBuilderTest#testDefa…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg4ZmU0MmJjNTA4NTJhNmFkMjI4N2YwNjNlMmI5Njc2MjFmOTkyM2MiLCJ0IjoxNzIyNDI2MDc2fQ==--9dc71326a3d786515000f590dd75472b6c8d032a3eb46977e71b9024825f73e4" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=88fe42bc50852a6ad2287f063e2b967621f9923c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/88fe42bc50852a6ad2287f063e2b967621f9923c" class="Link--secondary">88fe42b</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ultOperatorHandling</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;merge/named_writeable&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d79faab0f581ecf7f81fc4d6f36bc8b7c024bcb1">Merge branch 'merge/named_writeable' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ3OWZhYWIwZjU4MWVjZjdmODFmYzRkNmYzNmJjOGI3YzAyNGJjYjEiLCJ0IjoxNzIyNDI2MDc2fQ==--f2a6e829356fe4ffb5961c842e5b9e306972f346951856ef354b02dc002f7a9f" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d79faab0f581ecf7f81fc4d6f36bc8b7c024bcb1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d79faab0f581ecf7f81fc4d6f36bc8b7c024bcb1" class="Link--secondary">d79faab</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>  </div>
</div>


</div>


  <div id="js-progressive-timeline-item-container">
    <!-- '"` --><!-- </textarea></xmp> -->

      <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDo1ZWRiMjg3ZDNhNWU5ZTc3NDY5OGYzZThmNjEwYjBmY2VmOWZiMjNi">
  
        <div>
    <div id="commits-pushed-5edb287" data-view-component="true" class="TimelineItem pb-1">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-push">
    <path d="M1 2.5A2.5 2.5 0 0 1 3.5 0h8.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V1.5h-8a1 1 0 0 0-1 1v6.708A2.493 2.493 0 0 1 3.5 9h3.25a.75.75 0 0 1 0 1.5H3.5a1 1 0 0 0 0 2h5.75a.75.75 0 0 1 0 1.5H3.5A2.5 2.5 0 0 1 1 11.5Zm13.23 7.79h-.001l-1.224-1.224v6.184a.75.75 0 0 1-1.5 0V9.066L10.28 10.29a.75.75 0 0 1-1.06-1.061l2.505-2.504a.75.75 0 0 1 1.06 0L15.29 9.23a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <a class="author Link--primary text-bold" data-test-selector="pr-timeline-events-commit-actor-profile-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  
<span>and others</span>
        added <span>60</span> commits
        <a href="https://github.com/elastic/elasticsearch/pull/13788#commits-pushed-5edb287" data-view-component="true" class="Link--inTextBlock Link--secondary Link">
          <relative-time tense="past" datetime="2015-08-07T11:13:24+02:00" data-view-component="true" title="Aug 7, 2015, 11:13 AM GMT+2"><template shadowrootmode="open">9 years ago</template>August 7, 2015 11:13</relative-time>
</a></div>
</div>  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/5edb287d3a5e9e774698f3e8f610b0fcef9fb23b">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjVlZGIyODdkM2E1ZTllNzc0Njk4ZjNlOGY2MTBiMGZjZWY5ZmIyM2IiLCJ0IjoxNzIyNDI2MDgzfQ==--3c22d8a4bb50ad17c41b53e603896d606e832b4dbafb7df620cb5177ed42694e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=5edb287d3a5e9e774698f3e8f610b0fcef9fb23b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/5edb287d3a5e9e774698f3e8f610b0fcef9fb23b" class="Link--secondary">5edb287</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d920c9d6bfa1ec4cfa839a19df6fa3e9f5e94fa5">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ5MjBjOWQ2YmZhMWVjNGNmYTgzOWExOWRmNmZhM2U5ZjVlOTRmYTUiLCJ0IjoxNzIyNDI2MDgzfQ==--aa74fe680bba284fa63a18c2bd920a16a9b4dcad986e8e91c3f0c1b28446492c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d920c9d6bfa1ec4cfa839a19df6fa3e9f5e94fa5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d920c9d6bfa1ec4cfa839a19df6fa3e9f5e94fa5" class="Link--secondary">d920c9d</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4e936d196469306ad410132ba016ad836432cdca">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRlOTM2ZDE5NjQ2OTMwNmFkNDEwMTMyYmEwMTZhZDgzNjQzMmNkY2EiLCJ0IjoxNzIyNDI2MDgzfQ==--6ab77ad46f6877101d2f35f6b4346903a8c6bd051024cb4ac181de2a8976d4ef" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4e936d196469306ad410132ba016ad836432cdca">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4e936d196469306ad410132ba016ad836432cdca" class="Link--secondary">4e936d1</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Added @AwaitsFix for failing PluginManagerIT test after talking to spinscale" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/32e98aa377767febcf60eb203243b17d833c9479">Added @AwaitsFix for failing PluginManagerIT test after talking to sp…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjMyZTk4YWEzNzc3NjdmZWJjZjYwZWIyMDMyNDNiMTdkODMzYzk0NzkiLCJ0IjoxNzIyNDI2MDgzfQ==--88f1493c1eeaae3b7aeaf8d416b65b011402ff016b85cb8f1d9e95abe94eeac3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=32e98aa377767febcf60eb203243b17d833c9479">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/32e98aa377767febcf60eb203243b17d833c9479" class="Link--secondary">32e98aa</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…inscale</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Move flag to track filter context to QueryShardContext

Currently there is a flag in the QueryParseContext that keeps track
of whether an inner query sits inside a filter and should therefore
produce an unscored lucene query. This is done in the
parseInnerFilter...() methods that are called in the fromXContent()
methods or the parse() methods we haven&#39;t refactored yet. This needs
to move to the toQuery() method in the refactored builders, since the
query builders themselves have no information about the parent query
they might be nested in.

This PR moves the isFilter flag from the QueryParseContext to the re-
cently introduces QueryShardContext. The parseInnerFilter... methods
need to stay in the QueryParseContext for now, but they already delegate
to the flag that is kept in QueryShardContext. For refactored queries
(like BoolQueryBuilder) references to isFilter() are moved from the
parser to the corresponding builder. Builders where the inner query
was previously parsed using parseInnerFilter...() now use a newly
introduces toFilter(shardContext) method that produces the nested lucene
query with the filter context flag switched on.

Closes #12731" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a3c294d4e9415445ebb451aff2433a99efe2c4a6">Move flag to track filter context to QueryShardContext</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmEzYzI5NGQ0ZTk0MTU0NDVlYmI0NTFhZmYyNDMzYTk5ZWZlMmM0YTYiLCJ0IjoxNzIyNDI2MDgzfQ==--b6c20d299ffd2f9a3bbf5a60316333b521c6ff2556a5ab6ff6d0d0f70386d878" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a3c294d4e9415445ebb451aff2433a99efe2c4a6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a3c294d4e9415445ebb451aff2433a99efe2c4a6" class="Link--secondary">a3c294d</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Currently there is a flag in the QueryParseContext that keeps track
of whether an inner query sits inside a filter and should therefore
produce an unscored lucene query. This is done in the
parseInnerFilter...() methods that are called in the fromXContent()
methods or the parse() methods we haven't refactored yet. This needs
to move to the toQuery() method in the refactored builders, since the
query builders themselves have no information about the parent query
they might be nested in.

This PR moves the isFilter flag from the QueryParseContext to the re-
cently introduces QueryShardContext. The parseInnerFilter... methods
need to stay in the QueryParseContext for now, but they already delegate
to the flag that is kept in QueryShardContext. For refactored queries
(like BoolQueryBuilder) references to isFilter() are moved from the
parser to the corresponding builder. Builders where the inner query
was previously parsed using parseInnerFilter...() now use a newly
introduces toFilter(shardContext) method that produces the nested lucene
query with the filter context flag switched on.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12731.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="99680067" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12731" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12731/hovercard" href="https://github.com/elastic/elasticsearch/pull/12731">elastic#12731</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12731 from cbuescher/feature/query-refactoring-isFilterCleanup

Move flag to track filter context to QueryShardContext" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/5ecf3e5f7266c8dcd02c1a52238b76d18cb4ee1a">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="99680067" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12731" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12731/hovercard" href="https://github.com/elastic/elasticsearch/pull/12731">elastic#12731</a> <a title="Merge pull request #12731 from cbuescher/feature/query-refactoring-isFilterCleanup

Move flag to track filter context to QueryShardContext" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/5ecf3e5f7266c8dcd02c1a52238b76d18cb4ee1a">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjVlY2YzZTVmNzI2NmM4ZGNkMDJjMWE1MjIzOGI3NmQxOGNiNGVlMWEiLCJ0IjoxNzIyNDI2MDgzfQ==--a2cd5dff36dbc0ac0a398135115fd43c264d9b2b3fffedfdafd1ae9722b07ee6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=5ecf3e5f7266c8dcd02c1a52238b76d18cb4ee1a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/5ecf3e5f7266c8dcd02c1a52238b76d18cb4ee1a" class="Link--secondary">5ecf3e5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-isFilterCleanup

Move flag to track filter context to QueryShardContext</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[DOCS] updated migrate guide with info for plugins" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a1151e63fb4dca2fe624ebbaa6777f9f3da78f3e">[DOCS] updated migrate guide with info for plugins</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmExMTUxZTYzZmI0ZGNhMmZlNjI0ZWJiYWE2Nzc3ZjlmM2RhNzhmM2UiLCJ0IjoxNzIyNDI2MDgzfQ==--7b7d9886c41821f25ebc3fc27205152070799381d2b23d12dd04039b5058a74c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a1151e63fb4dca2fe624ebbaa6777f9f3da78f3e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a1151e63fb4dca2fe624ebbaa6777f9f3da78f3e" class="Link--secondary">a1151e6</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12770 from javanna/docs/migrate_query_shard_context

[DOCS] updated migrate guide with info for plugins" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dfae80f3b987230ac979dec1007b69b2501c35d9">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="100046277" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12770" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12770/hovercard" href="https://github.com/elastic/elasticsearch/pull/12770">elastic#12770</a> <a title="Merge pull request #12770 from javanna/docs/migrate_query_shard_context

[DOCS] updated migrate guide with info for plugins" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dfae80f3b987230ac979dec1007b69b2501c35d9">from javanna/docs/migrate_query_shar…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRmYWU4MGYzYjk4NzIzMGFjOTc5ZGVjMTAwN2I2OWIyNTAxYzM1ZDkiLCJ0IjoxNzIyNDI2MDgzfQ==--64e9c22e7d52008f650b5e5a9179133b696dd274e0a38003416c47549861b234" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=dfae80f3b987230ac979dec1007b69b2501c35d9">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/dfae80f3b987230ac979dec1007b69b2501c35d9" class="Link--secondary">dfae80f</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…d_context

[DOCS] updated migrate guide with info for plugins</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d90552e2fb66a1a6d101d6ec403520dfcebaa992">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ5MDU1MmUyZmI2NmExYTZkMTAxZDZlYzQwMzUyMGRmY2ViYWE5OTIiLCJ0IjoxNzIyNDI2MDgzfQ==--6256802d4d39ba27aa4a918f239429929607df40678e6f9976d83d36b9be3651" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d90552e2fb66a1a6d101d6ec403520dfcebaa992">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d90552e2fb66a1a6d101d6ec403520dfcebaa992" class="Link--secondary">d90552e</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Removing @AwaitsFix in PluginMangerIT after merging in fix from master" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/0d55bfd481bcf6c8659e3a893065213f83b5945a">Removing @AwaitsFix in PluginMangerIT after merging in fix from master</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjBkNTViZmQ0ODFiY2Y2Yzg2NTllM2E4OTMwNjUyMTNmODNiNTk0NWEiLCJ0IjoxNzIyNDI2MDgzfQ==--93ad81a083a702348e846aca54b2e2c10e5dd507fab0bc3db657b1f93d270cd1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=0d55bfd481bcf6c8659e3a893065213f83b5945a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/0d55bfd481bcf6c8659e3a893065213f83b5945a" class="Link--secondary">0d55bfd</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactoring of FuzzyQuery

Relates to #10217

This PR is against the query-refactoring branch.

Closes #11865" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/626b1abde4dcf19489308d1c32b79a3bbe4b7f58">Refactoring of FuzzyQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYyNmIxYWJkZTRkY2YxOTQ4OTMwOGQxYzMyYjc5YTNiYmU0YjdmNTgiLCJ0IjoxNzIyNDI2MDgzfQ==--1d1719ad1e05444167192b88c82979c455f74fc5ec32e63f1a9cad9878ea93a0" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=626b1abde4dcf19489308d1c32b79a3bbe4b7f58">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/626b1abde4dcf19489308d1c32b79a3bbe4b7f58" class="Link--secondary">626b1ab</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #11865.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="90789215" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11865" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11865/hovercard" href="https://github.com/elastic/elasticsearch/pull/11865">elastic#11865</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Use Locale.ROOT in Fuzziness class to toUpperCase()" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/fcad98c142ac8148ace8a1a1e6f030a2973a4bfb">Use Locale.ROOT in Fuzziness class to toUpperCase()</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZjYWQ5OGMxNDJhYzgxNDhhY2U4YTFhMWU2ZjAzMGEyOTczYTRiZmIiLCJ0IjoxNzIyNDI2MDgzfQ==--b4ca2c76a864d6252e130442df0b5ace9d1bffb70e0b0e9db4d581d3ada793bc" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=fcad98c142ac8148ace8a1a1e6f030a2973a4bfb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/fcad98c142ac8148ace8a1a1e6f030a2973a4bfb" class="Link--secondary">fcad98c</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/097511601cda6cef2a7bed7711d932f12337b20b">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA5NzUxMTYwMWNkYTZjZWYyYTdiZWQ3NzExZDkzMmYxMjMzN2IyMGIiLCJ0IjoxNzIyNDI2MDgzfQ==--75fe4f99ebf07b5b44195978e8b3bd24dccc87135155e5a8a178dee72765e580" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=097511601cda6cef2a7bed7711d932f12337b20b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/097511601cda6cef2a7bed7711d932f12337b20b" class="Link--secondary">0975116</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fix BaseQueryTestCase after merge with master" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6071db89ea1e75d1aee387a0260a54a0ca4ad3f9">Fix BaseQueryTestCase after merge with master</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYwNzFkYjg5ZWExZTc1ZDFhZWUzODdhMDI2MGE1NGEwY2E0YWQzZjkiLCJ0IjoxNzIyNDI2MDgzfQ==--63e6ecba247335510098a1bf268f6256b371bcca712d7d9a8f06837b0e32c97a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=6071db89ea1e75d1aee387a0260a54a0ca4ad3f9">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/6071db89ea1e75d1aee387a0260a54a0ca4ad3f9" class="Link--secondary">6071db8</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/e2181990c439138f5fce28c7ba3e8cd5e07d2b2c">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmUyMTgxOTkwYzQzOTEzOGY1ZmNlMjhjN2JhM2U4Y2Q1ZTA3ZDJiMmMiLCJ0IjoxNzIyNDI2MDgzfQ==--ecd43c63291880e1ac3de4bf04f56506ed02edf86d1b49feaaaf13a6f245de65" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=e2181990c439138f5fce28c7ba3e8cd5e07d2b2c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/e2181990c439138f5fce28c7ba3e8cd5e07d2b2c" class="Link--secondary">e218199</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="delete SimpleQueryStringParser.NAME constant

Previously restored this constant due to a bad merge, fixed now" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d088d5a3b4d1124906c0a3df520bbbbc9483a2d3">delete SimpleQueryStringParser.NAME constant</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQwODhkNWEzYjRkMTEyNDkwNmMwYTNkZjUyMGJiYmJjOTQ4M2EyZDMiLCJ0IjoxNzIyNDI2MDgzfQ==--26bdfef8e7b46c0ea1eb21cc0b1035adb1fc1672af44dd98515a3dacaa4c4725" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d088d5a3b4d1124906c0a3df520bbbbc9483a2d3">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d088d5a3b4d1124906c0a3df520bbbbc9483a2d3" class="Link--secondary">d088d5a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Previously restored this constant due to a bad merge, fixed now</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="add type safety for QueryParser

QueryParser now explicitly declares the type of QueryBuilder that it creates.

Closes #12773" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ecc5516d32b1adabd31653006e47c5dd077aba64">add type safety for QueryParser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmVjYzU1MTZkMzJiMWFkYWJkMzE2NTMwMDZlNDdjNWRkMDc3YWJhNjQiLCJ0IjoxNzIyNDI2MDgzfQ==--241b3a4dcc5a548cca045887773099ffa1af7a040cdecf9fe03803cddc751704" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=ecc5516d32b1adabd31653006e47c5dd077aba64">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/ecc5516d32b1adabd31653006e47c5dd077aba64" class="Link--secondary">ecc5516</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">QueryParser now explicitly declares the type of QueryBuilder that it creates.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12773.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="100069455" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12773" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12773/hovercard" href="https://github.com/elastic/elasticsearch/pull/12773">elastic#12773</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: better naming consistency for getters

In the query refactoring branch we&#39;ve been introducing getter methods for every bit that you can set to each query. The naming is not every consistent at the moment. The applied naming convention are the following:

- `innerQuery()` for any inner query, when there&#39;s only one of them
- when there&#39;s more than one inner query, use a prefix that identifies which query it is, and the `query` suffix (e.g. `positiveQuery` or `littleQuery`)
- `fieldName()` for the name of the field to be queried
- `value()` for the actual query

These changes don&#39;t break bw comp given that these getters were all introduced with the query refactoring which hasn&#39;t been released yet. Also we are modifying getters that don&#39;t have a corresponding setter, as the fields are final, hence we are not breaking consistency between getter and setter.

Closes #12800" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a1be2d63f937e282d6a5f7f2dedd418bce7d09ae">Query refactoring: better naming consistency for getters</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmExYmUyZDYzZjkzN2UyODJkNmE1ZjdmMmRlZGQ0MThiY2U3ZDA5YWUiLCJ0IjoxNzIyNDI2MDgzfQ==--9d09df431a8aba5a2e785ee344cf6a7e434b258db1b6d7baf110b114c2baceb7" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a1be2d63f937e282d6a5f7f2dedd418bce7d09ae">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a1be2d63f937e282d6a5f7f2dedd418bce7d09ae" class="Link--secondary">a1be2d6</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">In the query refactoring branch we've been introducing getter methods for every bit that you can set to each query. The naming is not every consistent at the moment. The applied naming convention are the following:

- `innerQuery()` for any inner query, when there's only one of them
- when there's more than one inner query, use a prefix that identifies which query it is, and the `query` suffix (e.g. `positiveQuery` or `littleQuery`)
- `fieldName()` for the name of the field to be queried
- `value()` for the actual query

These changes don't break bw comp given that these getters were all introduced with the query refactoring which hasn't been released yet. Also we are modifying getters that don't have a corresponding setter, as the fields are final, hence we are not breaking consistency between getter and setter.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12800.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="100301460" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12800" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12800/hovercard" href="https://github.com/elastic/elasticsearch/pull/12800">elastic#12800</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/b7bfcdc5f83e496075a6efd1697afff29ada17c7">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmI3YmZjZGM1ZjgzZTQ5NjA3NWE2ZWZkMTY5N2FmZmYyOWFkYTE3YzciLCJ0IjoxNzIyNDI2MDgzfQ==--1d12e557ff0970c5c74eca8208788380efeac371fb4a06264f0fcc1f52c9f8de" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=b7bfcdc5f83e496075a6efd1697afff29ada17c7">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/b7bfcdc5f83e496075a6efd1697afff29ada17c7" class="Link--secondary">b7bfcdc</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Adapted BaseQueryTestCase to changes on master" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/901f5d6e23f0c65c23de694219f6c2a31cdf9655">Adapted BaseQueryTestCase to changes on master</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkwMWY1ZDZlMjNmMGM2NWMyM2RlNjk0MjE5ZjZjMmEzMWNkZjk2NTUiLCJ0IjoxNzIyNDI2MDgzfQ==--004d5f90c03f72e6bb2823536fc1e3e705468327fbcb89fea6030a0e15369f23" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=901f5d6e23f0c65c23de694219f6c2a31cdf9655">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/901f5d6e23f0c65c23de694219f6c2a31cdf9655" class="Link--secondary">901f5d6</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fix SimpleQueryStringBuilderTest, allow part of  only with mapping" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/e3fc6a0f7e5f4968926ef4362461d4a94e12909e">Fix SimpleQueryStringBuilderTest, allow part of only with mapping</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmUzZmM2YTBmN2U1ZjQ5Njg5MjZlZjQzNjI0NjFkNGE5NGUxMjkwOWUiLCJ0IjoxNzIyNDI2MDgzfQ==--a00a1b340bbe09b0e618bb03c78d9c3b264264ddf9f4fa208f34f897bdec0bf4" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=e3fc6a0f7e5f4968926ef4362461d4a94e12909e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/e3fc6a0f7e5f4968926ef4362461d4a94e12909e" class="Link--secondary">e3fc6a0</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/397a4305ad08781ec15d258c638fb9ccaafaac70">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM5N2E0MzA1YWQwODc4MWVjMTVkMjU4YzYzOGZiOWNjYWFmYWFjNzAiLCJ0IjoxNzIyNDI2MDgzfQ==--318cf673ba494b0f75f0f329586b932e876113f6a7a8581d9efdfdd8f52e829e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=397a4305ad08781ec15d258c638fb9ccaafaac70">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/397a4305ad08781ec15d258c638fb9ccaafaac70" class="Link--secondary">397a430</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query DSL: Remove duplicate code in AndQueryParser

When parsing inner array of filters, AndQueryParser seems to
check for correct &quot;filters&quot; field name but then does the same
kind of operation in the `else` branch of the stament. This
seems like it can be removed." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/14ce6c36c623bf2cd8162fc145af06994e827c81">Query DSL: Remove duplicate code in AndQueryParser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE0Y2U2YzM2YzYyM2JmMmNkODE2MmZjMTQ1YWYwNjk5NGU4MjdjODEiLCJ0IjoxNzIyNDI2MDgzfQ==--f0569a1010ab194618a9e04e3e03f6bf0d02414eff87d89096196bcb80fe356d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=14ce6c36c623bf2cd8162fc145af06994e827c81">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/14ce6c36c623bf2cd8162fc145af06994e827c81" class="Link--secondary">14ce6c3</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">When parsing inner array of filters, AndQueryParser seems to
check for correct "filters" field name but then does the same
kind of operation in the `else` branch of the stament. This
seems like it can be removed.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12808 from cbuescher/feature/query-refactoring-dupCodeAndParser

Remove duplicate code in AndQueryParser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a67ee73ee2bd1367d09837a199f6748e3a8be722">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="100342172" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12808" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12808/hovercard" href="https://github.com/elastic/elasticsearch/pull/12808">elastic#12808</a> <a title="Merge pull request #12808 from cbuescher/feature/query-refactoring-dupCodeAndParser

Remove duplicate code in AndQueryParser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a67ee73ee2bd1367d09837a199f6748e3a8be722">from cbuescher/feature/query-refacto…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmE2N2VlNzNlZTJiZDEzNjdkMDk4MzdhMTk5ZjY3NDhlM2E4YmU3MjIiLCJ0IjoxNzIyNDI2MDgzfQ==--f421b73670e915347602215d7df548773140d6bdfe62c43faf966d8e8cde6458" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a67ee73ee2bd1367d09837a199f6748e3a8be722">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a67ee73ee2bd1367d09837a199f6748e3a8be722" class="Link--secondary">a67ee73</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ring-dupCodeAndParser

Remove duplicate code in AndQueryParser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] minor change in BaseQueryTestCase#toQuery

Simplified if when we decide what to do based on the query and return value of supportsBoostAndQueryName" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/135aab0092c37a2e9539e1ada16d93da2fce7063">[TEST] minor change in BaseQueryTestCase#toQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjEzNWFhYjAwOTJjMzdhMmU5NTM5ZTFhZGExNmQ5M2RhMmZjZTcwNjMiLCJ0IjoxNzIyNDI2MDgzfQ==--8870b775abaadbdf2aaf416201f84b61be4a6797d84a0095b8a014a0e638e310" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=135aab0092c37a2e9539e1ada16d93da2fce7063">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/135aab0092c37a2e9539e1ada16d93da2fce7063" class="Link--secondary">135aab0</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Simplified if when we decide what to do based on the query and return value of supportsBoostAndQueryName</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: fixed some leftover generics warnings

Leftover after adding the query builder type to QueryParser. getBuilderPrototype is better typed now and doesn&#39;t require unchecked cast anymore. Fixed also some Tuple usage without types." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/babfea0ab7a1114f35cc3f3ea76da26b0882d4ff">Query refactoring: fixed some leftover generics warnings</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmJhYmZlYTBhYjdhMTExNGYzNWNjM2YzZWE3NmRhMjZiMDg4MmQ0ZmYiLCJ0IjoxNzIyNDI2MDgzfQ==--4e0cc94a5113fb5156610e644731115a7b426b493029c7adcde8a9fa41e16e37" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=babfea0ab7a1114f35cc3f3ea76da26b0882d4ff">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/babfea0ab7a1114f35cc3f3ea76da26b0882d4ff" class="Link--secondary">babfea0</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Leftover after adding the query builder type to QueryParser. getBuilderPrototype is better typed now and doesn't require unchecked cast anymore. Fixed also some Tuple usage without types.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: simplified generic types in IndicesQueriesRegistry and IndexQueryParseService" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c7974454579e4e7f8fa4c5003f2782725ab393ae">Query refactoring: simplified generic types in IndicesQueriesRegistry…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM3OTc0NDU0NTc5ZTRlN2Y4ZmE0YzUwMDNmMjc4MjcyNWFiMzkzYWUiLCJ0IjoxNzIyNDI2MDgzfQ==--9be02c6e3ce517b570b282dee09c48638fac5ed8457814649c1e61899c96d37f" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c7974454579e4e7f8fa4c5003f2782725ab393ae">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c7974454579e4e7f8fa4c5003f2782725ab393ae" class="Link--secondary">c797445</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">… and IndexQueryParseService</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: resolve guice injection issue after last commit" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8ac439fc1b40893ae12d09319a15b40b5ed2dc9d">Query refactoring: resolve guice injection issue after last commit</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjhhYzQzOWZjMWI0MDg5M2FlMTJkMDkzMTlhMTViNDBiNWVkMmRjOWQiLCJ0IjoxNzIyNDI2MDgzfQ==--421dd72a58280f536432381c1b8dd03da0246d5447bfd56127f45ce72bc1881e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8ac439fc1b40893ae12d09319a15b40b5ed2dc9d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8ac439fc1b40893ae12d09319a15b40b5ed2dc9d" class="Link--secondary">8ac439f</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/f8a90edab28fe6039b2d418519393f34d2f8da80">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmY4YTkwZWRhYjI4ZmU2MDM5YjJkNDE4NTE5MzkzZjM0ZDJmOGRhODAiLCJ0IjoxNzIyNDI2MDgzfQ==--17ec8d042b660b08e345683460195762e392d928f8388c5f501eb3d648197e5c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=f8a90edab28fe6039b2d418519393f34d2f8da80">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/f8a90edab28fe6039b2d418519393f34d2f8da80" class="Link--secondary">f8a90ed</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/TermsLookupQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] add test for equals and hashcode to BaseQueryTestCase" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/3e828924d4abe417bce195fd52d888d8479aab0a">[TEST] add test for equals and hashcode to BaseQueryTestCase</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjNlODI4OTI0ZDRhYmU0MTdiY2UxOTVmZDUyZDg4OGQ4NDc5YWFiMGEiLCJ0IjoxNzIyNDI2MDgzfQ==--be8ddc5f13ae072245eae795e32b09222ad2cac6c6b69a8b709bd27844e716dc" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=3e828924d4abe417bce195fd52d888d8479aab0a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/3e828924d4abe417bce195fd52d888d8479aab0a" class="Link--secondary">3e82892</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Modified AbstractQueryBuilder default hashcode impl

Closes #12145" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1cfe580cb7c9da5657efcaaf2513ff07bcf93a0d">Modified AbstractQueryBuilder default hashcode impl</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFjZmU1ODBjYjdjOWRhNTY1N2VmY2FhZjI1MTNmZjA3YmNmOTNhMGQiLCJ0IjoxNzIyNDI2MDgzfQ==--29ad83b044197a17b64025f7b5cbd080976da6d9ef83544d116840f2baaf02f6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1cfe580cb7c9da5657efcaaf2513ff07bcf93a0d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1cfe580cb7c9da5657efcaaf2513ff07bcf93a0d" class="Link--secondary">1cfe580</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"><span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes issue #12145.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93994005" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12145" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/12145/hovercard" href="https://github.com/elastic/elasticsearch/issues/12145">elastic#12145</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/32dfd249e95feede1732b3df7479059c30d5c3a6">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjMyZGZkMjQ5ZTk1ZmVlZGUxNzMyYjNkZjc0NzkwNTljMzBkNWMzYTYiLCJ0IjoxNzIyNDI2MDgzfQ==--7f9fa668e46bd753fee6d48e3ba4512986c9335f4fc76a2c4c26767f78bb2c39" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=32dfd249e95feede1732b3df7479059c30d5c3a6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/32dfd249e95feede1732b3df7479059c30d5c3a6" class="Link--secondary">32dfd24</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors WrapperQueryBuilder and Parser

Relates to #10217
Closes #12037

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/afcbd2915dc2471e9725da16b5dc844aff9504ff">Refactors WrapperQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmFmY2JkMjkxNWRjMjQ3MWU5NzI1ZGExNmI1ZGM4NDRhZmY5NTA0ZmYiLCJ0IjoxNzIyNDI2MDgzfQ==--d45c5c879b0ce4cdfaee1b539bc354105bcbbcb2d41b9d9ba809405d1e66dcc0" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=afcbd2915dc2471e9725da16b5dc844aff9504ff">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/afcbd2915dc2471e9725da16b5dc844aff9504ff" class="Link--secondary">afcbd29</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12037.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93049870" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12037" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12037/hovercard" href="https://github.com/elastic/elasticsearch/pull/12037">elastic#12037</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Revert &quot;Refactors WrapperQueryBuilder and Parser&quot;

This reverts commit afcbd2915dc2471e9725da16b5dc844aff9504ff." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d62128fc7855280f355ba95e7015bb6a946b0ab9">Revert "Refactors WrapperQueryBuilder and Parser"</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ2MjEyOGZjNzg1NTI4MGYzNTViYTk1ZTcwMTViYjZhOTQ2YjBhYjkiLCJ0IjoxNzIyNDI2MDgzfQ==--fa1a6ccde784aca6574b5e29e014b9196c0cfb925a1007816b29f895f5a07ced" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d62128fc7855280f355ba95e7015bb6a946b0ab9">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d62128fc7855280f355ba95e7015bb6a946b0ab9" class="Link--secondary">d62128f</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This reverts commit <a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/javanna/elasticsearch/commit/afcbd2915dc2471e9725da16b5dc844aff9504ff/hovercard" href="https://github.com/javanna/elasticsearch/commit/afcbd2915dc2471e9725da16b5dc844aff9504ff"><tt>afcbd29</tt></a>.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors WrapperQueryBuilder and Parser

Relates to #10217
Closes #12037

This PR is against the query-refactoring branch." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/3ebf7a43f5291ef84522dc76e870a3479fb94c37">Refactors WrapperQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjNlYmY3YTQzZjUyOTFlZjg0NTIyZGM3NmU4NzBhMzQ3OWZiOTRjMzciLCJ0IjoxNzIyNDI2MDgzfQ==--1d4c60fef1c09f4ee97ea798d0a2a3d9576e9e287bb00ed35d20827e916308c1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=3ebf7a43f5291ef84522dc76e870a3479fb94c37">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/3ebf7a43f5291ef84522dc76e870a3479fb94c37" class="Link--secondary">3ebf7a4</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>
<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12037.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93049870" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12037" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12037/hovercard" href="https://github.com/elastic/elasticsearch/pull/12037">elastic#12037</a>

This PR is against the query-refactoring branch.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] inject a random index to TestClusterService in BaseQueryTestCase#init

Some of our next queries to refactor rely on some state taken from the cluster state. That is why we need to mock cluster service and inject an index to it, the index that we simulate the execution of the queries against. The best would be to have multiple indices actually, but that would make our setup a lot more complicated, especially given that IndexQueryParseService is still per index. We might be able to improve that in the future though, for now this is as good as it gets." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/260a929e3bc1166c4f60bb15f6e9d9a829667393">[TEST] inject a random index to TestClusterService in BaseQueryTestCa…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI2MGE5MjllM2JjMTE2NmM0ZjYwYmIxNWY2ZTlkOWE4Mjk2NjczOTMiLCJ0IjoxNzIyNDI2MDgzfQ==--4fcb7b3f95e374bfe108880c3031ead08fec5626043c753127a57a36faa8cef8" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=260a929e3bc1166c4f60bb15f6e9d9a829667393">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/260a929e3bc1166c4f60bb15f6e9d9a829667393" class="Link--secondary">260a929</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…se#init

Some of our next queries to refactor rely on some state taken from the cluster state. That is why we need to mock cluster service and inject an index to it, the index that we simulate the execution of the queries against. The best would be to have multiple indices actually, but that would make our setup a lot more complicated, especially given that IndexQueryParseService is still per index. We might be able to improve that in the future though, for now this is as good as it gets.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
	core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
	core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/de54671173003750b5df2671c1ab64d1903fe8fb">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRlNTQ2NzExNzMwMDM3NTBiNWRmMjY3MWMxYWI2NGQxOTAzZmU4ZmIiLCJ0IjoxNzIyNDI2MDgzfQ==--ec9a5804d41a601b6900057b3071cb32674f87a212f095846fe59cec38861ccd" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=de54671173003750b5df2671c1ab64d1903fe8fb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/de54671173003750b5df2671c1ab64d1903fe8fb" class="Link--secondary">de54671</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoBoundingBoxQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
	core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesModule.java
	core/src/test/java/org/elasticsearch/index/query/plugin/DummyQueryParserPlugin.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/3843ae484d2196d084444d010e118c669a831f2c">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM4NDNhZTQ4NGQyMTk2ZDA4NDQ0NGQwMTBlMTE4YzY2OWE4MzFmMmMiLCJ0IjoxNzIyNDI2MDgzfQ==--86904eecd3224bd5337a31fdd68dc2afd82486532662028c0ab57652b7cb761d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=3843ae484d2196d084444d010e118c669a831f2c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/3843ae484d2196d084444d010e118c669a831f2c" class="Link--secondary">3843ae4</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4a3faf1126800a4e4be736e11fae64269e7a4e55">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRhM2ZhZjExMjY4MDBhNGU0YmU3MzZlMTFmYWU2NDI2OWU3YTRlNTUiLCJ0IjoxNzIyNDI2MDgzfQ==--341d76751a88fd0cd419ae2be6630ff9fcab8a7933a92860f854514b96f7bc59" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4a3faf1126800a4e4be736e11fae64269e7a4e55">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4a3faf1126800a4e4be736e11fae64269e7a4e55" class="Link--secondary">4a3faf1</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/NotQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryBuilder.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactoring of Indices Query

Relates to #10217

This PR is against the query-refactoring branch.

Closes #12031" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/99ac70860fc70d53ca2d4f9459561876e89b9cde">Refactoring of Indices Query</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk5YWM3MDg2MGZjNzBkNTNjYTJkNGY5NDU5NTYxODc2ZTg5YjljZGUiLCJ0IjoxNzIyNDI2MDgzfQ==--4dde2cc1f5fc236b02af82addaed7b8c36edb0bea9015e219654975394013ca2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=99ac70860fc70d53ca2d4f9459561876e89b9cde">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/99ac70860fc70d53ca2d4f9459561876e89b9cde" class="Link--secondary">99ac708</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12031.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="92998819" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12031" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12031/hovercard" href="https://github.com/elastic/elasticsearch/pull/12031">elastic#12031</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Brings Lucene query assertions back to QB test.

This brings the Lucene query assertions back to the querybuilder test that were
removed in the ancient past when we tested Lucene queries through their
inherent equals method. As we no longer do that it makes sense to do at least
coarse sanity checking on the generated Lucene query. More such checks are
being added as part of this commit.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7dcf0da0da1734c7cd84a84097c51c7cf45cea69">Brings Lucene query assertions back to QB test.</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjdkY2YwZGEwZGExNzM0YzdjZDg0YTg0MDk3YzUxYzdjZjQ1Y2VhNjkiLCJ0IjoxNzIyNDI2MDgzfQ==--3a9742a2b5d113dc5e06ee9d23bf1670a1cb93dfee13c8616965d9a75b6dc555" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7dcf0da0da1734c7cd84a84097c51c7cf45cea69">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7dcf0da0da1734c7cd84a84097c51c7cf45cea69" class="Link--secondary">7dcf0da</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This brings the Lucene query assertions back to the querybuilder test that were
removed in the ancient past when we tested Lucene queries through their
inherent equals method. As we no longer do that it makes sense to do at least
coarse sanity checking on the generated Lucene query. More such checks are
being added as part of this commit.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #12810 from MaineC/feature/simple-query-string-test

Brings Lucene query assertions to QB test.

Theser assertions were originally added as part of the SimpleQueryStringQueryBuilder refactoring but removed later as there were more extensive tests in place already. This commit brings them back in as the other tests have been removed.

This relates to #10217 and #11274" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/0b34c73b933f4d5d29750aa3330e8a591d516ab1">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="100399297" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12810" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12810/hovercard" href="https://github.com/elastic/elasticsearch/pull/12810">elastic#12810</a> <a title="Merge pull request #12810 from MaineC/feature/simple-query-string-test

Brings Lucene query assertions to QB test.

Theser assertions were originally added as part of the SimpleQueryStringQueryBuilder refactoring but removed later as there were more extensive tests in place already. This commit brings them back in as the other tests have been removed.

This relates to #10217 and #11274" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/0b34c73b933f4d5d29750aa3330e8a591d516ab1">from MaineC/feature/simple-query-str…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjBiMzRjNzNiOTMzZjRkNWQyOTc1MGFhMzMzMGU4YTU5MWQ1MTZhYjEiLCJ0IjoxNzIyNDI2MDgzfQ==--6627895390cc32f6776d6cdab2d52a089b121fd7fdb8c67f7703f7411feb07f5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=0b34c73b933f4d5d29750aa3330e8a591d516ab1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/0b34c73b933f4d5d29750aa3330e8a591d516ab1" class="Link--secondary">0b34c73</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ing-test

Brings Lucene query assertions to QB test.

Theser assertions were originally added as part of the SimpleQueryStringQueryBuilder refactoring but removed later as there were more extensive tests in place already. This commit brings them back in as the other tests have been removed.

This relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a> and <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="78869822" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11274" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11274/hovercard" href="https://github.com/elastic/elasticsearch/pull/11274">elastic#11274</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

	core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
	core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/345a30a2a725af3b53ca1d476a1361baa367b2af">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM0NWEzMGEyYTcyNWFmM2I1M2NhMWQ0NzZhMTM2MWJhYTM2N2IyYWYiLCJ0IjoxNzIyNDI2MDgzfQ==--65286d84762f9b2a242337683168c1115bbae89f83a3c30b902d255c6c9ed093" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=345a30a2a725af3b53ca1d476a1361baa367b2af">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/345a30a2a725af3b53ca1d476a1361baa367b2af" class="Link--secondary">345a30a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">	core/src/test/java/org/elasticsearch/plugins/PluginManagerIT.java
	core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/b18e4702782668e36648bd24083c0d2c16732a18">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmIxOGU0NzAyNzgyNjY4ZTM2NjQ4YmQyNDA4M2MwZDJjMTY3MzJhMTgiLCJ0IjoxNzIyNDI2MDgzfQ==--0a2a5faf49643d97808c00bea43cb1fecc51fcb72ec9ec36f2ccafea9e56e1b6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=b18e4702782668e36648bd24083c0d2c16732a18">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/b18e4702782668e36648bd24083c0d2c16732a18" class="Link--secondary">b18e470</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2d42839eefa506e568fdb2b7045fa260ef2354c5">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjJkNDI4MzllZWZhNTA2ZTU2OGZkYjJiNzA0NWZhMjYwZWYyMzU0YzUiLCJ0IjoxNzIyNDI2MDgzfQ==--466b76fc0c0199a605a82bc7da3e408d0811a459be92583a4456425a890df4f1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2d42839eefa506e568fdb2b7045fa260ef2354c5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2d42839eefa506e568fdb2b7045fa260ef2354c5" class="Link--secondary">2d42839</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryStringQueryBuilder.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] added tests for alternate queries formats

We currently test that our query parsers can parse the format that our query builder outputs in XContent format, but in some cases the parser supports more than that, hence we need more specific tests otherwise we have no coverage for alternate formats." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/37b2007eb45ade201d419585c917db2560cbac98">[TEST] added tests for alternate queries formats</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM3YjIwMDdlYjQ1YWRlMjAxZDQxOTU4NWM5MTdkYjI1NjBjYmFjOTgiLCJ0IjoxNzIyNDI2MDgzfQ==--f53d49334c577ece3c99d7ebadbbd38739b9d292ea93c82a5fdb3fc2ef644932" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=37b2007eb45ade201d419585c917db2560cbac98">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/37b2007eb45ade201d419585c917db2560cbac98" class="Link--secondary">37b2007</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">We currently test that our query parsers can parse the format that our query builder outputs in XContent format, but in some cases the parser supports more than that, hence we need more specific tests otherwise we have no coverage for alternate formats.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8757af2d928355a799290207d9128adae4c78fa1">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg3NTdhZjJkOTI4MzU1YTc5OTI5MDIwN2Q5MTI4YWRhZTRjNzhmYTEiLCJ0IjoxNzIyNDI2MDgzfQ==--fb154ab2bfd73ba554016b60f65112b4789a75af57362f0f7b0bd819a88e655f" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8757af2d928355a799290207d9128adae4c78fa1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8757af2d928355a799290207d9128adae4c78fa1" class="Link--secondary">8757af2</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/59cb67c7bd0ab6311115b20954e013412b676b29">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjU5Y2I2N2M3YmQwYWI2MzExMTE1YjIwOTU0ZTAxMzQxMmI2NzZiMjkiLCJ0IjoxNzIyNDI2MDgzfQ==--28ec3f944364a950c10b6fb787104e2cb55721af9156da30be02c967ab62412e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=59cb67c7bd0ab6311115b20954e013412b676b29">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/59cb67c7bd0ab6311115b20954e013412b676b29" class="Link--secondary">59cb67c</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/index/query/support/NestedInnerQueryParseSupport.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/96b5cebfb1fcecb4bf3533e38a138cc47017774a">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk2YjVjZWJmYjFmY2VjYjRiZjM1MzNlMzhhMTM4Y2M0NzAxNzc3NGEiLCJ0IjoxNzIyNDI2MDgzfQ==--72f6ce19adb6f5ba107bda635b498a55a69a21e204b5789cf93028c0adce37bd" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=96b5cebfb1fcecb4bf3533e38a138cc47017774a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/96b5cebfb1fcecb4bf3533e38a138cc47017774a" class="Link--secondary">96b5ceb</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/QueryStringQueryParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/efadf87371e8cf97b49a0761499108be2a5d7853">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmVmYWRmODczNzFlOGNmOTdiNDlhMDc2MTQ5OTEwOGJlMmE1ZDc4NTMiLCJ0IjoxNzIyNDI2MDgzfQ==--7b3e70bbfe3fbe05d6cf709d6b3e8405bd4bb3493f61882b8c3560d673157c69" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=efadf87371e8cf97b49a0761499108be2a5d7853">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/efadf87371e8cf97b49a0761499108be2a5d7853" class="Link--secondary">efadf87</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors TermsQueryBuilder and Parser

Refactors TermsQueryBuilder and Parser for #10217.

This PR is against the query-refactoring branch.

Closes #12042" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1af0a392214875152808f52992c3e98da8633fd8">Refactors TermsQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFhZjBhMzkyMjE0ODc1MTUyODA4ZjUyOTkyYzNlOThkYTg2MzNmZDgiLCJ0IjoxNzIyNDI2MDgzfQ==--1d5885b1a4d9126f1c5a243b7ee98285c8852a37cd043079c5172238f17f2ebc" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1af0a392214875152808f52992c3e98da8633fd8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1af0a392214875152808f52992c3e98da8633fd8" class="Link--secondary">1af0a39</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Refactors TermsQueryBuilder and Parser for <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>.

This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #12042.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="93211769" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12042" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/12042/hovercard" href="https://github.com/elastic/elasticsearch/pull/12042">elastic#12042</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="removes TermsLookup changes as it was used internally" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/0872a6ea39e8d43979234b3c586bf5a33550eef0">removes TermsLookup changes as it was used internally</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA4NzJhNmVhMzllOGQ0Mzk3OTIzNGIzYzU4NmJmNWEzMzU1MGVlZjAiLCJ0IjoxNzIyNDI2MDgzfQ==--0a005ed973bd47a15d4936c47601d6175e48bce9958a2cf4296d0630a9786067" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=0872a6ea39e8d43979234b3c586bf5a33550eef0">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/0872a6ea39e8d43979234b3c586bf5a33550eef0" class="Link--secondary">0872a6e</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] unify parsing code in tests

Also clean up static method in MoreLikeThisFetchService, fix randomly failing TermsQueryBuilderTest#testNullValues and rename mappedFieldNamesSmall to MAPPED_LEAF_FIELD_NAMES." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/94dd6c5f0eaf27002167f019c19e88a753ade5ae">[TEST] unify parsing code in tests</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk0ZGQ2YzVmMGVhZjI3MDAyMTY3ZjAxOWMxOWU4OGE3NTNhZGU1YWUiLCJ0IjoxNzIyNDI2MDgzfQ==--b865966cd13e4dfd1cfef8bf5d5df8e9d632a6de7dbf2ff13ff97f6f9f52213f" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=94dd6c5f0eaf27002167f019c19e88a753ade5ae">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/94dd6c5f0eaf27002167f019c19e88a753ade5ae" class="Link--secondary">94dd6c5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Also clean up static method in MoreLikeThisFetchService, fix randomly failing TermsQueryBuilderTest#testNullValues and rename mappedFieldNamesSmall to MAPPED_LEAF_FIELD_NAMES.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] make MockTermsLookupFetchService non static" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/350cba98cfd1f794ed4206aff3434f9743d74719">[TEST] make MockTermsLookupFetchService non static</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM1MGNiYTk4Y2ZkMWY3OTRlZDQyMDZhZmYzNDM0Zjk3NDNkNzQ3MTkiLCJ0IjoxNzIyNDI2MDgzfQ==--b43c3f7798af63cb83a56cbcf132224fb9d7e5f5642352f7352b515602f4ad34" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=350cba98cfd1f794ed4206aff3434f9743d74719">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/350cba98cfd1f794ed4206aff3434f9743d74719" class="Link--secondary">350cba9</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: remove code duplication in QueryValidationException

The class can now simply extend ValidationException and rely on the base class." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/24e53b5f8f5a1f5788469aedfb316dd5c93cc9b5">Internal: remove code duplication in QueryValidationException</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI0ZTUzYjVmOGY1YTFmNTc4ODQ2OWFlZGZiMzE2ZGQ1YzkzY2M5YjUiLCJ0IjoxNzIyNDI2MDgzfQ==--7e2877d1f73e96ec12283d9bd65cac6b6e19dea019003d7639dd486e921af596" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=24e53b5f8f5a1f5788469aedfb316dd5c93cc9b5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/24e53b5f8f5a1f5788469aedfb316dd5c93cc9b5" class="Link--secondary">24e53b5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">The class can now simply extend ValidationException and rely on the base class.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: clean up named writeable registry handling in netty transport classes

There are some leftovers around usage of NamedWriteableRegistry in our branch compared to master, just because the registry was added first here, then backported to master, and something didn&#39;t go completely right during the final merge." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/63077384060907a73419ee63b998ee3465e9421e">Internal: clean up named writeable registry handling in netty transpo…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYzMDc3Mzg0MDYwOTA3YTczNDE5ZWU2M2I5OThlZTM0NjVlOTQyMWUiLCJ0IjoxNzIyNDI2MDgzfQ==--46b800bbd109ea5fb05eb6011a7ee51f173890b29e70200976c08be80496abe9" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=63077384060907a73419ee63b998ee3465e9421e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/63077384060907a73419ee63b998ee3465e9421e" class="Link--secondary">6307738</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…rt classes

There are some leftovers around usage of NamedWriteableRegistry in our branch compared to master, just because the registry was added first here, then backported to master, and something didn't go completely right during the final merge.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] add serialization tests for QueryShardException" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/084a6101fecc675a051bd05f7fda746821423fe4">[TEST] add serialization tests for QueryShardException</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA4NGE2MTAxZmVjYzY3NWEwNTFiZDA1ZjdmZGE3NDY4MjE0MjNmZTQiLCJ0IjoxNzIyNDI2MDgzfQ==--7fc8eb3d7fe503b8015d44e9862f8df8a168ee3f7a6b033f8ae1d0e99eba0d99" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=084a6101fecc675a051bd05f7fda746821423fe4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/084a6101fecc675a051bd05f7fda746821423fe4" class="Link--secondary">084a610</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/78d097de39906fae207accf413bf6a6878aa5d80">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc4ZDA5N2RlMzk5MDZmYWUyMDdhY2NmNDEzYmY2YTY4NzhhYTVkODAiLCJ0IjoxNzIyNDI2MDgzfQ==--4141dac5e25350dffbc9fd51624ec3f8291d636995c69569edf81811b10ac577" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=78d097de39906fae207accf413bf6a6878aa5d80">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/78d097de39906fae207accf413bf6a6878aa5d80" class="Link--secondary">78d097d</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/apache/lucene/queryparser/classic/MapperQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/DisMaxQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/DisMaxQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/NestedQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/PrefixQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/RegexpQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanNearQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanOrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/support/InnerHitsQueryParserHelper.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] fix compilation error in IndexShardTests" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4ed198fef0e3fb28dfe4a811f9047bde6e4f69b1">[TEST] fix compilation error in IndexShardTests</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRlZDE5OGZlZjBlM2ZiMjhkZmU0YTgxMWY5MDQ3YmRlNmU0ZjY5YjEiLCJ0IjoxNzIyNDI2MDgzfQ==--acff481ff516205aa0b834d4f34ae21dd9f9840541f1af8518c2fb7d31f8ab9c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4ed198fef0e3fb28dfe4a811f9047bde6e4f69b1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4ed198fef0e3fb28dfe4a811f9047bde6e4f69b1" class="Link--secondary">4ed198f</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] parse queries through QueryParseContext in BaseQueryTestCase#parseQuery

This allows us to remove the string argument from the parseQuery method and the need for removing the first few tokens from the query, as the selected parser knows only about his portion of dsl." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2958751a2d5d54cd5ddf6c893a97b5298537ddd2">[TEST] parse queries through QueryParseContext in BaseQueryTestCase#p…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI5NTg3NTFhMmQ1ZDU0Y2Q1ZGRmNmM4OTNhOTdiNTI5ODUzN2RkZDIiLCJ0IjoxNzIyNDI2MDgzfQ==--a2e387182417f9961c70965ea75c2f059a57bc0f0314ec0a9dfce01d4ce4931e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2958751a2d5d54cd5ddf6c893a97b5298537ddd2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2958751a2d5d54cd5ddf6c893a97b5298537ddd2" class="Link--secondary">2958751</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…arseQuery

This allows us to remove the string argument from the parseQuery method and the need for removing the first few tokens from the query, as the selected parser knows only about his portion of dsl.</pre>
    </div>
</div>

</div>
</div>  </div>
</div>


</div>


  <div id="js-progressive-timeline-item-container">
    <!-- '"` --><!-- </textarea></xmp> -->

      <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDoxNDIwNDgyZjg2Yjk4MTY0YmMzZDc1YWIxMzAwMzYwMWM5ZDljOWM2">
  
        <div>
    <div id="commits-pushed-1420482" data-view-component="true" class="TimelineItem pb-1">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-push">
    <path d="M1 2.5A2.5 2.5 0 0 1 3.5 0h8.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V1.5h-8a1 1 0 0 0-1 1v6.708A2.493 2.493 0 0 1 3.5 9h3.25a.75.75 0 0 1 0 1.5H3.5a1 1 0 0 0 0 2h5.75a.75.75 0 0 1 0 1.5H3.5A2.5 2.5 0 0 1 1 11.5Zm13.23 7.79h-.001l-1.224-1.224v6.184a.75.75 0 0 1-1.5 0V9.066L10.28 10.29a.75.75 0 0 1-1.06-1.061l2.505-2.504a.75.75 0 0 1 1.06 0L15.29 9.23a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <a class="author Link--primary text-bold" data-test-selector="pr-timeline-events-commit-actor-profile-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  
<span>and others</span>
        added <span>60</span> commits
        <a href="https://github.com/elastic/elasticsearch/pull/13788#commits-pushed-1420482" data-view-component="true" class="Link--inTextBlock Link--secondary Link">
          <relative-time tense="past" datetime="2015-08-31T09:58:22+02:00" data-view-component="true" title="Aug 31, 2015, 9:58 AM GMT+2"><template shadowrootmode="open">9 years ago</template>August 31, 2015 09:58</relative-time>
</a></div>
</div>  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Simplify XContent representation of BoolQueryBuilder to always print out an array" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1420482f86b98164bc3d75ab13003601c9d9c9c6">Simplify XContent representation of BoolQueryBuilder to always print …</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE0MjA0ODJmODZiOTgxNjRiYzNkNzVhYjEzMDAzNjAxYzlkOWM5YzYiLCJ0IjoxNzIyNDI2MDg2fQ==--c9b87d8b4e2fe20dd9b39c4e1d79b36f410e801f616e0d19c46f55e7a4a6fed1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1420482f86b98164bc3d75ab13003601c9d9c9c6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1420482f86b98164bc3d75ab13003601c9d9c9c6" class="Link--secondary">1420482</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…out an array</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] refactor DummyQueryBuilder and corresponding parser

DummyQueryParser properly implements now fromXContent and the corresponding builder supports converting to the corresponding lucene query through toQuery method." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/cc408ddd452318b0ff4e20129852ce2f88815ea3">[TEST] refactor DummyQueryBuilder and corresponding parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmNjNDA4ZGRkNDUyMzE4YjBmZjRlMjAxMjk4NTJjZTJmODg4MTVlYTMiLCJ0IjoxNzIyNDI2MDg2fQ==--63f02d22bb650b3559f67c6be7228958a907a6c3ff47fa15dd498a0cb8f95d7e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=cc408ddd452318b0ff4e20129852ce2f88815ea3">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/cc408ddd452318b0ff4e20129852ce2f88815ea3" class="Link--secondary">cc408dd</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">DummyQueryParser properly implements now fromXContent and the corresponding builder supports converting to the corresponding lucene query through toQuery method.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: MoreLikeThisQueryParser to refer to index taken from QueryShardContext rather than QueryParseContext

The reason behind this change is that we will soon remove the index member from QueryParseContext, as parsing will be independent of the index it happens against." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c403bdbd62e2ffc731432052af7ac3530dcac69f">Internal: MoreLikeThisQueryParser to refer to index taken from QueryS…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM0MDNiZGJkNjJlMmZmYzczMTQzMjA1MmFmN2FjMzUzMGRjYWM2OWYiLCJ0IjoxNzIyNDI2MDg2fQ==--2ac6b2c709423f56c34ff0faa56b19c33db3c230153b7a148e1fc9df88360fa8" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c403bdbd62e2ffc731432052af7ac3530dcac69f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c403bdbd62e2ffc731432052af7ac3530dcac69f" class="Link--secondary">c403bdb</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…hardContext rather than QueryParseContext

The reason behind this change is that we will soon remove the index member from QueryParseContext, as parsing will be independent of the index it happens against.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: small QueryShardContext cleanup

Added some comments about changes that we might be able to make later on in the refactoring. Also exposed handleTermsLookup in the context directly, removed unused similarityService getter and corrected simpleMatchToIndexNames call according to changes happened on master (the method variant that accept types will go away, types are ignored anyway)." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c3070062db7ce1fc5e7278ead94288f1498217bd">Internal: small QueryShardContext cleanup</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmMzMDcwMDYyZGI3Y2UxZmM1ZTcyNzhlYWQ5NDI4OGYxNDk4MjE3YmQiLCJ0IjoxNzIyNDI2MDg2fQ==--90b6817bacf38d66d41beccd82890a62ee3e60cbaf7f8ff1c9ce637f5f39b81c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c3070062db7ce1fc5e7278ead94288f1498217bd">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c3070062db7ce1fc5e7278ead94288f1498217bd" class="Link--secondary">c307006</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Added some comments about changes that we might be able to make later on in the refactoring. Also exposed handleTermsLookup in the context directly, removed unused similarityService getter and corrected simpleMatchToIndexNames call according to changes happened on master (the method variant that accept types will go away, types are ignored anyway).</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] don&#39;t use deprecated methods in AbstractChildTestCase" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/84b51fc23724d2a959f2c9979760057ccac134df">[TEST] don't use deprecated methods in AbstractChildTestCase</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg0YjUxZmMyMzcyNGQyYTk1OWYyYzk5Nzk3NjAwNTdjY2FjMTM0ZGYiLCJ0IjoxNzIyNDI2MDg2fQ==--ce1196d9e22925324a81723f68fd4ae26c8064678c0ae056553ef45ba3846c4c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=84b51fc23724d2a959f2c9979760057ccac134df">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/84b51fc23724d2a959f2c9979760057ccac134df" class="Link--secondary">84b51fc</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: add comments to XContentStructure

Added comments to make sure we don&#39;t forget to remove the class once the refactoring is done." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dd65bd0fe831124f03de6acc5a5396ff318961fb">Internal: add comments to XContentStructure</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRkNjViZDBmZTgzMTEyNGYwM2RlNmFjYzVhNTM5NmZmMzE4OTYxZmIiLCJ0IjoxNzIyNDI2MDg2fQ==--26113f712cd07af7419d9532ab4c8c5bc1a1d1aaebb36a35f7b103621898b844" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=dd65bd0fe831124f03de6acc5a5396ff318961fb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/dd65bd0fe831124f03de6acc5a5396ff318961fb" class="Link--secondary">dd65bd0</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Added comments to make sure we don't forget to remove the class once the refactoring is done.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: call context.handleTermsLookup rather than context.indexQueryParserService().handleTermsLookup() in TermsQueryBuilder#toQuery" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c41843afec56b24faae0b21ac7df0e5e2354866b">Internal: call context.handleTermsLookup rather than context.indexQue…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM0MTg0M2FmZWM1NmIyNGZhYWUwYjIxYWM3ZGYwZTVlMjM1NDg2NmIiLCJ0IjoxNzIyNDI2MDg2fQ==--414f17d002325c80013686723894d0e5c83d29fbc39a045ff8f9d17c03627da9" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c41843afec56b24faae0b21ac7df0e5e2354866b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c41843afec56b24faae0b21ac7df0e5e2354866b" class="Link--secondary">c41843a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ryParserService().handleTermsLookup() in TermsQueryBuilder#toQuery</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: remove unused method from QueryParseContext and add comments" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/f624e350fb60386e54d54937ac91b88364388011">Internal: remove unused method from QueryParseContext and add comments</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmY2MjRlMzUwZmI2MDM4NmU1NGQ1NDkzN2FjOTFiODgzNjQzODgwMTEiLCJ0IjoxNzIyNDI2MDg2fQ==--b2a3d9ad37bc9464679346e7b5320a066fc42c214ecd5bb3d3af7f6f9651f63c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=f624e350fb60386e54d54937ac91b88364388011">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/f624e350fb60386e54d54937ac91b88364388011" class="Link--secondary">f624e35</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/faf526dccb51df866a8a6fc28fdb30ac0b4373b6">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZhZjUyNmRjY2I1MWRmODY2YThhNmZjMjhmZGIzMGFjMGI0MzczYjYiLCJ0IjoxNzIyNDI2MDg2fQ==--f4202e2a0bf672aa6e70d47a6d220e5bc75296d33c0489af5dc101e438fe62ad" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=faf526dccb51df866a8a6fc28fdb30ac0b4373b6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/faf526dccb51df866a8a6fc28fdb30ac0b4373b6" class="Link--secondary">faf526d</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Java api: don&#39;t mutate fields in SimpleQueryStringBuilder during toQuery execution

We used to mutate the map of fields and weights while transforming to lucene query (toQuery method), by adding the default field if the map is empty. That is an anti-pattern, we should leave the original query as is instead, but still generate the proper lucene query. Also took the chance to fix a couple of issues in SimpleQueryStringBuilderTest#doAssertLuceneQuery." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/11b41f1d6861a62458dee412834b8505e30744e4">Java api: don't mutate fields in SimpleQueryStringBuilder during toQu…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjExYjQxZjFkNjg2MWE2MjQ1OGRlZTQxMjgzNGI4NTA1ZTMwNzQ0ZTQiLCJ0IjoxNzIyNDI2MDg2fQ==--c5be10aecfc6750716419fef53e02b79fac244e5ea7b1dde01575f08dc8d0396" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=11b41f1d6861a62458dee412834b8505e30744e4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/11b41f1d6861a62458dee412834b8505e30744e4" class="Link--secondary">11b41f1</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ery execution

We used to mutate the map of fields and weights while transforming to lucene query (toQuery method), by adding the default field if the map is empty. That is an anti-pattern, we should leave the original query as is instead, but still generate the proper lucene query. Also took the chance to fix a couple of issues in SimpleQueryStringBuilderTest#doAssertLuceneQuery.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Internal: simplify SimpleQueryStringBuilder#doXContent method

No need to test for null values in fieldsAndWeights map, we use 1.0f a default boost all the time." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/95f38171827d534afd7922b4a9aa12188418f1d3">Internal: simplify SimpleQueryStringBuilder#doXContent method</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk1ZjM4MTcxODI3ZDUzNGFmZDc5MjJiNGE5YWExMjE4ODQxOGYxZDMiLCJ0IjoxNzIyNDI2MDg2fQ==--1aef29efdb2a4a8cf1f832fc5e125b1f134df2df942c55127dfa044031ed8b13" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=95f38171827d534afd7922b4a9aa12188418f1d3">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/95f38171827d534afd7922b4a9aa12188418f1d3" class="Link--secondary">95f3817</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">No need to test for null values in fieldsAndWeights map, we use 1.0f a default boost all the time.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
	core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
	core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/52be313c69de9358944943ef2df4b7e3cdd77b15">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjUyYmUzMTNjNjlkZTkzNTg5NDQ5NDNlZjJkZjRiN2UzY2RkNzdiMTUiLCJ0IjoxNzIyNDI2MDg2fQ==--9ae52c37dba304ded180121c2f64aa30bc5d3d4c404c9c23490e20de06cfe1ef" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=52be313c69de9358944943ef2df4b7e3cdd77b15">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/52be313c69de9358944943ef2df4b7e3cdd77b15" class="Link--secondary">52be313</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
	core/src/main/java/org/elasticsearch/index/query/TemplateQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/fieldvaluefactor/FieldValueFactorFunctionParser.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/GND.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/JLHScore.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/NXYSignificanceHeuristic.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/PercentageScore.java
	core/src/main/java/org/elasticsearch/search/aggregations/bucket/significant/heuristics/ScriptHeuristic.java
	core/src/test/java/org/elasticsearch/search/aggregations/bucket/SignificantTermsSignificanceScoreIT.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/fa93cc7b89e4a55e89d1e16fdcba7153a6dcceb5">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZhOTNjYzdiODllNGE1NWU4OWQxZTE2ZmRjYmE3MTUzYTZkY2NlYjUiLCJ0IjoxNzIyNDI2MDg2fQ==--eba397582c88c4358c685a9a631bd7b9de499e1912cbcf72819b8070eef4a107" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=fa93cc7b89e4a55e89d1e16fdcba7153a6dcceb5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/fa93cc7b89e4a55e89d1e16fdcba7153a6dcceb5" class="Link--secondary">fa93cc7</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] renamed tests according to updated naming conventions (Tests suffix enforced)" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4559db9cd9525859d656f875c3ae9ab64ea00831">[TEST] renamed tests according to updated naming conventions (Tests s…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjQ1NTlkYjljZDk1MjU4NTlkNjU2Zjg3NWMzYWU5YWI2NGVhMDA4MzEiLCJ0IjoxNzIyNDI2MDg2fQ==--393d8c59db10b4ad013d53999cbc064a37ff36a01874f446684eb1b47727b654" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4559db9cd9525859d656f875c3ae9ab64ea00831">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4559db9cd9525859d656f875c3ae9ab64ea00831" class="Link--secondary">4559db9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…uffix enforced)</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/107a4b14e097ec9786fbb15c528de448a902c8ed">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjEwN2E0YjE0ZTA5N2VjOTc4NmZiYjE1YzUyOGRlNDQ4YTkwMmM4ZWQiLCJ0IjoxNzIyNDI2MDg2fQ==--788cbb4f18a721aa73abde955663e91a241aa6e0107a6031774911ec6123f543" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=107a4b14e097ec9786fbb15c528de448a902c8ed">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/107a4b14e097ec9786fbb15c528de448a902c8ed" class="Link--secondary">107a4b1</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8bd7cdbdad05348aac409e64088cd29415e9c4ef">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjhiZDdjZGJkYWQwNTM0OGFhYzQwOWU2NDA4OGNkMjk0MTVlOWM0ZWYiLCJ0IjoxNzIyNDI2MDg2fQ==--5162f0162d82010f7180071161100330bfeac4067e7e50a2d5bed4b582e50a98" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8bd7cdbdad05348aac409e64088cd29415e9c4ef">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8bd7cdbdad05348aac409e64088cd29415e9c4ef" class="Link--secondary">8bd7cdb</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] adapt FilteredQueryBuilderTests to upstream changes" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ea83007c7e972b44f93fffd9c6e4cbde2d4b417a">[TEST] adapt FilteredQueryBuilderTests to upstream changes</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmVhODMwMDdjN2U5NzJiNDRmOTNmZmZkOWM2ZTRjYmRlMmQ0YjQxN2EiLCJ0IjoxNzIyNDI2MDg2fQ==--4977d040edd073ed52057a2fbf2f527d252f49ad6580227bfb9c6b2db9527f1e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=ea83007c7e972b44f93fffd9c6e4cbde2d4b417a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/ea83007c7e972b44f93fffd9c6e4cbde2d4b417a" class="Link--secondary">ea83007</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/be3409f1dbd38de5b61c5a29160828048501ef84">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmJlMzQwOWYxZGJkMzhkZTViNjFjNWEyOTE2MDgyODA0ODUwMWVmODQiLCJ0IjoxNzIyNDI2MDg2fQ==--3330a5325f58c45ba42901f37086b936136e330a7ba08e54886debc510019976" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=be3409f1dbd38de5b61c5a29160828048501ef84">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/be3409f1dbd38de5b61c5a29160828048501ef84" class="Link--secondary">be3409f</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/BoolQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/ExistsQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoShapeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MissingQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/SimpleQueryStringParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanContainingQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/SpanWithinQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/TermsQueryParser.java
	core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="adapt to upstream changes" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/083c774b5e32d41f72afd5eceda06ca3938ca095">adapt to upstream changes</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjA4M2M3NzRiNWUzMmQ0MWY3MmFmZDVlY2VkYTA2Y2EzOTM4Y2EwOTUiLCJ0IjoxNzIyNDI2MDg2fQ==--7018a4ff9292f0502e7f55f91fce00888c89ab6cc69dcc8e4e9a6bd29530b790" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=083c774b5e32d41f72afd5eceda06ca3938ca095">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/083c774b5e32d41f72afd5eceda06ca3938ca095" class="Link--secondary">083c774</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/f2605b34d6c93d4c1a7cedcbb1d748a66c52afa3">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmYyNjA1YjM0ZDZjOTNkNGMxYTdjZWRjYmIxZDc0OGE2NmM1MmFmYTMiLCJ0IjoxNzIyNDI2MDg2fQ==--f78dae65f73ae03ff41038d39e063970b9016a464139f2c51507e97a0e7d018a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=f2605b34d6c93d4c1a7cedcbb1d748a66c52afa3">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/f2605b34d6c93d4c1a7cedcbb1d748a66c52afa3" class="Link--secondary">f2605b3</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Split HasChildQueryParser into toQuery and formXContent

This is an intial commit that splits HasChildQueryParser / Builder into
the two seperate steps. This one is particularly nasty since it transports
a pretty wild InnerHits object that needs heavy refactoring. Yet, this commit
has still some nocommits and needs more tests and maybe another cleanup but
it&#39;s a start to get the code out there." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/18bec264f95b0d3641b0c9ee38d8c9486cb66ea6">Split HasChildQueryParser into toQuery and formXContent</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE4YmVjMjY0Zjk1YjBkMzY0MWIwYzllZTM4ZDhjOTQ4NmNiNjZlYTYiLCJ0IjoxNzIyNDI2MDg2fQ==--a19f8202e35396d27d580d00b3b3f57dce22881e060ccaed2ad9a530c4a2b7b4" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=18bec264f95b0d3641b0c9ee38d8c9486cb66ea6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/18bec264f95b0d3641b0c9ee38d8c9486cb66ea6" class="Link--secondary">18bec26</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This is an intial commit that splits HasChildQueryParser / Builder into
the two seperate steps. This one is particularly nasty since it transports
a pretty wild InnerHits object that needs heavy refactoring. Yet, this commit
has still some nocommits and needs more tests and maybe another cleanup but
it's a start to get the code out there.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] minor adjustments to boost assertions for queries that don&#39;t support it" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/50c43c9328b248cd5357ef90fee57ec9f31772dc">[TEST] minor adjustments to boost assertions for queries that don't s…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjUwYzQzYzkzMjhiMjQ4Y2Q1MzU3ZWY5MGZlZTU3ZWM5ZjMxNzcyZGMiLCJ0IjoxNzIyNDI2MDg2fQ==--5c823088b176adfbba0a3308461e96afab63211d3779a4801408a388f0c1efe0" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=50c43c9328b248cd5357ef90fee57ec9f31772dc">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/50c43c9328b248cd5357ef90fee57ec9f31772dc" class="Link--secondary">50c43c9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…upport it</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] re-enable boost assertions for queries that don&#39;t support it

This will be useful to find out whether we forgot to override `setFinalBoost`, otherwise any bost check is simply skipped." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6395349bc02ff7857a4f13c195bad0dd23f5e9db">[TEST] re-enable boost assertions for queries that don't support it</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYzOTUzNDliYzAyZmY3ODU3YTRmMTNjMTk1YmFkMGRkMjNmNWU5ZGIiLCJ0IjoxNzIyNDI2MDg2fQ==--67ef0ec1e3cb939b19fd93581da47c50aef2c39f29c393b14439ff150707d932" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=6395349bc02ff7857a4f13c195bad0dd23f5e9db">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/6395349bc02ff7857a4f13c195bad0dd23f5e9db" class="Link--secondary">6395349</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This will be useful to find out whether we forgot to override `setFinalBoost`, otherwise any bost check is simply skipped.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Split HasParentQueryParser into toQuery and formXContent

This commit splits HasParentQueryParser into toQuery and fromXContent.
This change also deprecates several keys in favor of simplified settings
and adds basic unittests for HasParentQueryParser.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d2e53e0e0c1c20f1be178a1da8bc76c9e5993cf8">Split HasParentQueryParser into toQuery and formXContent</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQyZTUzZTBlMGMxYzIwZjFiZTE3OGExZGE4YmM3NmM5ZTU5OTNjZjgiLCJ0IjoxNzIyNDI2MDg2fQ==--a9b4bf368593cac377c8568764b9c41461fa97965f430e82f2e41cf4d66099a8" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d2e53e0e0c1c20f1be178a1da8bc76c9e5993cf8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d2e53e0e0c1c20f1be178a1da8bc76c9e5993cf8" class="Link--secondary">d2e53e0</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This commit splits HasParentQueryParser into toQuery and fromXContent.
This change also deprecates several keys in favor of simplified settings
and adds basic unittests for HasParentQueryParser.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors TemplateQueryBuilder and Parser

Relates to #10217

This PR is against the query-refactoring branch.

Closes #13253" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c2ccb2157c22a885a9b892c3e6f728d2e87724d6">Refactors TemplateQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmMyY2NiMjE1N2MyMmE4ODVhOWI4OTJjM2U2ZjcyOGQyZTg3NzI0ZDYiLCJ0IjoxNzIyNDI2MDg2fQ==--813337fed6876a9fcc7d8191e925f493b02663eee03180c2e6e38204a738a415" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c2ccb2157c22a885a9b892c3e6f728d2e87724d6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c2ccb2157c22a885a9b892c3e6f728d2e87724d6" class="Link--secondary">c2ccb21</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13253.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="104314796" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13253" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13253/hovercard" href="https://github.com/elastic/elasticsearch/pull/13253">elastic#13253</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Refactor of GeohashCellQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

PR goes against the query-refactoring branch" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4f0ae05da52592966dabc94ac8b454766f8e1662">Query Refactoring: Refactor of GeohashCellQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-faa90c42-dialog" data-show-dialog-id="commit-badge-unverified-faa90c42-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-faa90c42-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-faa90c42-dialog-title" aria-describedby="commit-badge-unverified-faa90c42-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-faa90c42-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-faa90c42-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-faa90c42-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjRmMGFlMDVkYTUyNTkyOTY2ZGFiYzk0YWM4YjQ1NDc2NmY4ZTE2NjIiLCJ0IjoxNzIyNDI2MDg2fQ==--efa272e7ea3c0a32cc80af601bef9381878e1122ad0a048ff08b8fa31c8825db" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4f0ae05da52592966dabc94ac8b454766f8e1662">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4f0ae05da52592966dabc94ac8b454766f8e1662" class="Link--secondary">4f0ae05</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

PR goes against the query-refactoring branch</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Refactor of GeoDistanceRangeQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Also this PR removes the check that the index is created before 2.0 for the normalize parameter. The parameter is now always parsed but as a deprecated parameter. We cannot and should not access the index version during parsing.

Relates to #10217

PR goes against the query-refactoring branch" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/19792516baca62f62c719e1e00d6b88d35cf7a60">Query Refactoring: Refactor of GeoDistanceRangeQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-8076be6b-dialog" data-show-dialog-id="commit-badge-unverified-8076be6b-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-8076be6b-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-8076be6b-dialog-title" aria-describedby="commit-badge-unverified-8076be6b-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-8076be6b-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-8076be6b-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-8076be6b-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE5NzkyNTE2YmFjYTYyZjYyYzcxOWUxZTAwZDZiODhkMzVjZjdhNjAiLCJ0IjoxNzIyNDI2MDg2fQ==--3e675083f7b65797b750245a1c21e00ac64fa5cd6e52fdd3e08c9d4fe66edcb3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=19792516baca62f62c719e1e00d6b88d35cf7a60">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/19792516baca62f62c719e1e00d6b88d35cf7a60" class="Link--secondary">1979251</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Also this PR removes the check that the index is created before 2.0 for the normalize parameter. The parameter is now always parsed but as a deprecated parameter. We cannot and should not access the index version during parsing.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

PR goes against the query-refactoring branch</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] fix geo query failures when no types are defined" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/678e1be5cf9c94607677c91b7e4b889a1f6362a5">[TEST] fix geo query failures when no types are defined</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-ba9cf115-dialog" data-show-dialog-id="commit-badge-unverified-ba9cf115-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-ba9cf115-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-ba9cf115-dialog-title" aria-describedby="commit-badge-unverified-ba9cf115-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-ba9cf115-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-ba9cf115-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-ba9cf115-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjY3OGUxYmU1Y2Y5Yzk0NjA3Njc3YzkxYjdlNGI4ODlhMWY2MzYyYTUiLCJ0IjoxNzIyNDI2MDg2fQ==--3837ba2b28b153c068b5f466aea7341ac1e30281c98be9490a4d68f7baa83b99" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=678e1be5cf9c94607677c91b7e4b889a1f6362a5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/678e1be5cf9c94607677c91b7e4b889a1f6362a5" class="Link--secondary">678e1be</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
	core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
	core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
	core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
	core/src/test/resources/org/elasticsearch/index/query/simple-query-string.json" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/db705ab4609c48961333d984d21d4a26f8b86781">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRiNzA1YWI0NjA5YzQ4OTYxMzMzZDk4NGQyMWQ0YTI2ZjhiODY3ODEiLCJ0IjoxNzIyNDI2MDg2fQ==--691110b6bd17e824676afe4e14217ff9bc273ac19c7e4b9764a9a734d3c4bb61" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=db705ab4609c48961333d984d21d4a26f8b86781">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/db705ab4609c48961333d984d21d4a26f8b86781" class="Link--secondary">db705ab</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/mapper/internal/ParentFieldMapper.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/MoreLikeThisQueryParser.java
	core/src/main/java/org/elasticsearch/index/search/child/ChildrenQuery.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/index/search/child/AbstractChildTestCase.java
	core/src/test/java/org/elasticsearch/index/search/child/ChildrenConstantScoreQueryTests.java
	core/src/test/java/org/elasticsearch/index/search/child/ChildrenQueryTests.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchBwcIT.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
	core/src/test/resources/org/elasticsearch/index/query/simple-query-string.json</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="adapted to changes upstream" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7a2dd7d55c4e7a79e4fc0f1abdd346219b251047">adapted to changes upstream</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjdhMmRkN2Q1NWM0ZTdhNzllNGZjMGYxYWJkZDM0NjIxOWIyNTEwNDciLCJ0IjoxNzIyNDI2MDg2fQ==--48213ecc786080c5d741f0ae181f54e99c093cbc839b768715b72c6d972d145a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7a2dd7d55c4e7a79e4fc0f1abdd346219b251047">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7a2dd7d55c4e7a79e4fc0f1abdd346219b251047" class="Link--secondary">7a2dd7d</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] fix template query with unmapped fields" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/274611c7c0c26e1febeae1576cfb5a23f65bf58c">[TEST] fix template query with unmapped fields</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjI3NDYxMWM3YzBjMjZlMWZlYmVhZTE1NzZjZmI1YTIzZjY1YmY1OGMiLCJ0IjoxNzIyNDI2MDg2fQ==--90e0bc6b760e3ff4e42405dedd8a7c822d22c4e526dad4bb77efa37c50b3e9c7" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=274611c7c0c26e1febeae1576cfb5a23f65bf58c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/274611c7c0c26e1febeae1576cfb5a23f65bf58c" class="Link--secondary">274611c</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: query_string

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/484fcd49e571f1d4d334e10e7660f129cbee7a94">Query refactoring: query_string</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjQ4NGZjZDQ5ZTU3MWYxZDRkMzM0ZTEwZTc2NjBmMTI5Y2JlZTdhOTQiLCJ0IjoxNzIyNDI2MDg2fQ==--84ee955e35de4368ab8822f593196b8b07d68d372b99e02829b9d0bf5c7e0cd0" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=484fcd49e571f1d4d334e10e7660f129cbee7a94">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/484fcd49e571f1d4d334e10e7660f129cbee7a94" class="Link--secondary">484fcd4</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Cleanup QueryTest framework and be more strict

This commit contains:
 * renaming BaseQueryTestCase to AbstractQueryTestCase
 * uses always STRICT parsing when parsing from builders XContent
 * ensures that SearchContext is only but always available during toQuery but never during parse phase
 * adds a way to override the default ParseFieldMatcher to allow queries to set deprecated API by default" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/9f722a66745261f0a04a7ab338ab29f5a728a4a5">Cleanup QueryTest framework and be more strict</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjlmNzIyYTY2NzQ1MjYxZjBhMDRhN2FiMzM4YWIyOWY1YTcyOGE0YTUiLCJ0IjoxNzIyNDI2MDg2fQ==--2e7f400fe75b45cec43687bd3544db59aea7a9032c61c3029025f3b96259d336" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=9f722a66745261f0a04a7ab338ab29f5a728a4a5">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/9f722a66745261f0a04a7ab338ab29f5a728a4a5" class="Link--secondary">9f722a6</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This commit contains:
 * renaming BaseQueryTestCase to AbstractQueryTestCase
 * uses always STRICT parsing when parsing from builders XContent
 * ensures that SearchContext is only but always available during toQuery but never during parse phase
 * adds a way to override the default ParseFieldMatcher to allow queries to set deprecated API by default</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="delete unused XContentStructure class" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/5cc423a229e83f63b2d6abba02f7fd07bdb8b334">delete unused XContentStructure class</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjVjYzQyM2EyMjllODNmNjNiMmQ2YWJiYTAyZjdmZDA3YmRiOGIzMzQiLCJ0IjoxNzIyNDI2MDg2fQ==--167230f9ab6ed6b719ecc33c481bad6855676f281572348267e2af366ef631b3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=5cc423a229e83f63b2d6abba02f7fd07bdb8b334">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/5cc423a229e83f63b2d6abba02f7fd07bdb8b334" class="Link--secondary">5cc423a</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: MatchQueryBuilder

This add equals, hashcode, read/write methods, separates toQuery and JSON parsing and adds tests.
Also moving MatchQueryBuilder.Type to MatchQuery to MatchQuery, adding serialization and hashcode,
equals there.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/90fac17a2dfe8adc7b877d8bed525447f252e201">Query refactoring: MatchQueryBuilder</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkwZmFjMTdhMmRmZThhZGM3Yjg3N2Q4YmVkNTI1NDQ3ZjI1MmUyMDEiLCJ0IjoxNzIyNDI2MDg2fQ==--6d5172e8d4defc1eea0b046519b6fbea16ef072bc47c780c99810d6fdd053927" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=90fac17a2dfe8adc7b877d8bed525447f252e201">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/90fac17a2dfe8adc7b877d8bed525447f252e201" class="Link--secondary">90fac17</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This add equals, hashcode, read/write methods, separates toQuery and JSON parsing and adds tests.
Also moving MatchQueryBuilder.Type to MatchQuery to MatchQuery, adding serialization and hashcode,
equals there.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Cleanup code and always use strict parsing on query tests" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/de3c9a23e96febc1989f220098e6e6282dc34810">Cleanup code and always use strict parsing on query tests</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRlM2M5YTIzZTk2ZmViYzE5ODlmMjIwMDk4ZTZlNjI4MmRjMzQ4MTAiLCJ0IjoxNzIyNDI2MDg2fQ==--ed0f48e9203fb79dadb023abcec13c755da8c6da85dad60b37bdc4d6fc9bdca5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=de3c9a23e96febc1989f220098e6e6282dc34810">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/de3c9a23e96febc1989f220098e6e6282dc34810" class="Link--secondary">de3c9a2</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #13441 from s1monw/fix_query_base_test

Cleanup QueryTest framework and be more strict" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/feb5bdb23e101398e93bcb0051afad11fee820f1">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="105690649" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13441" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13441/hovercard" href="https://github.com/elastic/elasticsearch/pull/13441">elastic#13441</a> <a title="Merge pull request #13441 from s1monw/fix_query_base_test

Cleanup QueryTest framework and be more strict" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/feb5bdb23e101398e93bcb0051afad11fee820f1">from s1monw/fix_query_base_test</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZlYjViZGIyM2UxMDEzOThlOTNiY2IwMDUxYWZhZDExZmVlODIwZjEiLCJ0IjoxNzIyNDI2MDg2fQ==--20b2d30d80f2a2689c917dc2cf6119411890fd5db3037e0f2ee7e5b454f98f8d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=feb5bdb23e101398e93bcb0051afad11fee820f1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/feb5bdb23e101398e93bcb0051afad11fee820f1" class="Link--secondary">feb5bdb</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Cleanup QueryTest framework and be more strict</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Use AbstractQueryTestCase in MatchQueryBuilderTests" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/e2bbfbe1d56d8b6168b128b59ddf4998d0dfa41b">Use AbstractQueryTestCase in MatchQueryBuilderTests</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmUyYmJmYmUxZDU2ZDhiNjE2OGIxMjhiNTlkZGY0OTk4ZDBkZmE0MWIiLCJ0IjoxNzIyNDI2MDg2fQ==--71911e3fb48833d81a28e5813986b77c01df3df0d82dd26f34310c20098f627a" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=e2bbfbe1d56d8b6168b128b59ddf4998d0dfa41b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/e2bbfbe1d56d8b6168b128b59ddf4998d0dfa41b" class="Link--secondary">e2bbfbe</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove ordinal member from Operator enum

Use the already available enum ordinal instead.

Closes #13456" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1dc985a2c4dcb905ea4680338e71791dfce226ff">Remove ordinal member from Operator enum</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFkYzk4NWEyYzRkY2I5MDVlYTQ2ODAzMzhlNzE3OTFkZmNlMjI2ZmYiLCJ0IjoxNzIyNDI2MDg2fQ==--8c6c842ab8605680810c3cfd800cc920df28c1b01ae63384637c923d3b4b752b" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1dc985a2c4dcb905ea4680338e71791dfce226ff">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1dc985a2c4dcb905ea4680338e71791dfce226ff" class="Link--secondary">1dc985a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Use the already available enum ordinal instead.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13456.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="105766795" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13456" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13456/hovercard" href="https://github.com/elastic/elasticsearch/pull/13456">elastic#13456</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Split NestedQueryParser into toQuery and formXContent

This commit splits NestedQueryParser into toQuery and fromXContent.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8d2a2f8d664c495b2cc69eb7f9a8eaab903f125a">Split NestedQueryParser into toQuery and formXContent</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjhkMmEyZjhkNjY0YzQ5NWIyY2M2OWViN2Y5YThlYWFiOTAzZjEyNWEiLCJ0IjoxNzIyNDI2MDg2fQ==--f4d9b1edaead1a219446c7b5c90672a782043cca5602de8cfa62b49d56355268" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8d2a2f8d664c495b2cc69eb7f9a8eaab903f125a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8d2a2f8d664c495b2cc69eb7f9a8eaab903f125a" class="Link--secondary">8d2a2f8</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This commit splits NestedQueryParser into toQuery and fromXContent.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
	core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
	core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
	core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
	core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/56b3db6ba3463d244ea777b527b7a786caa5042c">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjU2YjNkYjZiYTM0NjNkMjQ0ZWE3NzdiNTI3YjdhNzg2Y2FhNTA0MmMiLCJ0IjoxNzIyNDI2MDg2fQ==--33e8ecd7a1eb32234f7aab996bae14198a2496faa649a4f2254bb7de3dddddcf" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=56b3db6ba3463d244ea777b527b7a786caa5042c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/56b3db6ba3463d244ea777b527b7a786caa5042c" class="Link--secondary">56b3db6</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/AndQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/AndQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/FQueryFilterParser.java
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/FilteredQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/IndicesQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/LimitQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/LimitQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/MultiMatchQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/OrQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryFilterBuilder.java
	core/src/main/java/org/elasticsearch/index/query/QueryFilterParser.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/ScriptQueryParser.java
	core/src/main/java/org/elasticsearch/indices/query/IndicesQueriesRegistry.java
	core/src/main/java/org/elasticsearch/search/sort/GeoDistanceSortParser.java
	core/src/main/java/org/elasticsearch/search/sort/SortParseElement.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="adapt to upstream changes" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2e687384290cf09207e9f12275b5775d684d5ddf">adapt to upstream changes</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjJlNjg3Mzg0MjkwY2YwOTIwN2U5ZjEyMjc1YjU3NzVkNjg0ZDVkZGYiLCJ0IjoxNzIyNDI2MDg2fQ==--f1e26449d58b504a2bff500cd84cc970cc7392785e73e133ee8643d0e2aac29c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2e687384290cf09207e9f12275b5775d684d5ddf">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2e687384290cf09207e9f12275b5775d684d5ddf" class="Link--secondary">2e68738</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Refactor of GeoPolygonQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

PR goes against the query-refactoring branch" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/cac72c9207baec556c6ec2c0eca30a8a48a8e387">Query Refactoring: Refactor of GeoPolygonQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-d6d47cb0-dialog" data-show-dialog-id="commit-badge-unverified-d6d47cb0-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-d6d47cb0-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-d6d47cb0-dialog-title" aria-describedby="commit-badge-unverified-d6d47cb0-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-d6d47cb0-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-d6d47cb0-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-d6d47cb0-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmNhYzcyYzkyMDdiYWVjNTU2YzZlYzJjMGVjYTMwYThhNDhhOGUzODciLCJ0IjoxNzIyNDI2MDg2fQ==--8321a1865876c4479807270104a1f5010cad2f0bd4567bd5faaff6a121458c26" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=cac72c9207baec556c6ec2c0eca30a8a48a8e387">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/cac72c9207baec556c6ec2c0eca30a8a48a8e387" class="Link--secondary">cac72c9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

PR goes against the query-refactoring branch</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove ShapeFetchService and TermsLookupFetchService and use a Client instead

This commit removes all the optional injects etc. for the FetchServices and
provides a Client via IndexQueryParserService / Context. This allows direct
injection instead of optional injection. It also allows to remove all the
unnecessary services and use the fetch code where it belongs.
This commit also adds testing infrastructure for intercepting client calls
to AbstractQueryTestCase to support GET calls in query tests." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/94a37d486f0c9715cba1d66ffcbdd00c46bf6ec4">Remove ShapeFetchService and TermsLookupFetchService and use a Client…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojk0YTM3ZDQ4NmYwYzk3MTVjYmExZDY2ZmZjYmRkMDBjNDZiZjZlYzQiLCJ0IjoxNzIyNDI2MDg2fQ==--7c520e3a541ca5b9106f36fc4bd3d5bbc7a0e0d9225c6da5d3e40a819e4f2c56" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=94a37d486f0c9715cba1d66ffcbdd00c46bf6ec4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/94a37d486f0c9715cba1d66ffcbdd00c46bf6ec4" class="Link--secondary">94a37d4</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">… instead

This commit removes all the optional injects etc. for the FetchServices and
provides a Client via IndexQueryParserService / Context. This allows direct
injection instead of optional injection. It also allows to remove all the
unnecessary services and use the fetch code where it belongs.
This commit also adds testing infrastructure for intercepting client calls
to AbstractQueryTestCase to support GET calls in query tests.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fold MoreLikeThisFetchService into MoreLikeThisQueryParser

now that we have a Client on the Shard context we can fold
the doc fetching into the parser / builder.

Relates to #13488" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/853b7fdb7c5492a74d8e117b273cc554138a94dc">Fold MoreLikeThisFetchService into MoreLikeThisQueryParser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg1M2I3ZmRiN2M1NDkyYTc0ZDhlMTE3YjI3M2NjNTU0MTM4YTk0ZGMiLCJ0IjoxNzIyNDI2MDg2fQ==--6ce7431d32fc06750b0cfbf2a9c92041d602fa86004c673d14ef468d9b327452" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=853b7fdb7c5492a74d8e117b273cc554138a94dc">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/853b7fdb7c5492a74d8e117b273cc554138a94dc" class="Link--secondary">853b7fd</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">now that we have a Client on the Shard context we can fold
the doc fetching into the parser / builder.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="105885851" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13488" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13488/hovercard" href="https://github.com/elastic/elasticsearch/pull/13488">elastic#13488</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Refactor of GeoShapeQuery

Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to #10217

PR goes against the query-refactoring branch" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2118936deb54e305f614f34234e0358e3572631b">Query Refactoring: Refactor of GeoShapeQuery</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-011e4212-dialog" data-show-dialog-id="commit-badge-unverified-011e4212-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-011e4212-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-011e4212-dialog-title" aria-describedby="commit-badge-unverified-011e4212-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-011e4212-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-011e4212-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-011e4212-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjIxMTg5MzZkZWI1NGUzMDVmNjE0ZjM0MjM0ZTAzNThlMzU3MjYzMWIiLCJ0IjoxNzIyNDI2MDg2fQ==--2ddf448da839d37fde67555236ebc8a25e0b2fbb3e96c1edb94e7b1560d09a71" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2118936deb54e305f614f34234e0358e3572631b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2118936deb54e305f614f34234e0358e3572631b" class="Link--secondary">2118936</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving the query building functionality from the parser to the builders
new toQuery() method analogous to other recent query refactorings.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

PR goes against the query-refactoring branch</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fixed Typo in Test Name" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/f8c47345b00a26aabec4f8533c98ba56e2b325eb">Fixed Typo in Test Name</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-70db48da-dialog" data-show-dialog-id="commit-badge-unverified-70db48da-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-70db48da-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-70db48da-dialog-title" aria-describedby="commit-badge-unverified-70db48da-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-70db48da-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-70db48da-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-70db48da-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmY4YzQ3MzQ1YjAwYTI2YWFiZWM0Zjg1MzNjOThiYTU2ZTJiMzI1ZWIiLCJ0IjoxNzIyNDI2MDg2fQ==--7c77e3148bc4d24b69c9b35b870c5c78c3576504b87d22f3bff6359a26d7f3aa" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=f8c47345b00a26aabec4f8533c98ba56e2b325eb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/f8c47345b00a26aabec4f8533c98ba56e2b325eb" class="Link--secondary">f8c4734</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] Removed @Repeat Annotation" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d49a744b7eceaf85191778f4d074b3607508a07d">[TEST] Removed</a> <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/repeat/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/repeat">@repeat</a> <a title="[TEST] Removed @Repeat Annotation" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/d49a744b7eceaf85191778f4d074b3607508a07d">Annotation</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-7fc5bde3-dialog" data-show-dialog-id="commit-badge-unverified-7fc5bde3-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-7fc5bde3-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-7fc5bde3-dialog-title" aria-describedby="commit-badge-unverified-7fc5bde3-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-7fc5bde3-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-7fc5bde3-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-7fc5bde3-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmQ0OWE3NDRiN2VjZWFmODUxOTE3NzhmNGQwNzRiMzYwNzUwOGEwN2QiLCJ0IjoxNzIyNDI2MDg2fQ==--8b172bc9f6ec7028e42bdcb6fbf16de1d12898ad6c78b2382efd48c5bd4fc438" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=d49a744b7eceaf85191778f4d074b3607508a07d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/d49a744b7eceaf85191778f4d074b3607508a07d" class="Link--secondary">d49a744</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
	core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
	docs/reference/query-dsl/has-parent-query.asciidoc" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/73f7df510e45d36e9892dfbbf219a66df2d7322e">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjczZjdkZjUxMGU0NWQzNmU5ODkyZGZiYmYyMTlhNjZkZjJkNzMyMmUiLCJ0IjoxNzIyNDI2MDg2fQ==--4d4b979e5a931cc2e9a07908e3bbdab3de4a895ef4c9f0baf6d552581b8479f0" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=73f7df510e45d36e9892dfbbf219a66df2d7322e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/73f7df510e45d36e9892dfbbf219a66df2d7322e" class="Link--secondary">73f7df5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasChildQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/HasParentQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/FunctionScoreQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/functionscore/factor/FactorParser.java
	core/src/test/java/org/elasticsearch/ExceptionSerializationTests.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchBenchmark.java
	core/src/test/java/org/elasticsearch/benchmark/search/child/ChildSearchShortCircuitBenchmark.java
	core/src/test/java/org/elasticsearch/index/query/SimpleIndexQueryParserTests.java
	core/src/test/java/org/elasticsearch/percolator/PercolatorIT.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java
	docs/reference/query-dsl/has-parent-query.asciidoc</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="remove guava usage from IdsQueryBuilder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/e522458735d758bdb685c3fa37d9068b91963f13">remove guava usage from IdsQueryBuilder</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmU1MjI0NTg3MzVkNzU4YmRiNjg1YzNmYTM3ZDkwNjhiOTE5NjNmMTMiLCJ0IjoxNzIyNDI2MDg2fQ==--7769ed1b727a28fd49fd1046ae492c90969a9cc56c6de4e3779f03c3a06dd4a2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=e522458735d758bdb685c3fa37d9068b91963f13">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/e522458735d758bdb685c3fa37d9068b91963f13" class="Link--secondary">e522458</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="adapt to upstream lucene changes" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/79c58a122eafb20e3d0965cf1fcd20e8e82ce55f">adapt to upstream lucene changes</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc5YzU4YTEyMmVhZmIyMGUzZDA5NjVjZjFmY2QyMGU4ZTgyY2U1NWYiLCJ0IjoxNzIyNDI2MDg2fQ==--1b308613c41cd218b97db7e5a5048e0781fe4a2ab8e8ee1d426eb22331c322ae" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=79c58a122eafb20e3d0965cf1fcd20e8e82ce55f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/79c58a122eafb20e3d0965cf1fcd20e8e82ce55f" class="Link--secondary">79c58a1</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] BooleanQuery iteration order is not consistent" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/f2b4ba9a7cc94766f14d56087b805aa29a3ac7a7">[TEST] BooleanQuery iteration order is not consistent</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmYyYjRiYTlhN2NjOTQ3NjZmMTRkNTYwODdiODA1YWEyOWEzYWM3YTciLCJ0IjoxNzIyNDI2MDg2fQ==--1d2fc5660a1e4469f128f0fb2bef6fda57cb3ef2444ab628050f43529e82403d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=f2b4ba9a7cc94766f14d56087b805aa29a3ac7a7">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/f2b4ba9a7cc94766f14d56087b805aa29a3ac7a7" class="Link--secondary">f2b4ba9</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: adding illegal argument checks to MatchQueryBuilder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/adaa998225794d47ba17fd40efb5108ab47879a4">Query Refactoring: adding illegal argument checks to MatchQueryBuilder</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmFkYWE5OTgyMjU3OTRkNDdiYTE3ZmQ0MGVmYjUxMDhhYjQ3ODc5YTQiLCJ0IjoxNzIyNDI2MDg2fQ==--b2d2d76d8f866bd818802349afbf7a326dbbd1eec625011e545a9507e2575814" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=adaa998225794d47ba17fd40efb5108ab47879a4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/adaa998225794d47ba17fd40efb5108ab47879a4" class="Link--secondary">adaa998</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
	core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/90f24c1a79705cdf63e232517b87905744ae5b3d">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkwZjI0YzFhNzk3MDVjZGY2M2UyMzI1MTdiODc5MDU3NDRhZTViM2QiLCJ0IjoxNzIyNDI2MDg2fQ==--a903d13b443a349bf7296845918be720bd573be3e34d45d84372bd66c9f7c4b1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=90f24c1a79705cdf63e232517b87905744ae5b3d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/90f24c1a79705cdf63e232517b87905744ae5b3d" class="Link--secondary">90f24c1</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/index/query/GeoDistanceRangeQueryParser.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeohashCellQuery.java
	core/src/main/java/org/elasticsearch/index/query/WrapperQueryBuilder.java
	core/src/test/java/org/elasticsearch/search/child/ChildQuerySearchIT.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Tests: re-enable SearchQueryIT#testIndicesQuerySkipParsing and fixing exception message" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/01ea42619a02aab44784bcc97baaad3d8aaa8adb">Tests: re-enable SearchQueryIT#testIndicesQuerySkipParsing and fixing…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjAxZWE0MjYxOWEwMmFhYjQ0Nzg0YmNjOTdiYWFhZDNkOGFhYThhZGIiLCJ0IjoxNzIyNDI2MDg2fQ==--e2e639b3bb5c8572ec3e2368dc97924c0d5a147b0b4d9c93c8a4a00ab0a00b91" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=01ea42619a02aab44784bcc97baaad3d8aaa8adb">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/01ea42619a02aab44784bcc97baaad3d8aaa8adb" class="Link--secondary">01ea426</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">… exception message</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dbaa90a3f8f3823662db3e611d16c4254f6037cc">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRiYWE5MGEzZjhmMzgyMzY2MmRiM2U2MTFkMTZjNDI1NGY2MDM3Y2MiLCJ0IjoxNzIyNDI2MDg2fQ==--4417e583dea74c205a7389a11514832cf7fec25391870ff3610569f8bdde07dd" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=dbaa90a3f8f3823662db3e611d16c4254f6037cc">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/dbaa90a3f8f3823662db3e611d16c4254f6037cc" class="Link--secondary">dbaa90a</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Also adds tests for date fields for match query builder

PR is against the query refactoring branch.

Closes #13585" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4096244ec29ad1948c010c89a6c44e479e674117">Also adds tests for date fields for match query builder</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjQwOTYyNDRlYzI5YWQxOTQ4YzAxMGM4OWE2YzQ0ZTQ3OWU2NzQxMTciLCJ0IjoxNzIyNDI2MDg2fQ==--97fc5f7682dc382f3c2eae6edff94e7d542950ef056f59868993a07c88d1806f" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4096244ec29ad1948c010c89a6c44e479e674117">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4096244ec29ad1948c010c89a6c44e479e674117" class="Link--secondary">4096244</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">PR is against the query refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13585.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="106607873" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13585" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13585/hovercard" href="https://github.com/elastic/elasticsearch/pull/13585">elastic#13585</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors MoreLikeThisQueryBuilder and Parser

Relates to #10217

This PR is against the query-refactoring branch.

Closes #13486" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a13336da5482d5ab2ebdf7cbb8120b551848e279">Refactors MoreLikeThisQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmExMzMzNmRhNTQ4MmQ1YWIyZWJkZjdjYmI4MTIwYjU1MTg0OGUyNzkiLCJ0IjoxNzIyNDI2MDg2fQ==--1b382a2833b46275bae4d5851682429d4b00d818beb7ba8ae3310ba1e018aeb3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a13336da5482d5ab2ebdf7cbb8120b551848e279">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a13336da5482d5ab2ebdf7cbb8120b551848e279" class="Link--secondary">a13336d</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13486.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="105854935" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13486" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13486/hovercard" href="https://github.com/elastic/elasticsearch/pull/13486">elastic#13486</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Removes unused empty parser&#39;s constructors" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/65139ee40a9a4ffe49ceb80406288bd42c5d5514">Removes unused empty parser's constructors</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjY1MTM5ZWU0MGE5YTRmZmU0OWNlYjgwNDA2Mjg4YmQ0MmM1ZDU1MTQiLCJ0IjoxNzIyNDI2MDg2fQ==--fc28925af8c90ef193349ca25b2ae119af57e5693cb636f4aa0e92fc7bd5db10" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=65139ee40a9a4ffe49ceb80406288bd42c5d5514">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/65139ee40a9a4ffe49ceb80406288bd42c5d5514" class="Link--secondary">65139ee</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors GeoDistanceQueryBuilder/-Parser

Splits parsing and Lucene query generation. Switches from storing lat/lon
separately to using GeoPoint instead.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8fb1aa97810034f1679dc3afa7aafc649d3e038f">Refactors GeoDistanceQueryBuilder/-Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjhmYjFhYTk3ODEwMDM0ZjE2NzlkYzNhZmE3YWFmYzY0OWQzZTAzOGYiLCJ0IjoxNzIyNDI2MDg2fQ==--b9bd2f462d33b4c284050ee2ef1563687a397db5f4d5d9e0950df537fa78c45d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8fb1aa97810034f1679dc3afa7aafc649d3e038f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8fb1aa97810034f1679dc3afa7aafc649d3e038f" class="Link--secondary">8fb1aa9</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Splits parsing and Lucene query generation. Switches from storing lat/lon
separately to using GeoPoint instead.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>  </div>
</div>


</div>


  <div id="js-progressive-timeline-item-container">
    <!-- '"` --><!-- </textarea></xmp> -->

      <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDpmZjc0ZTk0MjYwZjQ4MmVkNmEzMmFkMzNkYjZkYmE3ZGU1MmU0NTJm">
  
        <div>
    <div id="commits-pushed-ff74e94" data-view-component="true" class="TimelineItem pb-1">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-push">
    <path d="M1 2.5A2.5 2.5 0 0 1 3.5 0h8.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V1.5h-8a1 1 0 0 0-1 1v6.708A2.493 2.493 0 0 1 3.5 9h3.25a.75.75 0 0 1 0 1.5H3.5a1 1 0 0 0 0 2h5.75a.75.75 0 0 1 0 1.5H3.5A2.5 2.5 0 0 1 1 11.5Zm13.23 7.79h-.001l-1.224-1.224v6.184a.75.75 0 0 1-1.5 0V9.066L10.28 10.29a.75.75 0 0 1-1.06-1.061l2.505-2.504a.75.75 0 0 1 1.06 0L15.29 9.23a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <a class="author Link--primary text-bold" data-test-selector="pr-timeline-events-commit-actor-profile-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">cbuescher</a>
  
<span>and others</span>
        added <span>21</span> commits
        <a href="https://github.com/elastic/elasticsearch/pull/13788#commits-pushed-ff74e94" data-view-component="true" class="Link--inTextBlock Link--secondary Link">
          <relative-time tense="past" datetime="2015-09-16T13:04:18+02:00" data-view-component="true" title="Sep 16, 2015, 1:04 PM GMT+2"><template shadowrootmode="open">9 years ago</template>September 16, 2015 13:04</relative-time>
</a></div>
</div>  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
    core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
    core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
    core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
    core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
    core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ff74e94260f482ed6a32ad33db6dba7de52e452f">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmZmNzRlOTQyNjBmNDgyZWQ2YTMyYWQzM2RiNmRiYTdkZTUyZTQ1MmYiLCJ0IjoxNzIyNDI2MDg5fQ==--1aab4533f0dd1474c881658c162c0269979a6c029e38bd078f34738656325d2e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=ff74e94260f482ed6a32ad33db6dba7de52e452f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/ff74e94260f482ed6a32ad33db6dba7de52e452f" class="Link--secondary">ff74e94</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
    core/src/main/java/org/elasticsearch/common/unit/Fuzziness.java
    core/src/main/java/org/elasticsearch/index/mapper/internal/IdFieldMapper.java
    core/src/main/java/org/elasticsearch/index/query/IdsQueryParser.java
    core/src/main/java/org/elasticsearch/index/query/functionscore/random/RandomScoreFunctionParser.java
    core/src/test/java/org/elasticsearch/search/highlight/HighlighterSearchIT.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="TermsQueryBuilder: removing guava Longs" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c5a7fedb239001c468e96e3884b2fc7fcf44578c">TermsQueryBuilder: removing guava Longs</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM1YTdmZWRiMjM5MDAxYzQ2OGU5NmUzODg0YjJmYzdmY2Y0NDU3OGMiLCJ0IjoxNzIyNDI2MDg5fQ==--578d788d05b20e81f61f80cb9786da5213e097565fb3a15327d199097cda80b2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c5a7fedb239001c468e96e3884b2fc7fcf44578c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c5a7fedb239001c468e96e3884b2fc7fcf44578c" class="Link--secondary">c5a7fed</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475" width="20" height="20" alt="@alexksikes" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors MultiMatchQueryBuilder and Parser

Relates to #10217

This PR is against the query-refactoring branch.

Closes #13405" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a3c68f690bd3d4baaf7e1c18f8e70e4412514a73">Refactors MultiMatchQueryBuilder and Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmEzYzY4ZjY5MGJkM2Q0YmFhZjdlMWMxOGY4ZTcwZTQ0MTI1MTRhNzMiLCJ0IjoxNzIyNDI2MDg5fQ==--026a5e209b8eafcb157819e73ddb10f4fc239e73aed29216b5e2cd9de395497c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a3c68f690bd3d4baaf7e1c18f8e70e4412514a73">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a3c68f690bd3d4baaf7e1c18f8e70e4412514a73" class="Link--secondary">a3c68f6</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a>

This PR is against the query-refactoring branch.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13405.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="105455063" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13405" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13405/hovercard" href="https://github.com/elastic/elasticsearch/pull/13405">elastic#13405</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Tests: Fix HighlighterSearchIT#testMultiMatchQueryHighlight, dont use null type" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/125be0a05f5305c66f536e4a9e1b3b46a743a253">Tests: Fix HighlighterSearchIT#testMultiMatchQueryHighlight, dont use…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjEyNWJlMGEwNWY1MzA1YzY2ZjUzNmU0YTllMWIzYjQ2YTc0M2EyNTMiLCJ0IjoxNzIyNDI2MDg5fQ==--6d17eccb4b92ae8f9bce5e8477ea1d7d4fc92001a55ada57bf1fcf9a9974cadb" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=125be0a05f5305c66f536e4a9e1b3b46a743a253">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/125be0a05f5305c66f536e4a9e1b3b46a743a253" class="Link--secondary">125be0a</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">… null type</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: moving validation to constructors and setters

This PR is an initial step to move the query validation we started
to collect in the validate() method to the corresponding setters
and constructors." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/887399eebfb053cc0741ea82bbd7ddc3403a6c71">Query Refactoring: moving validation to constructors and setters</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg4NzM5OWVlYmZiMDUzY2MwNzQxZWE4MmJiZDdkZGMzNDAzYTZjNzEiLCJ0IjoxNzIyNDI2MDg5fQ==--7aef27d6ec53aa83ebf100963cfc6735b0b37a64b3f6f5b66fab018bbf7e7874" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=887399eebfb053cc0741ea82bbd7ddc3403a6c71">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/887399eebfb053cc0741ea82bbd7ddc3403a6c71" class="Link--secondary">887399e</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This PR is an initial step to move the query validation we started
to collect in the validate() method to the corresponding setters
and constructors.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/nknize/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nknize">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/830187" width="20" height="20" alt="@nknize" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fix RandomShapeGenerator to retry on JTS Assertion and RandomShapeException

A JTS bug causes a misinterpretation of polygon coordinates leading to an unhelpful &quot;geom&quot; AssertionError. While this assertion occurs approx 0.02% of the time it can lead to a misleading test failure. This patch catches the geom assertion and retries randomShapeCreation. For safety a threshold is set to prevent unlimited retrying - though 1 retry is typically sufficient for correcting the invalid shape.

closes #13551" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/9a67d6641b16e4356d958b0063dbbcf1e427579c">Fix RandomShapeGenerator to retry on JTS Assertion and RandomShapeExc…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-3bc10667-dialog" data-show-dialog-id="commit-badge-unverified-3bc10667-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-3bc10667-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-3bc10667-dialog-title" aria-describedby="commit-badge-unverified-3bc10667-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-3bc10667-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-3bc10667-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-3bc10667-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjlhNjdkNjY0MWIxNmU0MzU2ZDk1OGIwMDYzZGJiY2YxZTQyNzU3OWMiLCJ0IjoxNzIyNDI2MDg5fQ==--075a341901bc93cd4ca524a3ca2b821af9f3eed26266383205752490b465f66e" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=9a67d6641b16e4356d958b0063dbbcf1e427579c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/9a67d6641b16e4356d958b0063dbbcf1e427579c" class="Link--secondary">9a67d66</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…eption

A JTS bug causes a misinterpretation of polygon coordinates leading to an unhelpful "geom" AssertionError. While this assertion occurs approx 0.02% of the time it can lead to a misleading test failure. This patch catches the geom assertion and retries randomShapeCreation. For safety a threshold is set to prevent unlimited retrying - though 1 retry is typically sufficient for correcting the invalid shape.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes issue #13551.">closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="106288322" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13551" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/13551/hovercard" href="https://github.com/elastic/elasticsearch/issues/13551">elastic#13551</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: moving validation to constructors and setters

This PR is the second batch in moving the query validation we started
to collect in the validate() method to the corresponding setters
and constructors." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/37b46fb79c622fec79e220b4ac93d548b59982ae">Query Refactoring: moving validation to constructors and setters</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
          <a aria-label="View comments on this commit" class="Link--secondary" href="https://github.com/elastic/elasticsearch/commit/37b46fb79c622fec79e220b4ac93d548b59982ae#comments">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-comment-discussion">
    <path d="M1.75 1h8.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 10.25 10H7.061l-2.574 2.573A1.458 1.458 0 0 1 2 11.543V10h-.25A1.75 1.75 0 0 1 0 8.25v-5.5C0 1.784.784 1 1.75 1ZM1.5 2.75v5.5c0 .138.112.25.25.25h1a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h3.5a.25.25 0 0 0 .25-.25v-5.5a.25.25 0 0 0-.25-.25h-8.5a.25.25 0 0 0-.25.25Zm13 2a.25.25 0 0 0-.25-.25h-.5a.75.75 0 0 1 0-1.5h.5c.966 0 1.75.784 1.75 1.75v5.5A1.75 1.75 0 0 1 14.25 12H14v1.543a1.458 1.458 0 0 1-2.487 1.03L9.22 12.28a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l2.22 2.22v-2.19a.75.75 0 0 1 .75-.75h1a.25.25 0 0 0 .25-.25Z"></path>
</svg>
</a>      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM3YjQ2ZmI3OWM2MjJmZWM3OWUyMjBiNGFjOTNkNTQ4YjU5OTgyYWUiLCJ0IjoxNzIyNDI2MDg5fQ==--8b5abf94286a2f378c473b39234e08774dba075f3223649417f9dd81072c5abe" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=37b46fb79c622fec79e220b4ac93d548b59982ae">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/37b46fb79c622fec79e220b4ac93d548b59982ae" class="Link--secondary">37b46fb</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This PR is the second batch in moving the query validation we started
to collect in the validate() method to the corresponding setters
and constructors.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/ElasticsearchException.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/bab9523c5688f254a75b3e975f0f5ae934dc0190">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmJhYjk1MjNjNTY4OGYyNTRhNzViM2U5NzVmMGY1YWU5MzRkYzAxOTAiLCJ0IjoxNzIyNDI2MDg5fQ==--5d9ad67dd3d1421a42724b9373bd818cbe53d0b29633a8303f2f8e91abb7eef2" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=bab9523c5688f254a75b3e975f0f5ae934dc0190">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/bab9523c5688f254a75b3e975f0f5ae934dc0190" class="Link--secondary">bab9523</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/ElasticsearchException.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Add QueryShardException to list in ElasticsearchException" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/c6d254ad7efa6c802bb48778a978360733bb73d8">Add QueryShardException to list in ElasticsearchException</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmM2ZDI1NGFkN2VmYTZjODAyYmI0ODc3OGE5NzgzNjA3MzNiYjczZDgiLCJ0IjoxNzIyNDI2MDg5fQ==--9acb99a9507329cda4b5ecfa754d46779e34a89937ba761eaa7dff619f92a898" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=c6d254ad7efa6c802bb48778a978360733bb73d8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/c6d254ad7efa6c802bb48778a978360733bb73d8" class="Link--secondary">c6d254a</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/197313c19be74f40222bf20f742071e1b266d5d0">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE5NzMxM2MxOWJlNzRmNDAyMjJiZjIwZjc0MjA3MWUxYjI2NmQ1ZDAiLCJ0IjoxNzIyNDI2MDg5fQ==--2ae594294874fd7fb7ea3725e3d771c3f6330347052409b11c910e405323a0db" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=197313c19be74f40222bf20f742071e1b266d5d0">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/197313c19be74f40222bf20f742071e1b266d5d0" class="Link--secondary">197313c</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1228a9fe55582f99afff2c356408008b069c704b">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjEyMjhhOWZlNTU1ODJmOTlhZmZmMmMzNTY0MDgwMDhiMDY5YzcwNGIiLCJ0IjoxNzIyNDI2MDg5fQ==--733ea58227ca59efd09099a82dacb22c22d79af0ef92ddd7c79269fad7251999" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1228a9fe55582f99afff2c356408008b069c704b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1228a9fe55582f99afff2c356408008b069c704b" class="Link--secondary">1228a9f</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2da1baf5467923f4c08895defca546ee57b96ef1">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjJkYTFiYWY1NDY3OTIzZjRjMDg4OTVkZWZjYTU0NmVlNTdiOTZlZjEiLCJ0IjoxNzIyNDI2MDg5fQ==--ad645dbcec58272a221e0aa7730f8c675c4391c8ac265300c1bcb4bb210b8858" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2da1baf5467923f4c08895defca546ee57b96ef1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2da1baf5467923f4c08895defca546ee57b96ef1" class="Link--secondary">2da1baf</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start AvatarStack--two ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731" width="20" height="20" alt="@colings86" class=" avatar-user">
</a>      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fix messed up merge" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a2334981fafa709a7d93e44426466c9b92095fe9">Fix messed up merge</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        

      <button id="dialog-show-commit-badge-unverified-39a53051-dialog" data-show-dialog-id="commit-badge-unverified-39a53051-dialog" type="button" data-view-component="true" class="signed-commit-badge signed-commit-badge-small unverified  Button--secondary Button--medium Button">  <span class="Button-content">
    <span class="Button-label">Unverified</span>
  </span>
</button>

<dialog-helper>
  <dialog id="commit-badge-unverified-39a53051-dialog" aria-modal="true" aria-labelledby="commit-badge-unverified-39a53051-dialog-title" aria-describedby="commit-badge-unverified-39a53051-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-small-portrait Overlay--motion-scaleFade">
    <div style="border-radius: 12px 12px 0 0" data-view-component="true" class="Overlay-header Overlay-header--divided color-bg-subtle">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title sr-only" id="commit-badge-unverified-39a53051-dialog-title">
        Unverified
      </h1>
                  <div class="d-flex">
            <div class="pr-1">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-unverified mr-2">
    <path d="M6.415.52a2.677 2.677 0 0 1 3.17 0l.928.68c.153.113.33.186.518.215l1.138.175a2.678 2.678 0 0 1 2.241 2.24l.175 1.138c.029.187.102.365.215.518l.68.928a2.677 2.677 0 0 1 0 3.17l-.68.928a1.186 1.186 0 0 0-.215.518l-.175 1.138a2.678 2.678 0 0 1-2.241 2.241l-1.138.175a1.186 1.186 0 0 0-.518.215l-.928.68a2.677 2.677 0 0 1-3.17 0l-.928-.68a1.186 1.186 0 0 0-.518-.215L3.83 14.41a2.678 2.678 0 0 1-2.24-2.24l-.175-1.138a1.186 1.186 0 0 0-.215-.518l-.68-.928a2.677 2.677 0 0 1 0-3.17l.68-.928a1.17 1.17 0 0 0 .215-.518l.175-1.14a2.678 2.678 0 0 1 2.24-2.24l1.138-.175c.187-.029.365-.102.518-.215l.928-.68Zm2.282 1.209a1.18 1.18 0 0 0-1.394 0l-.928.68a2.67 2.67 0 0 1-1.18.489l-1.136.174a1.18 1.18 0 0 0-.987.987l-.174 1.137a2.67 2.67 0 0 1-.489 1.18l-.68.927c-.305.415-.305.98 0 1.394l.68.928c.256.348.423.752.489 1.18l.174 1.136c.078.51.478.909.987.987l1.137.174c.427.066.831.233 1.18.489l.927.68c.415.305.98.305 1.394 0l.928-.68a2.67 2.67 0 0 1 1.18-.489l1.136-.174c.51-.078.909-.478.987-.987l.174-1.137c.066-.427.233-.831.489-1.18l.68-.927c.305-.415.305-.98 0-1.394l-.68-.928a2.67 2.67 0 0 1-.489-1.18l-.174-1.136a1.18 1.18 0 0 0-.987-.987l-1.137-.174a2.67 2.67 0 0 1-1.18-.489ZM6.92 6.085h.001a.75.75 0 0 1-1.342-.67c.169-.339.436-.701.849-.977C6.846 4.16 7.369 4 8 4a2.76 2.76 0 0 1 1.638.525c.502.377.862.965.862 1.725 0 .448-.115.83-.329 1.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6.24 6.24 0 0 0-.26.16.952.952 0 0 0-.276.245.75.75 0 0 1-1.248-.832c.184-.264.42-.489.692-.661.109-.073.22-.139.313-.195l.007-.004c.1-.061.182-.11.258-.161a.969.969 0 0 0 .277-.245C8.96 6.514 9 6.427 9 6.25a.612.612 0 0 0-.262-.525A1.27 1.27 0 0 0 8 5.5c-.369 0-.595.09-.74.187a1.01 1.01 0 0 0-.34.398ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            </div>
            <div class="flex-1">
                  This commit is not signed, but one or more authors requires that any commit attributed to them is signed.
            </div>
          </div>

    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="commit-badge-unverified-39a53051-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="commit-badge-unverified-39a53051-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">          <div class="signed-commit-footer">
            <a class="Link--inTextBlock" href="https://docs.github.com/github/authenticating-to-github/displaying-verification-statuses-for-all-of-your-commits">Learn about vigilant mode</a>
          </div>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>

      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmEyMzM0OTgxZmFmYTcwOWE3ZDkzZTQ0NDI2NDY2YzliOTIwOTVmZTkiLCJ0IjoxNzIyNDI2MDg5fQ==--5f7389f52f55702491ed1944184ba095fefd3988f70c1710cba7b8adec2f1a06" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a2334981fafa709a7d93e44426466c9b92095fe9">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a2334981fafa709a7d93e44426466c9b92095fe9" class="Link--secondary">a233498</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove forbidden API usage" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/2305ccef43f22b80ac35e58690882f356792f78b">Remove forbidden API usage</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjIzMDVjY2VmNDNmMjJiODBhYzM1ZTU4NjkwODgyZjM1Njc5MmY3OGIiLCJ0IjoxNzIyNDI2MDg5fQ==--9c75f87101fc6eb5e329c3935b78ed1950b24e569ab6f8f6b3481289747e995c" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=2305ccef43f22b80ac35e58690882f356792f78b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/2305ccef43f22b80ac35e58690882f356792f78b" class="Link--secondary">2305cce</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334" width="20" height="20" alt="@s1monw" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Add tests and fixes for primitive numeric ctors on TermsQueryBuilder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/37cff7b01c9129f4d9ef927b84942e2bb9f872b8">Add tests and fixes for primitive numeric ctors on TermsQueryBuilder</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM3Y2ZmN2IwMWM5MTI5ZjRkOWVmOTI3Yjg0OTQyZTJiYjlmODcyYjgiLCJ0IjoxNzIyNDI2MDg5fQ==--b1c37940c80e15ac4340e9db50376ac9275dac6543354029628bf3f9ff5787bb" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=37cff7b01c9129f4d9ef927b84942e2bb9f872b8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/37cff7b01c9129f4d9ef927b84942e2bb9f872b8" class="Link--secondary">37cff7b</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Refactors GeoBoundingBoxQueryBuilder/-Parser

This add equals, hashcode, read/write methods, validation, separates toQuery
and JSON parsing and adds serialization and query generation tests.

Deprecates two types of initializing the bounding box: In our documentation we
speak about specifying top/left and bottom/right corner of a bounding box. Here
we also allow for top/right and bottom/left. This adds not only to the amount
of code but also testing needed w/o too much benefit for the user other than
more chances to confuse top/right/bottom/left/latitude/longitude IMHO.

Missing: The toQuery method with type set to &quot;indexed&quot; is not tested at the
moment.

Cleanup changes unrelated to base refactoring:
* Switched from type String to enum for types in GeoBoundingBoxQueryBuilder.
* Switched to using type GeoPoint for storing the bounding box coordinates
  instead of array of double values.

Relates to #10217 for the query refactoring part.
Relates to #12016 for how missing mappings are handled.

Adds a utility class for generating random geo data.

Adds some missing documentation.

Extend test to MEMORY type config

Fix final review comments and rebase" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/91b97a6f7bda843a030e5c0cefacfcd2b5be8e2c">Refactors GeoBoundingBoxQueryBuilder/-Parser</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjkxYjk3YTZmN2JkYTg0M2EwMzBlNWMwY2VmYWNmY2QyYjViZThlMmMiLCJ0IjoxNzIyNDI2MDg5fQ==--32114d78c19f589e7d10ab584d1cc4e2898e5cf4d9924f9e2d6e19dd2e2319f5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=91b97a6f7bda843a030e5c0cefacfcd2b5be8e2c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/91b97a6f7bda843a030e5c0cefacfcd2b5be8e2c" class="Link--secondary">91b97a6</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">This add equals, hashcode, read/write methods, validation, separates toQuery
and JSON parsing and adds serialization and query generation tests.

Deprecates two types of initializing the bounding box: In our documentation we
speak about specifying top/left and bottom/right corner of a bounding box. Here
we also allow for top/right and bottom/left. This adds not only to the amount
of code but also testing needed w/o too much benefit for the user other than
more chances to confuse top/right/bottom/left/latitude/longitude IMHO.

Missing: The toQuery method with type set to "indexed" is not tested at the
moment.

Cleanup changes unrelated to base refactoring:
* Switched from type String to enum for types in GeoBoundingBoxQueryBuilder.
* Switched to using type GeoPoint for storing the bounding box coordinates
  instead of array of double values.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a> for the query refactoring part.
Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="92844373" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/12016" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/12016/hovercard" href="https://github.com/elastic/elasticsearch/issues/12016">elastic#12016</a> for how missing mappings are handled.

Adds a utility class for generating random geo data.

Adds some missing documentation.

Extend test to MEMORY type config

Fix final review comments and rebase</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #11969 from MaineC/feature/geo-bounding-box-refactoring

Refactoring of GeoBoundingBoxQueryBuilder and -Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/77ffabc471a36ebbaba2474066ef5c9644b7080f">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="92309171" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/11969" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/11969/hovercard" href="https://github.com/elastic/elasticsearch/pull/11969">elastic#11969</a> <a title="Merge pull request #11969 from MaineC/feature/geo-bounding-box-refactoring

Refactoring of GeoBoundingBoxQueryBuilder and -Parser" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/77ffabc471a36ebbaba2474066ef5c9644b7080f">from MaineC/feature/geo-bounding-box…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc3ZmZhYmM0NzFhMzZlYmJhYmEyNDc0MDY2ZWY1Yzk2NDRiNzA4MGYiLCJ0IjoxNzIyNDI2MDg5fQ==--7b4816760f97acee7acc6168ec65cac89cda93c0183911ef337a310b81be4fd3" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=77ffabc471a36ebbaba2474066ef5c9644b7080f">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/77ffabc471a36ebbaba2474066ef5c9644b7080f" class="Link--secondary">77ffabc</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…-refactoring

Refactoring of GeoBoundingBoxQueryBuilder and -Parser</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/cc69de5c5fc91d1cfcdb29c6696eff224cdf3545">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmNjNjlkZTVjNWZjOTFkMWNmY2RiMjljNjY5NmVmZjIyNGNkZjM1NDUiLCJ0IjoxNzIyNDI2MDg5fQ==--2fdaea24147d5dbe623fab7c918a5763df7c97ae44b590822810fb458aca2a59" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=cc69de5c5fc91d1cfcdb29c6696eff224cdf3545">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/cc69de5c5fc91d1cfcdb29c6696eff224cdf3545" class="Link--secondary">cc69de5</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: moving validation to setters and constructors

Moving validation from validate() to constructors and setters for the
following query builders:

* GeoDistanceQueryBuilder
* GeoDistanceRangeQueryBuilder
* GeoPolygonQueryBuilder
* GeoShapeQueryBuilder
* GeohashCellQuery
* TermsQueryBuilder

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/03035a28a37ba986b8cfa32c396579a02839d256">Query Refactoring: moving validation to setters and constructors</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjAzMDM1YTI4YTM3YmE5ODZiOGNmYTMyYzM5NjU3OWEwMjgzOWQyNTYiLCJ0IjoxNzIyNDI2MDg5fQ==--76c0cf37f8653cecdfffff4f35a00060e000dd4a7f8c8689f1daebe6faf34d96" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=03035a28a37ba986b8cfa32c396579a02839d256">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/03035a28a37ba986b8cfa32c396579a02839d256" class="Link--secondary">03035a2</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Moving validation from validate() to constructors and setters for the
following query builders:

* GeoDistanceQueryBuilder
* GeoDistanceRangeQueryBuilder
* GeoPolygonQueryBuilder
* GeoShapeQueryBuilder
* GeohashCellQuery
* TermsQueryBuilder

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Tests: fix failing GeoDistanceRangeQueryTest" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7d887a1e0558803da8747c74a526687f1ad3d57d">Tests: fix failing GeoDistanceRangeQueryTest</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjdkODg3YTFlMDU1ODgwM2RhODc0N2M3NGE1MjY2ODdmMWFkM2Q1N2QiLCJ0IjoxNzIyNDI2MDg5fQ==--eca4cafd44b97ed62632e1946f85b193004d815c8dca690e8359b371208f0b2d" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7d887a1e0558803da8747c74a526687f1ad3d57d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7d887a1e0558803da8747c74a526687f1ad3d57d" class="Link--secondary">7d887a1</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

 Conflicts:
	core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/QueryParser.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1aae68d2e8b0ad8e7524ccd0119bd56375bfcca6">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjFhYWU2OGQyZThiMGFkOGU3NTI0Y2NkMDExOWJkNTYzNzViZmNjYTYiLCJ0IjoxNzIyNDI2MDg5fQ==--e69152743f7eba97c2afb3053891222e7c0723536e2fddec71f7c49a0e4418bd" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1aae68d2e8b0ad8e7524ccd0119bd56375bfcca6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1aae68d2e8b0ad8e7524ccd0119bd56375bfcca6" class="Link--secondary">1aae68d</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap"> Conflicts:
	core/src/main/java/org/elasticsearch/index/query/CommonTermsQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/GeoPolygonQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/MatchQueryBuilder.java
	core/src/main/java/org/elasticsearch/index/query/QueryParseContext.java
	core/src/main/java/org/elasticsearch/index/query/QueryParser.java</pre>
    </div>
</div>

</div>
</div>  </div>
</div>


</div>



</div>

</div>

</div>

</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDo1ZWJiMDc0ZTU3ODZhMDRiZGRlNGFlZjUyYTc0NjcyMzEyODViOTgx">
  
        <div>
    <div id="commits-pushed-5ebb074" data-view-component="true" class="TimelineItem pb-1">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-repo-push">
    <path d="M1 2.5A2.5 2.5 0 0 1 3.5 0h8.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0V1.5h-8a1 1 0 0 0-1 1v6.708A2.493 2.493 0 0 1 3.5 9h3.25a.75.75 0 0 1 0 1.5H3.5a1 1 0 0 0 0 2h5.75a.75.75 0 0 1 0 1.5H3.5A2.5 2.5 0 0 1 1 11.5Zm13.23 7.79h-.001l-1.224-1.224v6.184a.75.75 0 0 1-1.5 0V9.066L10.28 10.29a.75.75 0 0 1-1.06-1.061l2.505-2.504a.75.75 0 0 1 1.06 0L15.29 9.23a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <a class="author Link--primary text-bold" data-test-selector="pr-timeline-events-commit-actor-profile-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">cbuescher</a>
  
<span>and others</span>
        added <span>18</span> commits
        <a href="https://github.com/elastic/elasticsearch/pull/13788#commits-pushed-5ebb074" data-view-component="true" class="Link--inTextBlock Link--secondary Link">
          <relative-time tense="past" datetime="2015-09-22T13:59:34+02:00" data-view-component="true" title="Sep 22, 2015, 1:59 PM GMT+2"><template shadowrootmode="open">9 years ago</template>September 22, 2015 13:59</relative-time>
</a></div>
</div>  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Fixing warnings and errors in javadoc" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/5ebb074e5786a04bdde4aef52a7467231285b981">Fixing warnings and errors in javadoc</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjVlYmIwNzRlNTc4NmEwNGJkZGU0YWVmNTJhNzQ2NzIzMTI4NWI5ODEiLCJ0IjoxNzIyNDI2MDM0fQ==--4919cd50cc961f1f6e23754cbb7c285498c9ddf2c3260141ddd040b8ad5c4088" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=5ebb074e5786a04bdde4aef52a7467231285b981">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/5ebb074e5786a04bdde4aef52a7467231285b981" class="Link--secondary">5ebb074</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove index member from QueryParseContext

Given that we are moving to parsing queries on the coordinating node, the index name is not relevant anymore in QueryParseContext, as the parsing phase cannot be related to any specific index. On the contrary, the QueryShardContext is the one that holds mappings etc. and the index name too, as the lucene query creation happens on the data node and can still be related with the index that it happens against.

Changes are mainly around tests that were expecting the index name, moved to using QueryShardException in some of them, removed the index name elsewhere.

Closes #13631" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/6350470ee30dddc1ba40c97797db96af30796780">Remove index member from QueryParseContext</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYzNTA0NzBlZTMwZGRkYzFiYTQwYzk3Nzk3ZGI5NmFmMzA3OTY3ODAiLCJ0IjoxNzIyNDI2MDM0fQ==--124bfe3e269b877575fcbb1371779333b205d3258ba9913896d11c755fef6d79" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=6350470ee30dddc1ba40c97797db96af30796780">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/6350470ee30dddc1ba40c97797db96af30796780" class="Link--secondary">6350470</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Given that we are moving to parsing queries on the coordinating node, the index name is not relevant anymore in QueryParseContext, as the parsing phase cannot be related to any specific index. On the contrary, the QueryShardContext is the one that holds mappings etc. and the index name too, as the lucene query creation happens on the data node and can still be related with the index that it happens against.

Changes are mainly around tests that were expecting the index name, moved to using QueryShardException in some of them, removed the index name elsewhere.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13631.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="106978316" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13631" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13631/hovercard" href="https://github.com/elastic/elasticsearch/pull/13631">elastic#13631</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: refactor query_string query and score functions

Refactor the function_score query so it can be parsed on the coordinating node, split parse into fromXContent and toQuery, make FunctionScoreQueryBuilder Writeable.

Closes #13653" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/7eedd84dc38edd097ee8b43ad71859f11bc52501">Query refactoring: refactor query_string query and score functions</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjdlZWRkODRkYzM4ZWRkMDk3ZWU4YjQzYWQ3MTg1OWYxMWJjNTI1MDEiLCJ0IjoxNzIyNDI2MDM0fQ==--57324b26d66d704386369ccfd9a9060ad1a148ab806b6fbb1f2393b7267b13d6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=7eedd84dc38edd097ee8b43ad71859f11bc52501">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/7eedd84dc38edd097ee8b43ad71859f11bc52501" class="Link--secondary">7eedd84</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Refactor the function_score query so it can be parsed on the coordinating node, split parse into fromXContent and toQuery, make FunctionScoreQueryBuilder Writeable.

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13653.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="107183090" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13653" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13653/hovercard" href="https://github.com/elastic/elasticsearch/pull/13653">elastic#13653</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: Move MoreLikeThisQueryBuilder validation to constructor

The current MoreLikeThisQueryBuilder validation checks for existence of at
least one `like` text or item. This is hard to check in setters, so this PR
tries to change the construction of the query so that we can do these checks
already at construction time.

Changing to using arrays for fieldnames, likeTexts, likeItems, unlikeTexts
and unlikeItems. `likeTexts` and/or `likeItems` need to be specified at
construction time to validate we have at least one item there.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/dbb01f5b43704ee75c92aff30ed2ee62b791e0d8">Query Refactoring: Move MoreLikeThisQueryBuilder validation to constr…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRiYjAxZjViNDM3MDRlZTc1YzkyYWZmMzBlZDJlZTYyYjc5MWUwZDgiLCJ0IjoxNzIyNDI2MDM0fQ==--588fe0ff3511100566f68569e5d0be915f471189c5573cda857b62e99bbb4377" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=dbb01f5b43704ee75c92aff30ed2ee62b791e0d8">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/dbb01f5b43704ee75c92aff30ed2ee62b791e0d8" class="Link--secondary">dbb01f5</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…uctor

The current MoreLikeThisQueryBuilder validation checks for existence of at
least one `like` text or item. This is hard to check in setters, so this PR
tries to change the construction of the query so that we can do these checks
already at construction time.

Changing to using arrays for fieldnames, likeTexts, likeItems, unlikeTexts
and unlikeItems. `likeTexts` and/or `likeItems` need to be specified at
construction time to validate we have at least one item there.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: remove deprecated methods and temporary classes

After all queries now have a `toQuery` method and the parsers all
support `fromXContent` it is possible to remove the following
workarounds and deprecated methods we kept around while doing the
refactoring:

* remove the BaseQueryParser and BaseQueryParserTemp. All parsers
  implement QueryParser directly now
* remove deprecated methods in QueryParseContext that either returned
  a Query or a Filter.
* remove the temporary QueryWrapperQueryBuilder

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/eb8ea6362698a08378e7eea6841b70e0132b81a4">Query Refactoring: remove deprecated methods and temporary classes</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmViOGVhNjM2MjY5OGEwODM3OGU3ZWVhNjg0MWI3MGUwMTMyYjgxYTQiLCJ0IjoxNzIyNDI2MDM0fQ==--3ac9a29c5ab9b155961086b71d4be70c9556f3914cd1e15e36d8a7aa29caebf9" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=eb8ea6362698a08378e7eea6841b70e0132b81a4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/eb8ea6362698a08378e7eea6841b70e0132b81a4" class="Link--secondary">eb8ea63</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">After all queries now have a `toQuery` method and the parsers all
support `fromXContent` it is possible to remove the following
workarounds and deprecated methods we kept around while doing the
refactoring:

* remove the BaseQueryParser and BaseQueryParserTemp. All parsers
  implement QueryParser directly now
* remove deprecated methods in QueryParseContext that either returned
  a Query or a Filter.
* remove the temporary QueryWrapperQueryBuilder

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Remove IndexQueryParseService#parse methods used only in tests

SimpleIndexQueryParserTests was the main responsible: deleted lots of duplicated tests, moved the ones that made sense to keep to their corresponding unit tests (note they were ESSingleNode tests before while are now converted to unit tests).

Closes #13750" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/8976934d3b5a171c85cfaa0a9e88c1a1e9e3f90a">Remove IndexQueryParseService#parse methods used only in tests</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojg5NzY5MzRkM2I1YTE3MWM4NWNmYWEwYTllODhjMWExZTllM2Y5MGEiLCJ0IjoxNzIyNDI2MDM0fQ==--73f3b92314943f9382685cf5df4651a6e8b5fa80e83e1c6e74bb0e9e4ccb8be1" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=8976934d3b5a171c85cfaa0a9e88c1a1e9e3f90a">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/8976934d3b5a171c85cfaa0a9e88c1a1e9e3f90a" class="Link--secondary">8976934</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">SimpleIndexQueryParserTests was the main responsible: deleted lots of duplicated tests, moved the ones that made sense to keep to their corresponding unit tests (note they were ESSingleNode tests before while are now converted to unit tests).

<span class="issue-keyword tooltipped tooltipped-se" aria-label="This commit closes pull request #13750.">Closes</span> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="107966586" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13750" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13750/hovercard" href="https://github.com/elastic/elasticsearch/pull/13750">elastic#13750</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Tests: fixing minor issues in RangeQueryBuilderTests and MatchQueryBuilderTests" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/1968d3e0f0274c02b2bcede640b3b2893859af30">Tests: fixing minor issues in RangeQueryBuilderTests and MatchQueryBu…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE5NjhkM2UwZjAyNzRjMDJiMmJjZWRlNjQwYjNiMjg5Mzg1OWFmMzAiLCJ0IjoxNzIyNDI2MDM0fQ==--49e31f70bd6b438d1c73ba4d905644253acde61e8526a68cb53feda62fb7d4d8" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=1968d3e0f0274c02b2bcede640b3b2893859af30">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/1968d3e0f0274c02b2bcede640b3b2893859af30" class="Link--secondary">1968d3e</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…ilderTests</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: minor cleanups before we merge into master

Remove ParseFieldMatcher duplication query in both contexts. QueryParseContext is still contained in QueryShardContext, as parsing still happens in the shards here and there. Most of the norelease comments have been removed simply because the scope of the refactoring has become smaller. Some could only be removed once everything, the whole search request, gets parsed on the coordinating node. We will get there eventually." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/aae7faa88e55db81d3fa61a6fdb91fe14558efbd">Query refactoring: minor cleanups before we merge into master</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmFhZTdmYWE4OGU1NWRiODFkM2ZhNjFhNmZkYjkxZmUxNDU1OGVmYmQiLCJ0IjoxNzIyNDI2MDM0fQ==--667274abe3fdf58eb34e8f4fb12da7c21c5d9383de33ffb1809bec4daa9ac336" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=aae7faa88e55db81d3fa61a6fdb91fe14558efbd">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/aae7faa88e55db81d3fa61a6fdb91fe14558efbd" class="Link--secondary">aae7faa</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Remove ParseFieldMatcher duplication query in both contexts. QueryParseContext is still contained in QueryShardContext, as parsing still happens in the shards here and there. Most of the norelease comments have been removed simply because the scope of the refactoring has become smaller. Some could only be removed once everything, the whole search request, gets parsed on the coordinating node. We will get there eventually.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query refactoring: last //norelease addressed

Some methods had default implementation while queries were going to be refactored, now that they are all refactored all those methods can be made abstract." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/db9c2796b34943d62df46074c85e8f6acf48f79e">Query refactoring: last //norelease addressed</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmRiOWMyNzk2YjM0OTQzZDYyZGY0NjA3NGM4NWU4ZjZhY2Y0OGY3OWUiLCJ0IjoxNzIyNDI2MDM0fQ==--39a702d87711cca156071776654ddfc051b38712fbde6e19900c7394fa382aca" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=db9c2796b34943d62df46074c85e8f6acf48f79e">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/db9c2796b34943d62df46074c85e8f6acf48f79e" class="Link--secondary">db9c279</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Some methods had default implementation while queries were going to be refactored, now that they are all refactored all those methods can be made abstract.</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Switch geo validation to enum" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/18d3ab381fb08d7beb80401a1fba9ec8b09ac9fa">Switch geo validation to enum</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjE4ZDNhYjM4MWZiMDhkN2JlYjgwNDAxYTFmYmE5ZWM4YjA5YWM5ZmEiLCJ0IjoxNzIyNDI2MDM0fQ==--a0f434c80a031ef65b76f550cab1b610cfd3f776cf923814eaf4926973688a58" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=18d3ab381fb08d7beb80401a1fba9ec8b09ac9fa">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/18d3ab381fb08d7beb80401a1fba9ec8b09ac9fa" class="Link--secondary">18d3ab3</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #13672 from MaineC/feature/geo-coerce-consolidation

Switch geo validation to enum" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/767508f0aae1f5b4798a58e6f2e4f39b565d14c6">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="107474193" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13672" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13672/hovercard" href="https://github.com/elastic/elasticsearch/pull/13672">elastic#13672</a> <a title="Merge pull request #13672 from MaineC/feature/geo-coerce-consolidation

Switch geo validation to enum" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/767508f0aae1f5b4798a58e6f2e4f39b565d14c6">from MaineC/feature/geo-coerce-conso…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc2NzUwOGYwYWFlMWY1YjQ3OThhNThlNmYyZTRmMzliNTY1ZDE0YzYiLCJ0IjoxNzIyNDI2MDM0fQ==--c632639bb002c42da91ab068cc5b66ac76f76b08eba981e6dbf8f443f8635ec6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=767508f0aae1f5b4798a58e6f2e4f39b565d14c6">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/767508f0aae1f5b4798a58e6f2e4f39b565d14c6" class="Link--secondary">767508f</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…lidation

Switch geo validation to enum</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] fix test bug" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/4425cd657024f817d806b7258c3e86ad497f916b">[TEST] fix test bug</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjQ0MjVjZDY1NzAyNGY4MTdkODA2YjcyNThjM2U4NmFkNDk3ZjkxNmIiLCJ0IjoxNzIyNDI2MDM0fQ==--fc8481b63fc25ddbad3e1751722fa761cdcf8e2a917ec96602cff3c0e208cb41" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=4425cd657024f817d806b7258c3e86ad497f916b">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/4425cd657024f817d806b7258c3e86ad497f916b" class="Link--secondary">4425cd6</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring

Conflicts:
	core/src/main/java/org/elasticsearch/ElasticsearchException.java" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/34de79370f2b7e220d254484ebb2e01cb94b74f2">Merge branch 'master' into feature/query-refactoring</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjM0ZGU3OTM3MGYyYjdlMjIwZDI1NDQ4NGViYjJlMDFjYjk0Yjc0ZjIiLCJ0IjoxNzIyNDI2MDM0fQ==--db809fa76bea171d7c8b666b35645122714d3c4ba98407ce534482c8b8eaad32" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=34de79370f2b7e220d254484ebb2e01cb94b74f2">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/34de79370f2b7e220d254484ebb2e01cb94b74f2" class="Link--secondary">34de793</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Conflicts:
	core/src/main/java/org/elasticsearch/ElasticsearchException.java</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="[TEST] adapt to changes upstream, expression has been moved out

Queries that can include scripts make now use of the mock script engine" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/a50a0da183eba297ed99923387ccb187c93e113d">[TEST] adapt to changes upstream, expression has been moved out</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmE1MGEwZGExODNlYmEyOTdlZDk5OTIzMzg3Y2NiMTg3YzkzZTExM2QiLCJ0IjoxNzIyNDI2MDM0fQ==--006c38cd15eba8c5d8a4718da4ec389a2691b27d668e7913e98e4ae5cf42a9d6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=a50a0da183eba297ed99923387ccb187c93e113d">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/a50a0da183eba297ed99923387ccb187c93e113d" class="Link--secondary">a50a0da</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">Queries that can include scripts make now use of the mock script engine</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885" width="20" height="20" alt="@cbuescher" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Query Refactoring: validate GeoShapeQueryBuilder strategy and relation parameter

Before the refactoring we didn&#39;t check any invalid settings for strategy and relation
in the GeoShapeQueryBuilder. However, using SpatialStrategy.TERM and ShapeRelation.INTERSECTS
together is invalid and we tried to protect against that in the validate() method.

This PR moves these checks to setter for strategy and relation and adds tests for the new
behaviour.

Relates to #10217" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/74d641181e77beb4bc350493bab6f69872665691">Query Refactoring: validate GeoShapeQueryBuilder strategy and relatio…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0Ojc0ZDY0MTE4MWU3N2JlYjRiYzM1MDQ5M2JhYjZmNjk4NzI2NjU2OTEiLCJ0IjoxNzIyNDI2MDM0fQ==--b281721c96dd2b5b6b922e5345a701d6b42b07cc02afe5a64357f6b759b9ed70" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=74d641181e77beb4bc350493bab6f69872665691">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/74d641181e77beb4bc350493bab6f69872665691" class="Link--secondary">74d6411</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…n parameter

Before the refactoring we didn't check any invalid settings for strategy and relation
in the GeoShapeQueryBuilder. However, using SpatialStrategy.TERM and ShapeRelation.INTERSECTS
together is invalid and we tried to protect against that in the validate() method.

This PR moves these checks to setter for strategy and relation and adds tests for the new
behaviour.

Relates to <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="63624736" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/10217" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/10217/hovercard" href="https://github.com/elastic/elasticsearch/issues/10217">elastic#10217</a></pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Java api: remove TermsLookupQueryBuilder

TermsLookupQueryBuilder was left around only for bw comp reasons, but TermsQueryBuilder is its replacement. We can remove it now that it is clear query refactoring goes in master (3.0)." data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/629ac8e014e5272aae80d2540f47f2d1ae44baa4">Java api: remove TermsLookupQueryBuilder</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjYyOWFjOGUwMTRlNTI3MmFhZTgwZDI1NDBmNDdmMmQxYWU0NGJhYTQiLCJ0IjoxNzIyNDI2MDM0fQ==--3cf9788a3434d0eee8101e324628b826236f286337cda09c0c36494d81e7ddb6" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=629ac8e014e5272aae80d2540f47f2d1ae44baa4">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/629ac8e014e5272aae80d2540f47f2d1ae44baa4" class="Link--secondary">629ac8e</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">TermsLookupQueryBuilder was left around only for bw comp reasons, but TermsQueryBuilder is its replacement. We can remove it now that it is clear query refactoring goes in master (3.0).</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge pull request #13787 from javanna/enhancement/terms_lookup_query_builder

Java api: remove TermsLookupQueryBuilder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ee71fc61aab755b13c87cce1cdd5106b51768b1c">Merge pull request</a> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="108294759" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13787" data-hovercard-type="pull_request" data-hovercard-url="/elastic/elasticsearch/pull/13787/hovercard" href="https://github.com/elastic/elasticsearch/pull/13787">elastic#13787</a> <a title="Merge pull request #13787 from javanna/enhancement/terms_lookup_query_builder

Java api: remove TermsLookupQueryBuilder" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/ee71fc61aab755b13c87cce1cdd5106b51768b1c">from javanna/enhancement/terms_looku…</a>
        </code>

          <span class="hidden-text-expander inline">
              <button aria-expanded="false" type="button" data-view-component="true" class="ellipsis-expander js-details-target btn">    …
</button>          </span>
      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OmVlNzFmYzYxYWFiNzU1YjEzYzg3Y2NlMWNkZDUxMDZiNTE3NjhiMWMiLCJ0IjoxNzIyNDI2MDM0fQ==--862513a4b5bb77aa59df894a46c23343c6d1cff2ccf7c688029aa0290409f3c7" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=ee71fc61aab755b13c87cce1cdd5106b51768b1c">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/ee71fc61aab755b13c87cce1cdd5106b51768b1c" class="Link--secondary">ee71fc6</a>
        </code>
      </div>
    </div>
  </div>
    <div class="Details-content--hidden mt-2">
      <pre class="color-fg-muted ws-pre-wrap">…p_query_builder

Java api: remove TermsLookupQueryBuilder</pre>
    </div>
</div>

</div>
</div>      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into feature/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/3ac4da5f847bf56f227d197ea6d3782f3bc5e8c0">Merge branch 'master' into feature/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjNhYzRkYTVmODQ3YmY1NmYyMjdkMTk3ZWE2ZDM3ODJmM2JjNWU4YzAiLCJ0IjoxNzIyNDI2MDM0fQ==--312dbf646c8495c186f7df541b4f24bfac6f88dc3deba298f6816b0c4a9ce9e8" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=3ac4da5f847bf56f227d197ea6d3782f3bc5e8c0">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/3ac4da5f847bf56f227d197ea6d3782f3bc5e8c0" class="Link--secondary">3ac4da5</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>  </div>
</div>


</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOkxhYmVsZWRFdmVudDQxOTEwNzQ2Nw==">
  
          <div class="TimelineItem js-targetable-element" data-team-hovercards-enabled="" id="event-419107467">
  <div class="TimelineItem-badge ">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag color-fg-inherit">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
  </div>
  <div class="TimelineItem-body">

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna"><img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(3)" width="20" height="20" alt="@javanna"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>




          added
      
<a id="label-6fa406" href="https://github.com/elastic/elasticsearch/labels/%3ASearch%2FSearch" data-name=":Search/Search" style="--label-r:14;--label-g:138;--label-b:22;--label-h:123;--label-s:81;--label-l:29;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle" aria-describedby="tooltip-f485dd42-ddcf-48ef-beb2-a5f1d9195084">
  :Search/Search
</a>
  <tool-tip id="tooltip-f485dd42-ddcf-48ef-beb2-a5f1d9195084" for="label-6fa406" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Search-related issues that do not fall into other categories</tool-tip>

      
<a id="label-d43f09" href="https://github.com/elastic/elasticsearch/labels/v5.0.0-alpha1" data-name="v5.0.0-alpha1" style="--label-r:221;--label-g:221;--label-b:221;--label-h:0;--label-s:0;--label-l:86;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle">
  v5.0.0-alpha1
</a>

  labels


    <a href="https://github.com/elastic/elasticsearch/pull/13788#event-419107467" class="Link--secondary"><relative-time datetime="2015-09-25T12:35:41Z" class="no-wrap" title="Sep 25, 2015, 2:35 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>

  </div>
</div>




</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzIwNzg3Nw==">
  
      
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzIwNzg3Nw==" data-url="/elastic/elasticsearch/comments/MDEyOklzc3VlQ29tbWVudDE0MzIwNzg3Nw==/partials/timeline_issue_comment">

  <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw"><img class="avatar rounded-2 avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334(1)" width="40" height="40" alt="@s1monw"></a>

</div>


  <div class="  timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-143207877">

    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="2bcaea1ec9bf2f09a5f7432423aea870ad4026522a5c203a4df9ffd544d12210">
      <div class="timeline-comment-header clearfix d-flex" data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button" aria-haspopup="menu" role="button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default" style="width:185px" src="/elastic/elasticsearch/issue_comments/143207877/comment_actions_menu?gid=MDEyOklzc3VlQ29tbWVudDE0MzIwNzg3Nw%3D%3D&amp;href=%23issuecomment-143207877" preload="" role="menu">
          <include-fragment class="js-comment-header-actions-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
            <p class="text-center mt-3" data-hide-on-error="">
              <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
            </p>
            <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
              Sorry, something went wrong.
            </p>
            <button type="button" class="dropdown-item btn-link js-comment-quote-reply" data-hotkey="r" role="menuitem">
             Quote reply
            </button>
          </include-fragment>
      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  <span aria-label="This user has previously committed to the elasticsearch repository." data-view-component="true" class="tooltipped tooltipped-n">
    <span data-view-component="true" class="Label ml-1">Contributor</span>
</span>

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
          <a class="author Link--primary text-bold css-overflow-wrap-anywhere " show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">s1monw</a>
  

      </strong>

      

      commented


        <a href="https://github.com/elastic/elasticsearch/pull/13788#issuecomment-143207877" id="issuecomment-143207877-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2015-09-25T12:36:00Z" class="no-wrap" title="Sep 25, 2015, 2:36 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>


      
    </div>

  </h3>
</div>


      <div class="edit-comment-hide">

        <task-lists disabled="" sortable="">
<table class="d-block user-select-contain" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p dir="auto">LGTM LOL</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        <div class="d-flex">

            <div class="pr-review-reactions">
              <div data-view-component="true" class="comment-reactions just-bottom js-reactions-container js-reaction-buttons-container social-reactions reactions-container d-flex">
      <reactions-menu tabindex="-1" data-catalyst="">
    <details data-action="toggle:reactions-menu#focusFirstItem" data-target="reactions-menu.details" class="dropdown details-reset details-overlay d-inline-block new-reactions-dropdown js-reaction-popover-container js-comment-header-reaction-button">
        <summary data-target="reactions-menu.summary" aria-label="Add or remove reactions" aria-haspopup="true" data-view-component="true" class="circle reaction-dropdown-button reaction-dropdown-button--inline btn-invisible btn p-0 mr-1 d-flex flex-justify-center flex-items-center color-bg-subtle border color-border-muted">    <svg height="18" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="18" data-view-component="true" class="octicon octicon-smiley social-button-emoji">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path>
</svg>
</summary>        <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="x-KqhR8P6W4kTb0srN7zBtT9KOJFbe5I1vutGYKWu-eQK4lbRC8KauVLtDDDdQ7hfYaaCWRbYJsJymXQNpR-mA" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzIwNzg3Nw==">
      <input type="hidden" name="input[context]" value="">
    <ul class="dropdown-menu mt-2 d-flex mb-2 anim-scale-in dropdown-menu-reactions dropdown-menu-ne" role="menu">
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-0d5eca" value="THUMBS_UP react" data-reaction-label="+1" data-reaction-content="+1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs up" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="+1" fallback-src="https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png" class="d-flex">👍</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-739afd" value="THUMBS_DOWN react" data-reaction-label="-1" data-reaction-content="-1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs down" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="-1" fallback-src="https://github.githubassets.com/assets/1f44e-ce91733aae25.png" class="d-flex">👎</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-cad53e" value="LAUGH react" data-reaction-label="Laugh" data-reaction-content="smile" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="laugh" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="smile" fallback-src="https://github.githubassets.com/assets/1f604-7528822fb4c5.png" class="d-flex">😄</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-3dc255" value="HOORAY react" data-reaction-label="Hooray" data-reaction-content="tada" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="hooray" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="tada" fallback-src="https://github.githubassets.com/assets/1f389-36899a2cb781.png" class="d-flex">🎉</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-ff4343" value="CONFUSED react" data-reaction-label="Confused" data-reaction-content="thinking_face" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="confused" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/assets/1f615-4bb1369c4251.png" class="d-flex">😕</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-f845d2" value="HEART react" data-reaction-label="Heart" data-reaction-content="heart" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="heart" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="heart" fallback-src="https://github.githubassets.com/assets/2764-982dc91ea48a.png" class="d-flex">❤️</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-062e7c" value="ROCKET react" data-reaction-label="Rocket" data-reaction-content="rocket" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="rocket" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/assets/1f680-d0ef47fdb515.png" class="d-flex">🚀</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-45d32c" value="EYES react" data-reaction-label="Eyes" data-reaction-content="eyes" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="eyes" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/assets/1f440-ee44e91e92a7.png" class="d-flex">👀</g-emoji>
</button>        </li>
    </ul>
</form>
    </details>
  </reactions-menu>

  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="S8iKqga7N96KB8oXAB60fdJDDehO4TS2RY9ICZyJz4ccAal0XZvU2ksBwwtvtUmaezi_A2_XumWavoDAKIsK-A" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzIwNzg3Nw==">
      <input type="hidden" name="input[context]" value="">
    <div class="js-comment-reactions-options d-flex flex-items-center flex-row flex-wrap">
      <div class="js-reactions-container">
        <details class="dropdown details-reset details-overlay d-inline-block js-all-reactions-popover" hidden="">
          <summary aria-haspopup="true" data-view-component="true" class="Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label">All reactions</span>
  </span>
</summary>

          <ul class="dropdown-menu dropdown-menu-se">
          </ul>
        </details>
      </div>
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> --><form class="js-comment-update" id="issuecomment-143207877-edit-form" data-turbo="false" action="https://github.com/elastic/elasticsearch/issue_comments/143207877" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="bNxYl7k1DCwyxgjD4-OGyskaXQIyDBGcdAXrOa0BH17ScN2FUkZ_v4rgX37bfmgLlnCE4rOwtl2ftuvvx3fITw">
            <include-fragment loading="lazy" src="/elastic/elasticsearch/issue_comments/143207877/edit_form?textarea_id=issuecomment-143207877-body&amp;comment_context=" class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
  <p class="text-center mt-3" data-hide-on-error="">
    <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>    </div>
</div>

</div>


</div>


        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDE5MTA3ODYz">
  
          <div class="TimelineItem js-targetable-element" data-team-hovercards-enabled="" id="event-419107863">
  <div class="TimelineItem-badge ">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-pencil color-fg-inherit">
    <path d="M11.013 1.427a1.75 1.75 0 0 1 2.474 0l1.086 1.086a1.75 1.75 0 0 1 0 2.474l-8.61 8.61c-.21.21-.47.364-.756.445l-3.251.93a.75.75 0 0 1-.927-.928l.929-3.25c.081-.286.235-.547.445-.758l8.61-8.61Zm.176 4.823L9.75 4.81l-6.286 6.287a.253.253 0 0 0-.064.108l-.558 1.953 1.953-.558a.253.253 0 0 0 .108-.064Zm1.238-3.763a.25.25 0 0 0-.354 0L10.811 3.75l1.439 1.44 1.263-1.263a.25.25 0 0 0 0-.354Z"></path>
</svg>
  </div>
  <div class="TimelineItem-body">

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna"><img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(3)" width="20" height="20" alt="@javanna"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>




      changed the title
<del class="text-bold markdown-title">Query refactoring</del>

<ins class="text-bold markdown-title no-underline">Query refactoring: split parse phase into fromXContent and toQuery for all queries</ins>


    <a href="https://github.com/elastic/elasticsearch/pull/13788#event-419107863" class="Link--secondary"><relative-time datetime="2015-09-25T12:36:10Z" class="no-wrap" title="Sep 25, 2015, 2:36 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>

  </div>
</div>




</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDY6Q29tbWl0NjY1MjIyMDozZDMxOTczNDJkZWQwYTY5N2M5NGEwMmQ4MWRjZTAxMWM4OGE5ZmMx">
  
        <div>
  <div>
      <div data-view-component="true" class="TimelineItem TimelineItem--condensed">
  
  <div data-view-component="true" class="TimelineItem-badge"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-commit">
    <path d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg></div>
  <div data-view-component="true" class="TimelineItem-body">          <div class="js-details-container Details js-socket-channel js-updatable-content">
  <div class="d-flex flex-md-row flex-column">
    <div class="d-flex flex-auto">
      
<div class="AvatarStack flex-self-start  ">
  <div class="AvatarStack-body">
      <a class="avatar avatar-user" style="width:20px;height:20px;" data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(2)" width="20" height="20" alt="@javanna" class=" avatar-user">
</a>  </div>
</div>

      <div class="pr-1 flex-auto min-width-0">
        <code>
          <a title="Merge branch &#39;master&#39; into merge/query-refactoring" data-pjax="true" class="Link--secondary markdown-title" href="https://github.com/elastic/elasticsearch/pull/13788/commits/3d3197342ded0a697c94a02d81dce011c88a9fc1">Merge branch 'master' into merge/query-refactoring</a>
        </code>

      </div>

      <div class="pr-1 d-md-inline-block d-none">
        


      </div>

      <div class="pr-1 flex-shrink-0" style="width: 16px;">
        <div class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjNkMzE5NzM0MmRlZDBhNjk3Yzk0YTAyZDgxZGNlMDExYzg4YTlmYzEiLCJ0IjoxNzIyNDI2MDM0fQ==--7ee2b9e83fd0ae008c30897980c0d63de4d58ca28730f686e616c89b630a2fa5" data-url="/elastic/elasticsearch/pull/13788/partials/commit_status_icon?oid=3d3197342ded0a697c94a02d81dce011c88a9fc1">
          

        </div>
      </div>

      <div class="text-right ml-1">
        <code>
          <a href="https://github.com/elastic/elasticsearch/pull/13788/commits/3d3197342ded0a697c94a02d81dce011c88a9fc1" class="Link--secondary">3d31973</a>
        </code>
      </div>
    </div>
  </div>
</div>

</div>
</div>  </div>
</div>


</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDExOk1lcmdlZEV2ZW50NDE5MTExNDg1">
  
          <div class="TimelineItem js-details-container Details" id="event-419111485">
  <div class="TimelineItem-badge color-fg-on-emphasis color-bg-done-emphasis">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-git-merge">
    <path d="M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.734 5.734 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218ZM4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM5 3.25a.75.75 0 1 0 0 .005V3.25Z"></path>
</svg>
  </div>
  <div class="TimelineItem-body">


        <a class="d-inline-block" data-test-selector="pr-timeline-events-actor-avatar" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna"><img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(3)" width="20" height="20" alt="@javanna"></a>
  <a class="author Link--primary text-bold" data-test-selector="pr-timeline-events-actor-profile-link" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>



        merged commit <a href="https://github.com/elastic/elasticsearch/commit/3d3197342ded0a697c94a02d81dce011c88a9fc1"><code class="Link--primary text-bold">3d31973</code></a>
      into

      <span class="commit-ref user-select-contain">
  <span class="base-ref">
    <span class="css-truncate-target user">elastic</span>:<span class="css-truncate-target">master</span>
  </span>
</span>

    <a href="https://github.com/elastic/elasticsearch/pull/13788#event-419111485" class="Link--secondary"><relative-time datetime="2015-09-25T12:41:22Z" class="no-wrap" title="Sep 25, 2015, 2:41 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>

  </div>
</div>

<div class="TimelineItem-break"></div>



</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzIxNTAyMw==">
  
      
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzIxNTAyMw==" data-url="/elastic/elasticsearch/comments/MDEyOklzc3VlQ29tbWVudDE0MzIxNTAyMw==/partials/timeline_issue_comment">

  <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna"><img class="avatar rounded-2 avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(4)" width="40" height="40" alt="@javanna"></a>

</div>


  <div class="  timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-143215023">

    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="f54e1dbbaf0dc42a7d248d242bd1474e46f03cbd3d6e5abb33c87586725d1ab9">
      <div class="timeline-comment-header clearfix d-flex" data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button" aria-haspopup="menu" role="button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default" style="width:185px" src="/elastic/elasticsearch/issue_comments/143215023/comment_actions_menu?gid=MDEyOklzc3VlQ29tbWVudDE0MzIxNTAyMw%3D%3D&amp;href=%23issuecomment-143215023" preload="" role="menu">
          <include-fragment class="js-comment-header-actions-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
            <p class="text-center mt-3" data-hide-on-error="">
              <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
            </p>
            <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
              Sorry, something went wrong.
            </p>
            <button type="button" class="dropdown-item btn-link js-comment-quote-reply" data-hotkey="r" role="menuitem">
             Quote reply
            </button>
          </include-fragment>
      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  <span aria-label="This user is a member of the elastic organization." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Member</span>
</span>

      
<span aria-label="This user is the author of this pull request." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Author</span>
</span>

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
          <a class="author Link--primary text-bold css-overflow-wrap-anywhere " show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  

      </strong>

      

      commented


        <a href="https://github.com/elastic/elasticsearch/pull/13788#issuecomment-143215023" id="issuecomment-143215023-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2015-09-25T12:59:29Z" class="no-wrap" title="Sep 25, 2015, 2:59 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>


      
    </div>

  </h3>
</div>


      <div class="edit-comment-hide">

        <task-lists disabled="" sortable="">
<table class="d-block user-select-contain" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p dir="auto">Marked this as breaking as it breaks backwards compatibility for plugins and the java api. Changes are included in the migrate guide. Also each PR that introduced breakage is <a href="https://github.com/elastic/elasticsearch/pulls?q=is%3Apr+label%3A%22%3AQuery+Refactoring%22+is%3Aclosed+label%3Abreaking">marked as breaking</a>.</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        <div class="d-flex">

            <div class="pr-review-reactions">
              <div data-view-component="true" class="comment-reactions just-bottom js-reactions-container js-reaction-buttons-container social-reactions reactions-container d-flex">
      <reactions-menu tabindex="-1" data-catalyst="">
    <details data-action="toggle:reactions-menu#focusFirstItem" data-target="reactions-menu.details" class="dropdown details-reset details-overlay d-inline-block new-reactions-dropdown js-reaction-popover-container js-comment-header-reaction-button">
        <summary data-target="reactions-menu.summary" aria-label="Add or remove reactions" aria-haspopup="true" data-view-component="true" class="circle reaction-dropdown-button reaction-dropdown-button--inline btn-invisible btn p-0 mr-1 d-flex flex-justify-center flex-items-center color-bg-subtle border color-border-muted">    <svg height="18" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="18" data-view-component="true" class="octicon octicon-smiley social-button-emoji">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path>
</svg>
</summary>        <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="cH-8GTZJX45roIJOlQFf_OLkTmD_MliXUPxVTgpI9ngntp_HbWm8iqqmi1L6qqIbS5_8i94E1kSPzZ2HvkozBw" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzIxNTAyMw==">
      <input type="hidden" name="input[context]" value="">
    <ul class="dropdown-menu mt-2 d-flex mb-2 anim-scale-in dropdown-menu-reactions dropdown-menu-ne" role="menu">
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-8c9a73" value="THUMBS_UP react" data-reaction-label="+1" data-reaction-content="+1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs up" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="+1" fallback-src="https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png" class="d-flex">👍</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-cbcdbf" value="THUMBS_DOWN react" data-reaction-label="-1" data-reaction-content="-1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs down" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="-1" fallback-src="https://github.githubassets.com/assets/1f44e-ce91733aae25.png" class="d-flex">👎</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-4f7765" value="LAUGH react" data-reaction-label="Laugh" data-reaction-content="smile" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="laugh" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="smile" fallback-src="https://github.githubassets.com/assets/1f604-7528822fb4c5.png" class="d-flex">😄</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-4110d8" value="HOORAY react" data-reaction-label="Hooray" data-reaction-content="tada" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="hooray" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="tada" fallback-src="https://github.githubassets.com/assets/1f389-36899a2cb781.png" class="d-flex">🎉</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-33c037" value="CONFUSED react" data-reaction-label="Confused" data-reaction-content="thinking_face" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="confused" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/assets/1f615-4bb1369c4251.png" class="d-flex">😕</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-9b7dd4" value="HEART react" data-reaction-label="Heart" data-reaction-content="heart" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="heart" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="heart" fallback-src="https://github.githubassets.com/assets/2764-982dc91ea48a.png" class="d-flex">❤️</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-8d72ce" value="ROCKET react" data-reaction-label="Rocket" data-reaction-content="rocket" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="rocket" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/assets/1f680-d0ef47fdb515.png" class="d-flex">🚀</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-83d606" value="EYES react" data-reaction-label="Eyes" data-reaction-content="eyes" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="eyes" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/assets/1f440-ee44e91e92a7.png" class="d-flex">👀</g-emoji>
</button>        </li>
    </ul>
</form>
    </details>
  </reactions-menu>

  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="va3Sh_pPfu_dsme-srywjoqSaJY9acO3IImT5VYKUtHqZPFZoW-d6xy0bqLdF01pI-nafRxfTWT_uFss4giXrg" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzIxNTAyMw==">
      <input type="hidden" name="input[context]" value="">
    <div class="js-comment-reactions-options d-flex flex-items-center flex-row flex-wrap">
      <div class="js-reactions-container">
        <details class="dropdown details-reset details-overlay d-inline-block js-all-reactions-popover" hidden="">
          <summary aria-haspopup="true" data-view-component="true" class="Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label">All reactions</span>
  </span>
</summary>

          <ul class="dropdown-menu dropdown-menu-se">
          </ul>
        </details>
      </div>
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> --><form class="js-comment-update" id="issuecomment-143215023-edit-form" data-turbo="false" action="https://github.com/elastic/elasticsearch/issue_comments/143215023" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="AqrsMw1M8MapdQH-g7eiY-S8ef81TuSpnb3zKdyXNgpolQ17aTBsHsTHrhuWy8rh1B_hRA2qi1keMwRgeeQu9w">
            <include-fragment loading="lazy" src="/elastic/elasticsearch/issue_comments/143215023/edit_form?textarea_id=issuecomment-143215023-body&amp;comment_context=" class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
  <p class="text-center mt-3" data-hide-on-error="">
    <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>    </div>
</div>

</div>


</div>


        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOkxhYmVsZWRFdmVudDQxOTEyOTA0Mw==">
  
          <div class="TimelineItem js-targetable-element" data-team-hovercards-enabled="" id="event-419129043">
  <div class="TimelineItem-badge ">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag color-fg-inherit">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
  </div>
  <div class="TimelineItem-body">

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna"><img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(3)" width="20" height="20" alt="@javanna"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>




        added
  the 
<a id="label-27ebcb" href="https://github.com/elastic/elasticsearch/labels/%3Ebreaking" data-name="&gt;breaking" style="--label-r:217;--label-g:63;--label-b:11;--label-h:15;--label-s:90;--label-l:44;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle">
  &gt;breaking
</a>
 label


    <a href="https://github.com/elastic/elasticsearch/pull/13788#event-419129043" class="Link--secondary"><relative-time datetime="2015-09-25T12:59:34Z" class="no-wrap" title="Sep 25, 2015, 2:59 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>

  </div>
</div>




</div>

        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzIyOTMwNA==">
  
      
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzIyOTMwNA==" data-url="/elastic/elasticsearch/comments/MDEyOklzc3VlQ29tbWVudDE0MzIyOTMwNA==/partials/timeline_issue_comment">

  <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/dadoonet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dadoonet"><img class="avatar rounded-2 avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/274222" width="40" height="40" alt="@dadoonet"></a>

</div>


  <div class="  timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-143229304">

    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="52aebfc8813ec11c10fc49a1cbe8f8fa634e1327f706a5daa32683eabb901090">
      <div class="timeline-comment-header clearfix d-flex" data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button" aria-haspopup="menu" role="button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default" style="width:185px" src="/elastic/elasticsearch/issue_comments/143229304/comment_actions_menu?gid=MDEyOklzc3VlQ29tbWVudDE0MzIyOTMwNA%3D%3D&amp;href=%23issuecomment-143229304" preload="" role="menu">
          <include-fragment class="js-comment-header-actions-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
            <p class="text-center mt-3" data-hide-on-error="">
              <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
            </p>
            <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
              Sorry, something went wrong.
            </p>
            <button type="button" class="dropdown-item btn-link js-comment-quote-reply" data-hotkey="r" role="menuitem">
             Quote reply
            </button>
          </include-fragment>
      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  <span aria-label="This user is a member of the elastic organization." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Member</span>
</span>

      

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
          <a class="author Link--primary text-bold css-overflow-wrap-anywhere " show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/dadoonet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dadoonet">dadoonet</a>
  

      </strong>

      

      commented


        <a href="https://github.com/elastic/elasticsearch/pull/13788#issuecomment-143229304" id="issuecomment-143229304-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2015-09-25T13:49:08Z" class="no-wrap" title="Sep 25, 2015, 3:49 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>


      
    </div>

  </h3>
</div>


      <div class="edit-comment-hide">

        <task-lists disabled="" sortable="">
<table class="d-block user-select-contain" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p dir="auto"><a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">@javanna</a> do you plan to also change documentation at <a href="https://github.com/elastic/elasticsearch/tree/master/docs/java-api/query-dsl">https://github.com/elastic/elasticsearch/tree/master/docs/java-api/query-dsl</a> ?</p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        <div class="d-flex">

            <div class="pr-review-reactions">
              <div data-view-component="true" class="comment-reactions just-bottom js-reactions-container js-reaction-buttons-container social-reactions reactions-container d-flex">
      <reactions-menu tabindex="-1" data-catalyst="">
    <details data-action="toggle:reactions-menu#focusFirstItem" data-target="reactions-menu.details" class="dropdown details-reset details-overlay d-inline-block new-reactions-dropdown js-reaction-popover-container js-comment-header-reaction-button">
        <summary data-target="reactions-menu.summary" aria-label="Add or remove reactions" aria-haspopup="true" data-view-component="true" class="circle reaction-dropdown-button reaction-dropdown-button--inline btn-invisible btn p-0 mr-1 d-flex flex-justify-center flex-items-center color-bg-subtle border color-border-muted">    <svg height="18" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="18" data-view-component="true" class="octicon octicon-smiley social-button-emoji">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path>
</svg>
</summary>        <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="OBf1QwJyHad2HFwcXdD_HPgkPinpDyJto_526U9nweZv3tadWVL-o7caVQAyewL7UV-Mwsg5rL58z74g-2UEmQ" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzIyOTMwNA==">
      <input type="hidden" name="input[context]" value="">
    <ul class="dropdown-menu mt-2 d-flex mb-2 anim-scale-in dropdown-menu-reactions dropdown-menu-ne" role="menu">
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-2e0738" value="THUMBS_UP react" data-reaction-label="+1" data-reaction-content="+1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs up" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="+1" fallback-src="https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png" class="d-flex">👍</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-cb8a3e" value="THUMBS_DOWN react" data-reaction-label="-1" data-reaction-content="-1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs down" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="-1" fallback-src="https://github.githubassets.com/assets/1f44e-ce91733aae25.png" class="d-flex">👎</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-4a871e" value="LAUGH react" data-reaction-label="Laugh" data-reaction-content="smile" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="laugh" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="smile" fallback-src="https://github.githubassets.com/assets/1f604-7528822fb4c5.png" class="d-flex">😄</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-236a82" value="HOORAY react" data-reaction-label="Hooray" data-reaction-content="tada" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="hooray" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="tada" fallback-src="https://github.githubassets.com/assets/1f389-36899a2cb781.png" class="d-flex">🎉</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-38874e" value="CONFUSED react" data-reaction-label="Confused" data-reaction-content="thinking_face" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="confused" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/assets/1f615-4bb1369c4251.png" class="d-flex">😕</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-04fff2" value="HEART react" data-reaction-label="Heart" data-reaction-content="heart" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="heart" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="heart" fallback-src="https://github.githubassets.com/assets/2764-982dc91ea48a.png" class="d-flex">❤️</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-5b8882" value="ROCKET react" data-reaction-label="Rocket" data-reaction-content="rocket" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="rocket" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/assets/1f680-d0ef47fdb515.png" class="d-flex">🚀</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-2c7776" value="EYES react" data-reaction-label="Eyes" data-reaction-content="eyes" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="eyes" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/assets/1f440-ee44e91e92a7.png" class="d-flex">👀</g-emoji>
</button>        </li>
    </ul>
</form>
    </details>
  </reactions-menu>

  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="twQyYNhB3c61SsWzqMFFLEeqjIFyImAx5R6rmwQFErbgzRG-g2E-ynRMzK_HarjL7tE-alMU7uI6L2NSsAfXyQ" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzIyOTMwNA==">
      <input type="hidden" name="input[context]" value="">
    <div class="js-comment-reactions-options d-flex flex-items-center flex-row flex-wrap">
      <div class="js-reactions-container">
        <details class="dropdown details-reset details-overlay d-inline-block js-all-reactions-popover" hidden="">
          <summary aria-haspopup="true" data-view-component="true" class="Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label">All reactions</span>
  </span>
</summary>

          <ul class="dropdown-menu dropdown-menu-se">
          </ul>
        </details>
      </div>
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> --><form class="js-comment-update" id="issuecomment-143229304-edit-form" data-turbo="false" action="https://github.com/elastic/elasticsearch/issue_comments/143229304" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="soyDHUDlVpP0ZarhWLkDiR-f-HPpgwk1GOB_LYx1dHj0Mf8Nb2pVL2e441VwDaGzLcOD8tVeXUOQBN5sgohmTA">
            <include-fragment loading="lazy" src="/elastic/elasticsearch/issue_comments/143229304/edit_form?textarea_id=issuecomment-143229304-body&amp;comment_context=" class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
  <p class="text-center mt-3" data-hide-on-error="">
    <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>    </div>
</div>

</div>


</div>


        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzI1MzYxOQ==">
  
      
<div class="TimelineItem js-comment-container" data-gid="MDEyOklzc3VlQ29tbWVudDE0MzI1MzYxOQ==" data-url="/elastic/elasticsearch/comments/MDEyOklzc3VlQ29tbWVudDE0MzI1MzYxOQ==/partials/timeline_issue_comment">

  <div class="avatar-parent-child TimelineItem-avatar d-none d-md-block">
  <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna"><img class="avatar rounded-2 avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(4)" width="40" height="40" alt="@javanna"></a>

</div>


  <div class="  timeline-comment-group js-minimizable-comment-group js-targetable-element TimelineItem-body my-0 " id="issuecomment-143253619">

    <div class="ml-n3 timeline-comment unminimized-comment comment previewable-edit js-task-list-container js-comment timeline-comment--caret reorderable-task-lists" data-body-version="7583663dfad6d98d5dfa40158337668a52fedefbdde3a155f6f54c5f8e3b0216">
      <div class="timeline-comment-header clearfix d-flex" data-morpheus-enabled="false">
  <div class="timeline-comment-actions flex-shrink-0 d-flex flex-items-center">
    <details class="details-overlay details-reset position-relative d-inline-block">
      <summary data-view-component="true" class="timeline-comment-action Link--secondary Button--link Button--medium Button" aria-haspopup="menu" role="button">  <span class="Button-content">
    <span class="Button-label"><svg aria-label="Show options" role="img" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg></span>
  </span>
</summary>

      <details-menu class="dropdown-menu dropdown-menu-sw show-more-popover color-fg-default" style="width:185px" src="/elastic/elasticsearch/issue_comments/143253619/comment_actions_menu?gid=MDEyOklzc3VlQ29tbWVudDE0MzI1MzYxOQ%3D%3D&amp;href=%23issuecomment-143253619" preload="" role="menu">
          <include-fragment class="js-comment-header-actions-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
            <p class="text-center mt-3" data-hide-on-error="">
              <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
            </p>
            <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
              <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
              Sorry, something went wrong.
            </p>
            <button type="button" class="dropdown-item btn-link js-comment-quote-reply" data-hotkey="r" role="menuitem">
             Quote reply
            </button>
          </include-fragment>
      </details-menu>
    </details>
  </div>

  <div class="d-none d-sm-flex">
      

      

  <span aria-label="This user is a member of the elastic organization." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Member</span>
</span>

      
<span aria-label="This user is the author of this pull request." data-view-component="true" class="tooltipped tooltipped-n">
  <span data-view-component="true" class="Label ml-1">Author</span>
</span>

  </div>

  <h3 class="f5 text-normal" style="flex: 1 1 auto">
    <div>
      

      <strong>
          <a class="author Link--primary text-bold css-overflow-wrap-anywhere " show_full_name="false" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">javanna</a>
  

      </strong>

      

      commented


        <a href="https://github.com/elastic/elasticsearch/pull/13788#issuecomment-143253619" id="issuecomment-143253619-permalink" class="Link--secondary js-timestamp"><relative-time datetime="2015-09-25T15:34:23Z" class="no-wrap" title="Sep 25, 2015, 5:34 PM GMT+2"><template shadowrootmode="open">on Sep 25, 2015</template>Sep 25, 2015</relative-time></a>


      
    </div>

  </h3>
</div>


      <div class="edit-comment-hide">

        <task-lists disabled="" sortable="">
<table class="d-block user-select-contain" data-paste-markdown-skip="">
  <tbody class="d-block">
    <tr class="d-block">
      <td class="d-block comment-body markdown-body  js-comment-body">
          <p dir="auto">yea we will need to do that, thanks for the reminder <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/dadoonet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dadoonet">@dadoonet</a> . opened <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="108348664" data-permission-text="Title is private" data-url="https://github.com/elastic/elasticsearch/issues/13800" data-hovercard-type="issue" data-hovercard-url="/elastic/elasticsearch/issues/13800/hovercard" href="https://github.com/elastic/elasticsearch/issues/13800">#13800</a></p>
      </td>
    </tr>
  </tbody>
</table>
</task-lists>


        <div class="d-flex">

            <div class="pr-review-reactions">
              <div data-view-component="true" class="comment-reactions just-bottom js-reactions-container js-reaction-buttons-container social-reactions reactions-container d-flex">
      <reactions-menu tabindex="-1" data-catalyst="">
    <details data-action="toggle:reactions-menu#focusFirstItem" data-target="reactions-menu.details" class="dropdown details-reset details-overlay d-inline-block new-reactions-dropdown js-reaction-popover-container js-comment-header-reaction-button">
        <summary data-target="reactions-menu.summary" aria-label="Add or remove reactions" aria-haspopup="true" data-view-component="true" class="circle reaction-dropdown-button reaction-dropdown-button--inline btn-invisible btn p-0 mr-1 d-flex flex-justify-center flex-items-center color-bg-subtle border color-border-muted">    <svg height="18" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="18" data-view-component="true" class="octicon octicon-smiley social-button-emoji">
    <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Zm3.82 1.636a.75.75 0 0 1 1.038.175l.007.009c.103.118.22.222.35.31.264.178.683.37 1.285.37.602 0 1.02-.192 1.285-.371.13-.088.247-.192.35-.31l.007-.008a.75.75 0 0 1 1.222.87l-.022-.015c.02.013.021.015.021.015v.001l-.001.002-.002.003-.005.007-.014.019a2.066 2.066 0 0 1-.184.213c-.16.166-.338.316-.53.445-.63.418-1.37.638-2.127.629-.946 0-1.652-.308-2.126-.63a3.331 3.331 0 0 1-.715-.657l-.014-.02-.005-.006-.002-.003v-.002h-.001l.613-.432-.614.43a.75.75 0 0 1 .183-1.044ZM12 7a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM5 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm5.25 2.25.592.416a97.71 97.71 0 0 0-.592-.416Z"></path>
</svg>
</summary>        <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="vBm5kAAPYkP75Yt1Gd1iCsLdJewWJG_ZHBbkdkXQQWTr0JpOWy-BRzrjgml2dp_ta6aXBzcS4QrDJyy_8dKEGw" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzI1MzYxOQ==">
      <input type="hidden" name="input[context]" value="">
    <ul class="dropdown-menu mt-2 d-flex mb-2 anim-scale-in dropdown-menu-reactions dropdown-menu-ne" role="menu">
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-b46847" value="THUMBS_UP react" data-reaction-label="+1" data-reaction-content="+1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs up" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="+1" fallback-src="https://github.githubassets.com/assets/1f44d-41cb66fe1e22.png" class="d-flex">👍</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-3f6d76" value="THUMBS_DOWN react" data-reaction-label="-1" data-reaction-content="-1" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="thumbs down" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="-1" fallback-src="https://github.githubassets.com/assets/1f44e-ce91733aae25.png" class="d-flex">👎</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-82ebec" value="LAUGH react" data-reaction-label="Laugh" data-reaction-content="smile" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="laugh" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="smile" fallback-src="https://github.githubassets.com/assets/1f604-7528822fb4c5.png" class="d-flex">😄</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-a18460" value="HOORAY react" data-reaction-label="Hooray" data-reaction-content="tada" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="hooray" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="tada" fallback-src="https://github.githubassets.com/assets/1f389-36899a2cb781.png" class="d-flex">🎉</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-893a30" value="CONFUSED react" data-reaction-label="Confused" data-reaction-content="thinking_face" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="confused" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="thinking_face" fallback-src="https://github.githubassets.com/assets/1f615-4bb1369c4251.png" class="d-flex">😕</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-63547d" value="HEART react" data-reaction-label="Heart" data-reaction-content="heart" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="heart" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="heart" fallback-src="https://github.githubassets.com/assets/2764-982dc91ea48a.png" class="d-flex">❤️</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-533ec9" value="ROCKET react" data-reaction-label="Rocket" data-reaction-content="rocket" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="rocket" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="rocket" fallback-src="https://github.githubassets.com/assets/1f680-d0ef47fdb515.png" class="d-flex">🚀</g-emoji>
</button>        </li>
        <li role="presentation">
            <button name="input[content]" id="reactions--reaction_button_component-62ae12" value="EYES react" data-reaction-label="Eyes" data-reaction-content="eyes" data-targets="reactions-menu.menuItems" role="menuitemcheckbox" aria-checked="false" aria-label="eyes" type="submit" data-view-component="true" class="dropdown-item dropdown-item-reaction btn-invisible btn d-flex no-underline color-fg-muted flex-justify-center flex-items-center rounded-2">    <g-emoji alias="eyes" fallback-src="https://github.githubassets.com/assets/1f440-ee44e91e92a7.png" class="d-flex">👀</g-emoji>
</button>        </li>
    </ul>
</form>
    </details>
  </reactions-menu>

  <!-- '"` --><!-- </textarea></xmp> --><form class="js-pick-reaction" data-turbo="false" action="https://github.com/elastic/elasticsearch/reactions" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="V7vBdHdpLEIs_8gmiir3p7BteyHeIOH20up5ddkuwmIAcuKqLEnPRu35wTrlgQpAGRbJyv8WbyUN27G8bSwHHQ" autocomplete="off">
    <input type="hidden" name="input[subjectId]" value="MDEyOklzc3VlQ29tbWVudDE0MzI1MzYxOQ==">
      <input type="hidden" name="input[context]" value="">
    <div class="js-comment-reactions-options d-flex flex-items-center flex-row flex-wrap">
      <div class="js-reactions-container">
        <details class="dropdown details-reset details-overlay d-inline-block js-all-reactions-popover" hidden="">
          <summary aria-haspopup="true" data-view-component="true" class="Button--link Button--medium Button">  <span class="Button-content">
    <span class="Button-label">All reactions</span>
  </span>
</summary>

          <ul class="dropdown-menu dropdown-menu-se">
          </ul>
        </details>
      </div>
    </div>
</form></div>
            </div>
        </div>
      </div>

      <!-- '"` --><!-- </textarea></xmp> --><form class="js-comment-update" id="issuecomment-143253619-edit-form" data-turbo="false" action="https://github.com/elastic/elasticsearch/issue_comments/143253619" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="jBq_mvyN3vf4ssVaIKMzK-Q85UCHgAR-9EnbwhjS7bJM5H82df32jQv_LZMicyUDAVhu10i7Q-ZLhEBZQ4b5Xw">
            <include-fragment loading="lazy" src="/elastic/elasticsearch/issue_comments/143253619/edit_form?textarea_id=issuecomment-143253619-body&amp;comment_context=" class="previewable-comment-form js-comment-edit-form-deferred-include-fragment"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
  <p class="text-center mt-3" data-hide-on-error="">
    <svg aria-label="Loading..." style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" role="img" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
  </p>
  <p class="ml-1 mb-2 mt-2" data-show-on-error="" hidden="">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    Sorry, something went wrong.
  </p>
</include-fragment>

</form>    </div>
</div>

</div>


</div>


        <div class="js-timeline-item js-timeline-progressive-focus-container" data-gid="MDEyOkxhYmVsZWRFdmVudDczOTEwNTE2Mg==">
  
          <div class="TimelineItem js-targetable-element" data-team-hovercards-enabled="" id="event-739105162">
  <div class="TimelineItem-badge ">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tag color-fg-inherit">
    <path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
</svg>
  </div>
  <div class="TimelineItem-body">

    

        <a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/clintongormley/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/clintongormley"><img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/56599" width="20" height="20" alt="@clintongormley"></a>
<a class="author Link--primary text-bold" data-hovercard-type="user" data-hovercard-url="/users/clintongormley/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/clintongormley">clintongormley</a>




          added
      
<a id="label-e676d1" href="https://github.com/elastic/elasticsearch/labels/%3Ebreaking-java" data-name="&gt;breaking-java" style="--label-r:217;--label-g:63;--label-b:11;--label-h:15;--label-s:90;--label-l:44;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle">
  &gt;breaking-java
</a>

    and removed
      
<a id="label-10b81a" href="https://github.com/elastic/elasticsearch/labels/%3Ebreaking" data-name="&gt;breaking" style="--label-r:217;--label-g:63;--label-b:11;--label-h:15;--label-s:90;--label-l:44;" data-view-component="true" class="IssueLabel hx_IssueLabel d-inline-block v-align-middle">
  &gt;breaking
</a>

  labels


    <a href="https://github.com/elastic/elasticsearch/pull/13788#event-739105162" class="Link--secondary"><relative-time datetime="2016-07-29T12:08:01Z" class="no-wrap" title="Jul 29, 2016, 2:08 PM GMT+2"><template shadowrootmode="open">on Jul 29, 2016</template>Jul 29, 2016</relative-time></a>

  </div>
</div>




</div>



  <!-- Rendered timeline since 2016-07-29 05:08:57 -->
  <div id="partial-timeline" class="js-timeline-marker js-socket-channel js-updatable-content" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4IiwidCI6MTcyMjQyNjAzNH0=--e261758c22d95abe617e4854170175088b08cfbec91c33c4d28be9fe065a356b" data-url="/elastic/elasticsearch/pull/13788/partials/unread_timeline?since=2016-07-29T05%3A08%3A57.000000000-07%3A00" data-last-modified="2016-07-29T05:08:57.000000000-07:00" data-gid="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=">
    <!-- '"` --><!-- </textarea></xmp> --><form class="d-none js-timeline-marker-form" data-turbo="false" action="https://github.com/_graphql/MarkNotificationSubjectAsRead" accept-charset="UTF-8" data-remote="true" method="post"><input type="hidden" name="authenticity_token" value="kMyfC-164RwP2JynTB5zY0Y3ylEaI-eZgGtejyT46EvSU9gkv0yfCHsbivbs825ahqpodyblPPl3Wl7YQnZh3g">
      <input type="hidden" name="variables[subjectId]" value="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=">
</form>  </div>



    </div>

    <div class="discussion-timeline-actions">
            


  <div id="partial-pull-merging" class="pull-merging js-pull-merging js-socket-channel js-updatable-content js-pull-refresh-on-pjax " aria-live="polite" data-channel="eyJjIjoicmVwbzo2NjUyMjIwOmJyYW5jaDptZXJnZS9xdWVyeS1yZWZhY3RvcmluZyIsInQiOjE3MjI0MjYwMzR9--248d92d4551d28efb61565abae3f4bbfd7fe141a51b1fcb06451e99a679fce0e eyJjIjoicmVwbzo1MDc3NzU6YnJhbmNoOm1hc3RlciIsInQiOjE3MjI0MjYwMzR9--79a89297d6a76ad550384852cfdc07edb27908a68e813d5d2f6639b4fd6e3fc7 eyJjIjoicmVwbzo1MDc3NzU6Y29tbWl0OjNkMzE5NzM0MmRlZDBhNjk3Yzk0YTAyZDgxZGNlMDExYzg4YTlmYzEiLCJ0IjoxNzIyNDI2MDM0fQ==--7ee2b9e83fd0ae008c30897980c0d63de4d58ca28730f686e616c89b630a2fa5 eyJjIjoiaXNzdWU6MTA4MzE3Mzc3OnN0YXRlIiwidCI6MTcyMjQyNjAzNH0=--e144fbbc774531be88a8fdaf9411ffaab68c4302e01e716553a3af19b95b79fc eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4OnJldmlld19zdGF0ZSIsInQiOjE3MjI0MjYwMzR9--09a5abf449f4826260180518e136e2702c53325be4e42d949b293e18a92f6b8d eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4OndvcmtmbG93X3J1biIsInQiOjE3MjI0MjYwMzR9--95ee0edcbc1c651c78f4b5e4f6febd01dde3f6e873e76584c922e9667f66e165 eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4OmRlcGxveWVkIiwidCI6MTcyMjQyNjAzNH0=--4b25059c40684c0fe84685301971e2519ed80e2f58cb3c1b8f9c0686f9d24ff4 eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4Om1lcmdlX3F1ZXVlX2VudHJ5X3N0YXRlIiwidCI6MTcyMjQyNjAzNH0=--ce4ff5c0d0068ffc044b0712b2215dc03773a856d448275925e2baf8e85bc7ee" data-url="/elastic/elasticsearch/pull/13788/partials/merging?merge_type=squash">

        




      


<div class="ml-0 pl-0 ml-md-6 pl-md-3 my-3 branch-action branch-action-state-error pull-merging-error">
  <span class="branch-action-icon d-none d-md-flex flex-items-center flex-justify-center">
    <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-git-merge">
    <path d="M15 13.25a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm-12.5 6a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0Zm0-14.5a3.25 3.25 0 1 1 6.5 0 3.25 3.25 0 0 1-6.5 0ZM5.75 6.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 6.5Zm0 14.5a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 5.75 21Zm12.5-6a1.75 1.75 0 1 0-.001-3.501A1.75 1.75 0 0 0 18.25 15Z"></path><path d="M6.5 7.25c0 2.9 2.35 5.25 5.25 5.25h4.5V14h-4.5A6.75 6.75 0 0 1 5 7.25Z"></path><path d="M5.75 16.75A.75.75 0 0 1 5 16V8a.75.75 0 0 1 1.5 0v8a.75.75 0 0 1-.75.75Z"></path>
</svg>
  </span>
  <div class="branch-action-body timeline-comment--caret p-3">
        <button data-form-target="js-update-branch-form" type="button" data-view-component="true" class="js-merge-box-try-again btn float-right">    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-sync">
    <path d="M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z"></path>
</svg>
        Try again
</button>    <h4 class="merge-branch-heading">Update branch attempt failed</h4>
    <p class="merge-branch-description multi-line-error">Oops, something went wrong.</p>
    
  </div>
</div>

  </div>


      <div id="issue-comment-box">
            <div class="timeline-comment-wrapper timeline-new-comment js-comment-container js-targetable-element ml-0 pl-0 ml-md-6 pl-md-3" id="issuecomment-new">
  <div class="d-none d-md-block">
  <span class="timeline-comment-avatar "><a class="d-inline-block" data-hovercard-type="user" data-hovercard-url="/users/l-schulte/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/l-schulte"><img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/35693391(1)" width="40" height="40" alt="@l-schulte"></a></span>
  </div>
    <div>
      <!-- '"` --><!-- </textarea></xmp> --><form id="new_comment_form" aria-labelledby="previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b-title" autocomplete="off" class="js-new-comment-form js-needs-timeline-marker-header" data-turbo="false" action="https://github.com/elastic/elasticsearch/pull/13788/comment?sticky=true" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="oE_0G_pDg9y1ZqcCAj6hFRT7l_p3lqCHSDWZXVUqhFFOydLmdwP4wkxhkEeBTotMX141hZgPcLG4Ai3sHVr-3Q">
        <input type="text" name="required_field_a31b" hidden="hidden" class="form-control"><input type="hidden" name="timestamp" value="1722426033686" autocomplete="off" class="form-control"><input type="hidden" name="timestamp_secret" value="7143afdb5b03a571250e4852561615b348aa95d6f79d2204ac37281ec06450f8" autocomplete="off" class="form-control">
        <input type="hidden" name="issue" value="13788">
          <fieldset class="min-width-0">
              
<div data-view-component="true"><legend data-view-component="true"><h4 id="previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b-title" data-view-component="true" class="f4 mb-2">Add a comment</h4></legend></div>
<label for="new_comment_field" data-view-component="true" class="sr-only position-absolute">Comment</label>
<tab-container class="js-previewable-comment-form write-selected Box CommentBox" data-preview-url="/preview?markdown_unsupported=false&amp;repository=507775&amp;subject=13788&amp;subject_type=PullRequest">
  <input type="hidden" value="WsIFZs_GQeFFXUxJr2nmxULQ1a4IP2fuVkpWUfA0mL0lDpcFzxJm9Pyr9FjEVOA7QY2cFvrozeWCBCxm6UozdA" data-csrf="true" class="js-data-preview-url-csrf">
  <div class="tabnav CommentBox-header width-full">
      <div class="tabnav-tabs" role="tablist" aria-label="Add a comment">
        <button type="button" class="btn-link tabnav-tab write-tab js-write-tab" role="tab" id="write_tab_previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;WRITE_TAB&quot;,&quot;label&quot;:null}" aria-selected="true" tabindex="0">
          Write
        </button>
        <button type="button" class="btn-link tabnav-tab preview-tab js-preview-tab" role="tab" id="preview_tab_previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;PREVIEW_TAB&quot;,&quot;label&quot;:null}" aria-selected="false" tabindex="-1">
          Preview
        </button>
      </div>
    <markdown-toolbar role="presentation" for="new_comment_field" data-no-focus="true" data-view-component="true" class="CommentBox-toolbar">
  <action-bar role="toolbar" data-view-component="true" class="ActionBar" data-catalyst="" style="overflow: visible;">
  <div data-target="action-bar.itemContainer" data-view-component="true" class="ActionBar-item-container">
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-dec8845f-5b2f-495a-92ba-0432c201b8d9" data-md-button="header-3" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;HEADING&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-a29e2217-c6f3-4a98-a0ab-f38fc63f924b" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="0">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heading Button-visual">
    <path d="M3.75 2a.75.75 0 0 1 .75.75V7h7V2.75a.75.75 0 0 1 1.5 0v10.5a.75.75 0 0 1-1.5 0V8.5h-7v4.75a.75.75 0 0 1-1.5 0V2.75A.75.75 0 0 1 3.75 2Z"></path>
</svg>
</button><tool-tip id="tooltip-a29e2217-c6f3-4a98-a0ab-f38fc63f924b" for="action-bar-dec8845f-5b2f-495a-92ba-0432c201b8d9" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Heading</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-8871e076-cf80-4a75-8271-8fff48a262d3" data-md-button="bold" data-hotkey-scope="new_comment_field" data-hotkey="Control+b" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;BOLD&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-eee8a3d9-cdca-41c0-a2c2-5417bcda816d" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bold Button-visual">
    <path d="M4 2h4.5a3.501 3.501 0 0 1 2.852 5.53A3.499 3.499 0 0 1 9.5 14H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm1 7v3h4.5a1.5 1.5 0 0 0 0-3Zm3.5-2a1.5 1.5 0 0 0 0-3H5v3Z"></path>
</svg>
</button><tool-tip id="tooltip-eee8a3d9-cdca-41c0-a2c2-5417bcda816d" for="action-bar-8871e076-cf80-4a75-8271-8fff48a262d3" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Bold</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-2c5b330a-d019-4b9d-9335-98d41d84799c" data-md-button="italic" data-hotkey-scope="new_comment_field" data-hotkey="Control+i" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;ITALIC&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-6f5a943e-4bca-4580-9cb2-13da36ff5fd6" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-italic Button-visual">
    <path d="M6 2.75A.75.75 0 0 1 6.75 2h6.5a.75.75 0 0 1 0 1.5h-2.505l-3.858 9H9.25a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.505l3.858-9H6.75A.75.75 0 0 1 6 2.75Z"></path>
</svg>
</button><tool-tip id="tooltip-6f5a943e-4bca-4580-9cb2-13da36ff5fd6" for="action-bar-2c5b330a-d019-4b9d-9335-98d41d84799c" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Italic</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-f7fd1a77-35dd-4003-9f04-2840ec00dd74" data-md-button="quote" data-hotkey-scope="new_comment_field" data-hotkey="Control+Shift+&gt;" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;QUOTE&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-2c7c4355-5b7d-4ad2-9174-423d881fb1ba" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-quote Button-visual">
    <path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"></path>
</svg>
</button><tool-tip id="tooltip-2c7c4355-5b7d-4ad2-9174-423d881fb1ba" for="action-bar-f7fd1a77-35dd-4003-9f04-2840ec00dd74" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Quote</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-a7f1b1a0-5686-46f5-b2c8-5bcb2a05d958" data-md-button="code" data-hotkey-scope="new_comment_field" data-hotkey="Control+e" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;CODE&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-306e81de-d762-4cb6-a404-aab7cdc62b19" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code Button-visual">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
</button><tool-tip id="tooltip-306e81de-d762-4cb6-a404-aab7cdc62b19" for="action-bar-a7f1b1a0-5686-46f5-b2c8-5bcb2a05d958" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Code</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-eb311607-3c6a-43a5-a7ea-55a64eb045d5" data-md-button="link" data-hotkey-scope="new_comment_field" data-hotkey="Control+k" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;LINK&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-662b1d88-3967-40ed-afab-3a6d79ca683e" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link Button-visual">
    <path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path>
</svg>
</button><tool-tip id="tooltip-662b1d88-3967-40ed-afab-3a6d79ca683e" for="action-bar-eb311607-3c6a-43a5-a7ea-55a64eb045d5" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Link</tool-tip>
</div>
      <hr role="presentation" aria-hidden="true" data-targets="action-bar.items" data-view-component="true" class="ActionBar-item ActionBar-divider" data-offset-width="17" style="visibility: visible;">
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-c69ba37a-7744-4d8f-988f-adc5014d6d1f" data-md-button="ordered-list" data-hotkey-scope="new_comment_field" data-hotkey="Control+Shift+&amp;" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;ORDERED_LIST&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-5e35259c-6dc2-4c81-85bd-6af5d103d98c" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-list-ordered Button-visual">
    <path d="M5 3.25a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 5 3.25Zm0 5a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 5 8.25Zm0 5a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1-.75-.75ZM.924 10.32a.5.5 0 0 1-.851-.525l.001-.001.001-.002.002-.004.007-.011c.097-.144.215-.273.348-.384.228-.19.588-.392 1.068-.392.468 0 .858.181 1.126.484.259.294.377.673.377 1.038 0 .987-.686 1.495-1.156 1.845l-.047.035c-.303.225-.522.4-.654.597h1.357a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5c0-1.005.692-1.52 1.167-1.875l.035-.025c.531-.396.8-.625.8-1.078a.57.57 0 0 0-.128-.376C1.806 10.068 1.695 10 1.5 10a.658.658 0 0 0-.429.163.835.835 0 0 0-.144.153ZM2.003 2.5V6h.503a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1h.503V3.308l-.28.14a.5.5 0 0 1-.446-.895l1.003-.5a.5.5 0 0 1 .723.447Z"></path>
</svg>
</button><tool-tip id="tooltip-5e35259c-6dc2-4c81-85bd-6af5d103d98c" for="action-bar-c69ba37a-7744-4d8f-988f-adc5014d6d1f" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Numbered list</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-963c7695-0979-45f8-8ebb-f701b65c0b04" data-md-button="unordered-list" data-hotkey-scope="new_comment_field" data-hotkey="Control+Shift+*" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;UNORDERED_LIST&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-b3968974-eb59-4b06-aa57-7ce25666bf4d" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-list-unordered Button-visual">
    <path d="M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
</button><tool-tip id="tooltip-b3968974-eb59-4b06-aa57-7ce25666bf4d" for="action-bar-963c7695-0979-45f8-8ebb-f701b65c0b04" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Unordered list</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-81ebbb32-978f-460c-b5a6-01b19433bdf9" data-md-button="task-list" data-hotkey-scope="new_comment_field" data-hotkey="Control+Shift+L" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;TASK_LIST&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-0564a86f-ab3c-4078-a685-d979d517326e" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tasklist Button-visual">
    <path d="M2 2h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm4.655 8.595a.75.75 0 0 1 0 1.06L4.03 14.28a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.095-2.095a.75.75 0 0 1 1.06 0ZM9.75 2.5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm0 5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm0 5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm-7.25-9v3h3v-3Z"></path>
</svg>
</button><tool-tip id="tooltip-0564a86f-ab3c-4078-a685-d979d517326e" for="action-bar-81ebbb32-978f-460c-b5a6-01b19433bdf9" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Task list</tool-tip>
</div>
      <hr role="presentation" aria-hidden="true" data-targets="action-bar.items" data-view-component="true" class="ActionBar-item ActionBar-divider" data-offset-width="17" style="visibility: visible;">
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-9650ae2f-22bd-4a83-8867-2047a5969462" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;ATTACH_FILES&quot;,&quot;label&quot;:null}" data-file-attachment-for="fc-new_comment_field" aria-labelledby="tooltip-b72774c0-7ddf-42a3-99fa-37f01f6e7999" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-paperclip Button-visual">
    <path d="M12.212 3.02a1.753 1.753 0 0 0-2.478.003l-5.83 5.83a3.007 3.007 0 0 0-.88 2.127c0 .795.315 1.551.88 2.116.567.567 1.333.89 2.126.89.79 0 1.548-.321 2.116-.89l5.48-5.48a.75.75 0 0 1 1.061 1.06l-5.48 5.48a4.492 4.492 0 0 1-3.177 1.33c-1.2 0-2.345-.487-3.187-1.33a4.483 4.483 0 0 1-1.32-3.177c0-1.195.475-2.341 1.32-3.186l5.83-5.83a3.25 3.25 0 0 1 5.553 2.297c0 .863-.343 1.691-.953 2.301L7.439 12.39c-.375.377-.884.59-1.416.593a1.998 1.998 0 0 1-1.412-.593 1.992 1.992 0 0 1 0-2.828l5.48-5.48a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-5.48 5.48a.492.492 0 0 0 0 .707.499.499 0 0 0 .352.154.51.51 0 0 0 .356-.154l5.833-5.827a1.755 1.755 0 0 0 0-2.481Z"></path>
</svg>
</button><tool-tip id="tooltip-b72774c0-7ddf-42a3-99fa-37f01f6e7999" for="action-bar-9650ae2f-22bd-4a83-8867-2047a5969462" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Attach files</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-e9829a9a-072a-4108-9792-f99ee5eaad10" data-md-button="mention" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;MENTION&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-549c3488-b1da-4cc9-b895-02b63683114e" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-mention Button-visual">
    <path d="M4.75 2.37a6.501 6.501 0 0 0 6.5 11.26.75.75 0 0 1 .75 1.298A7.999 7.999 0 0 1 .989 4.148 8 8 0 0 1 16 7.75v1.5a2.75 2.75 0 0 1-5.072 1.475 3.999 3.999 0 0 1-6.65-4.19A4 4 0 0 1 12 8v1.25a1.25 1.25 0 0 0 2.5 0V7.867a6.5 6.5 0 0 0-9.75-5.496ZM10.5 8a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg>
</button><tool-tip id="tooltip-549c3488-b1da-4cc9-b895-02b63683114e" for="action-bar-e9829a9a-072a-4108-9792-f99ee5eaad10" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Mention</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-ca5966c2-4217-473a-a65e-3719f36c399c" data-md-button="ref" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;REFERENCE&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-706d7e8d-61aa-448a-8284-82931bebd204" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-cross-reference Button-visual">
    <path d="M2.75 3.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 13H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 14.543V13H2.75A1.75 1.75 0 0 1 1 11.25v-7.5C1 2.784 1.784 2 2.75 2h5.5a.75.75 0 0 1 0 1.5ZM16 1.25v4.146a.25.25 0 0 1-.427.177L14.03 4.03l-3.75 3.75a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l3.75-3.75-1.543-1.543A.25.25 0 0 1 11.604 1h4.146a.25.25 0 0 1 .25.25Z"></path>
</svg>
</button><tool-tip id="tooltip-706d7e8d-61aa-448a-8284-82931bebd204" for="action-bar-ca5966c2-4217-473a-a65e-3719f36c399c" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Reference</tool-tip>
</div>
      <div data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;"><button id="action-bar-13b319b7-7786-4857-96f2-44d33f1a7f06" data-show-dialog-id="saved_replies_menu_new_comment_field-dialog" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;SAVED_REPLIES&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-8cc134b0-b3bd-4400-aa0e-481f3826a69b" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-reply Button-visual">
    <path d="M6.78 1.97a.75.75 0 0 1 0 1.06L3.81 6h6.44A4.75 4.75 0 0 1 15 10.75v2.5a.75.75 0 0 1-1.5 0v-2.5a3.25 3.25 0 0 0-3.25-3.25H3.81l2.97 2.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L1.47 7.28a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z"></path>
</svg>
</button><tool-tip id="tooltip-8cc134b0-b3bd-4400-aa0e-481f3826a69b" for="action-bar-13b319b7-7786-4857-96f2-44d33f1a7f06" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Saved replies</tool-tip>
</div>
      <slash-command-toolbar-button data-targets="action-bar.items" data-view-component="true" class="ActionBar-item" data-offset-width="32" style="visibility: visible;" data-catalyst="" data-command=""><button id="action-bar-4c0c35cb-cdd2-41f8-b5e7-feecb01bc351" data-action="click:slash-command-toolbar-button#triggerMenu" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;SLASH_COMMANDS&quot;,&quot;label&quot;:null}" aria-labelledby="tooltip-1bcc96c7-834c-45a9-b6aa-c46fb64e95fc" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium" tabindex="-1">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-diff-ignored Button-visual">
    <path d="M13.25 1c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 15H2.75A1.75 1.75 0 0 1 1 13.25V2.75C1 1.784 1.784 1 2.75 1ZM2.75 2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25Zm8.53 3.28-5.5 5.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l5.5-5.5a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
</button><tool-tip id="tooltip-1bcc96c7-834c-45a9-b6aa-c46fb64e95fc" for="action-bar-4c0c35cb-cdd2-41f8-b5e7-feecb01bc351" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Slash commands</tool-tip>
</slash-command-toolbar-button>
</div>    <action-menu data-target="action-bar.moreMenu" hidden="" data-select-variant="none" data-view-component="true" class="ActionBar-more-menu" data-catalyst="">
  <focus-group direction="vertical" mnemonics="" retain="">
    <button id="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-button" popovertarget="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-overlay" aria-controls="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-list" aria-haspopup="true" aria-labelledby="tooltip-830fc519-838f-43fd-8f3c-68f8134f92cc" type="button" data-view-component="true" class="Button Button--iconOnly Button--invisible Button--medium">  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-kebab-horizontal Button-visual">
    <path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
</svg>
</button><tool-tip id="tooltip-830fc519-838f-43fd-8f3c-68f8134f92cc" for="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-button" popover="manual" data-direction="s" data-type="label" data-view-component="true" class="sr-only position-absolute" aria-hidden="true" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Menu</tool-tip>


<anchored-position id="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-overlay" anchor="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-button" align="end" side="outside-bottom" anchor-offset="normal" popover="auto" data-view-component="true" style="inset: -3841.5px auto auto -548.484px;">
  <div data-view-component="true" class="Overlay Overlay--size-auto">
    
      <div data-view-component="true" class="Overlay-body Overlay-body--paddingNone">          <action-list data-catalyst="">
  <div data-view-component="true">
    <ul aria-labelledby="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-button" id="action-bar-ec4f31a4-2f1d-4bf3-a6c8-15b785532656-list" role="menu" data-view-component="true" class="ActionListWrap--inset ActionListWrap">
        <li value="" hidden="" data-for="action-bar-dec8845f-5b2f-495a-92ba-0432c201b8d9" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-c0e8d8e7-f6a8-4c7f-bfd3-98d14aec1a88" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-heading">
    <path d="M3.75 2a.75.75 0 0 1 .75.75V7h7V2.75a.75.75 0 0 1 1.5 0v10.5a.75.75 0 0 1-1.5 0V8.5h-7v4.75a.75.75 0 0 1-1.5 0V2.75A.75.75 0 0 1 3.75 2Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Heading
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-8871e076-cf80-4a75-8271-8fff48a262d3" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-0c5319cc-8163-4dfc-ac1e-62076112ee9e" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bold">
    <path d="M4 2h4.5a3.501 3.501 0 0 1 2.852 5.53A3.499 3.499 0 0 1 9.5 14H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm1 7v3h4.5a1.5 1.5 0 0 0 0-3Zm3.5-2a1.5 1.5 0 0 0 0-3H5v3Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Bold
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-2c5b330a-d019-4b9d-9335-98d41d84799c" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-fa61bafa-5a56-4856-9d27-3490d5c46fa9" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-italic">
    <path d="M6 2.75A.75.75 0 0 1 6.75 2h6.5a.75.75 0 0 1 0 1.5h-2.505l-3.858 9H9.25a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1 0-1.5h2.505l3.858-9H6.75A.75.75 0 0 1 6 2.75Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Italic
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-f7fd1a77-35dd-4003-9f04-2840ec00dd74" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-47e0dba2-0de1-4ff6-8ba6-771f4458bb64" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-quote">
    <path d="M1.75 2.5h10.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Zm4 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2.5 7.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Quote
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-a7f1b1a0-5686-46f5-b2c8-5bcb2a05d958" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-7c20d7a1-eb8c-4520-8c40-ae4eeccd811c" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code">
    <path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Code
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-eb311607-3c6a-43a5-a7ea-55a64eb045d5" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-be9d1b7b-c23a-4e2d-8f21-e7068f2e7894" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-link">
    <path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Link
</span></button>
  
</li>
        <li hidden="" role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        <li value="" hidden="" data-for="action-bar-c69ba37a-7744-4d8f-988f-adc5014d6d1f" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-b7c9b277-acee-487e-a24e-ab2d5ce478ce" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-list-ordered">
    <path d="M5 3.25a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 5 3.25Zm0 5a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5A.75.75 0 0 1 5 8.25Zm0 5a.75.75 0 0 1 .75-.75h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1-.75-.75ZM.924 10.32a.5.5 0 0 1-.851-.525l.001-.001.001-.002.002-.004.007-.011c.097-.144.215-.273.348-.384.228-.19.588-.392 1.068-.392.468 0 .858.181 1.126.484.259.294.377.673.377 1.038 0 .987-.686 1.495-1.156 1.845l-.047.035c-.303.225-.522.4-.654.597h1.357a.5.5 0 0 1 0 1H.5a.5.5 0 0 1-.5-.5c0-1.005.692-1.52 1.167-1.875l.035-.025c.531-.396.8-.625.8-1.078a.57.57 0 0 0-.128-.376C1.806 10.068 1.695 10 1.5 10a.658.658 0 0 0-.429.163.835.835 0 0 0-.144.153ZM2.003 2.5V6h.503a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1h.503V3.308l-.28.14a.5.5 0 0 1-.446-.895l1.003-.5a.5.5 0 0 1 .723.447Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Numbered list
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-963c7695-0979-45f8-8ebb-f701b65c0b04" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-99d9f71d-8a30-45f3-aed8-10e0a1adc949" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-list-unordered">
    <path d="M5.75 2.5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5Zm0 5h8.5a.75.75 0 0 1 0 1.5h-8.5a.75.75 0 0 1 0-1.5ZM2 14a1 1 0 1 1 0-2 1 1 0 0 1 0 2Zm1-6a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM2 4a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Unordered list
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-81ebbb32-978f-460c-b5a6-01b19433bdf9" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-3a10039a-24af-4e39-8e92-9659c5f6ae2d" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-tasklist">
    <path d="M2 2h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1Zm4.655 8.595a.75.75 0 0 1 0 1.06L4.03 14.28a.75.75 0 0 1-1.06 0l-1.5-1.5a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215l.97.97 2.095-2.095a.75.75 0 0 1 1.06 0ZM9.75 2.5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm0 5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm0 5h5.5a.75.75 0 0 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5Zm-7.25-9v3h3v-3Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Task list
</span></button>
  
</li>
        <li hidden="" role="presentation" aria-hidden="true" data-view-component="true" class="ActionList-sectionDivider"></li>
        <li value="" hidden="" data-for="action-bar-9650ae2f-22bd-4a83-8867-2047a5969462" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-95f6b803-e071-40fe-9bef-d0413320e6c9" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-paperclip">
    <path d="M12.212 3.02a1.753 1.753 0 0 0-2.478.003l-5.83 5.83a3.007 3.007 0 0 0-.88 2.127c0 .795.315 1.551.88 2.116.567.567 1.333.89 2.126.89.79 0 1.548-.321 2.116-.89l5.48-5.48a.75.75 0 0 1 1.061 1.06l-5.48 5.48a4.492 4.492 0 0 1-3.177 1.33c-1.2 0-2.345-.487-3.187-1.33a4.483 4.483 0 0 1-1.32-3.177c0-1.195.475-2.341 1.32-3.186l5.83-5.83a3.25 3.25 0 0 1 5.553 2.297c0 .863-.343 1.691-.953 2.301L7.439 12.39c-.375.377-.884.59-1.416.593a1.998 1.998 0 0 1-1.412-.593 1.992 1.992 0 0 1 0-2.828l5.48-5.48a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-5.48 5.48a.492.492 0 0 0 0 .707.499.499 0 0 0 .352.154.51.51 0 0 0 .356-.154l5.833-5.827a1.755 1.755 0 0 0 0-2.481Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Attach files
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-e9829a9a-072a-4108-9792-f99ee5eaad10" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-268e24e3-2c0e-4c86-90ab-60152cba48d1" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-mention">
    <path d="M4.75 2.37a6.501 6.501 0 0 0 6.5 11.26.75.75 0 0 1 .75 1.298A7.999 7.999 0 0 1 .989 4.148 8 8 0 0 1 16 7.75v1.5a2.75 2.75 0 0 1-5.072 1.475 3.999 3.999 0 0 1-6.65-4.19A4 4 0 0 1 12 8v1.25a1.25 1.25 0 0 0 2.5 0V7.867a6.5 6.5 0 0 0-9.75-5.496ZM10.5 8a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Mention
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-ca5966c2-4217-473a-a65e-3719f36c399c" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-94a1f897-c3f6-42d9-929a-b53409dc287b" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-cross-reference">
    <path d="M2.75 3.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h4.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 13H9.06l-2.573 2.573A1.458 1.458 0 0 1 4 14.543V13H2.75A1.75 1.75 0 0 1 1 11.25v-7.5C1 2.784 1.784 2 2.75 2h5.5a.75.75 0 0 1 0 1.5ZM16 1.25v4.146a.25.25 0 0 1-.427.177L14.03 4.03l-3.75 3.75a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l3.75-3.75-1.543-1.543A.25.25 0 0 1 11.604 1h4.146a.25.25 0 0 1 .25.25Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Reference
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-13b319b7-7786-4857-96f2-44d33f1a7f06" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-f452030b-375a-4977-871f-8c1d00b83dec" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-reply">
    <path d="M6.78 1.97a.75.75 0 0 1 0 1.06L3.81 6h6.44A4.75 4.75 0 0 1 15 10.75v2.5a.75.75 0 0 1-1.5 0v-2.5a3.25 3.25 0 0 0-3.25-3.25H3.81l2.97 2.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L1.47 7.28a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Saved replies
</span></button>
  
</li>
        <li value="" hidden="" data-for="action-bar-4c0c35cb-cdd2-41f8-b5e7-feecb01bc351" data-action="click:action-bar#menuItemClick" data-targets="action-list.items" role="none" data-view-component="true" class="ActionListItem">
    
    
    <button tabindex="-1" id="item-1852f992-e803-4c02-85ab-f8f5748f162b" type="button" role="menuitem" data-view-component="true" class="ActionListContent ActionListContent--visual16">
        <span class="ActionListItem-visual ActionListItem-visual--leading">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-diff-ignored">
    <path d="M13.25 1c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 13.25 15H2.75A1.75 1.75 0 0 1 1 13.25V2.75C1 1.784 1.784 1 2.75 1ZM2.75 2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25Zm8.53 3.28-5.5 5.5a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734l5.5-5.5a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>
        </span>
      
        <span data-view-component="true" class="ActionListItem-label">
          Slash commands
</span></button>
  
</li>
</ul>    
</div></action-list>


</div>
      
</div></anchored-position>  </focus-group>
</action-menu></action-bar></markdown-toolbar>

<dialog-helper>
  <dialog id="saved_replies_menu_new_comment_field-dialog" aria-modal="true" aria-labelledby="saved_replies_menu_new_comment_field-dialog-title" aria-describedby="saved_replies_menu_new_comment_field-dialog-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium Overlay--motion-scaleFade Overlay--placement-bottom-whenNarrow js-saved-reply-container">
    <div data-view-component="true" class="Overlay-header">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="saved_replies_menu_new_comment_field-dialog-title">
        Select a reply
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="saved_replies_menu_new_comment_field-dialog" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="saved_replies_menu_new_comment_field-dialog-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body">    <include-fragment class="js-saved-reply-include-fragment" role="menuitem" aria-label="Loading" src="/settings/replies?context=pull_request_comment" loading="lazy"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
      <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="my-6 mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>  <span class="sr-only">Loading</span>

    </include-fragment>
</div>
      </scrollable-region>
      <div data-view-component="true" class="Overlay-footer Overlay-footer--alignEnd Overlay-footer--divided">    <a href="https://github.com/settings/replies?return_to=1" data-view-component="true" class="Button--invisible Button--medium Button Button--fullWidth">  <span class="Button-content Button-content--alignStart">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-plus">
    <path d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z"></path>
</svg>
      </span>
    <span class="Button-label">Create a new saved reply</span>
  </span>
</a>
</div>
</dialog></dialog-helper>


  </div>

  <div class="comment-form-error js-comment-form-error" role="alert" hidden="">
    There was an error creating your PullRequest.
  </div>

  <file-attachment class="js-upload-markdown-image is-default" input="fc-new_comment_field" role="tabpanel" aria-labelledby="write_tab_previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b" data-tab-container-no-tabstop="true" data-upload-repository-id="507775" data-upload-policy-url="/upload/policies/assets"><input type="hidden" value="Re_TGEYnczXzXxA4lgNcn8KtnuhbfmHGuJjkwBQS_aQigCwxWkfRnAdDgr7JWt7Jn-zWD8azq3wuwjREQ6G3BA" data-csrf="true" class="js-data-upload-policy-url-csrf">
    <div class="js-write-bucket position-relative">
        <input type="hidden" name="saved_reply_id" id="new_comment_field_saved_reply_id" class="js-resettable-field" value="" data-reset-value="">

      <text-expander keys=": @ #" data-issue-url="/suggestions/pull_request/46006908?issue_suggester=1&amp;repository=elasticsearch&amp;user_id=elastic" data-mention-url="/suggestions/pull_request/46006908?mention_suggester=1&amp;repository=elasticsearch&amp;user_id=elastic" multiword="#" data-emoji-url="/autocomplete/emoji">
          <slash-command-expander keys="/" data-slash-command-url="/elastic/elasticsearch/slash_apps?subject_gid=MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg%3D&amp;surface=pull_request_comment">
    <div class="SelectMenu js-slash-command-expander-loading d-none">
      <div class="SelectMenu-modal">
        <header class="SelectMenu-header">
          <div class="flex-1">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>

    <span class="color-fg-muted text-small pl-1">Slash commands</span>
</div>

<div data-view-component="true" class="Label Label--success">Beta</div>

        </header>
        <div class="SelectMenu-loading">
          <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true" class="mx-auto d-block anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>  <span class="sr-only">Loading</span>

        </div>
      </div>
    </div>

    <div class="SelectMenu js-slash-command-expander-error d-none">
      <div class="SelectMenu-modal">
        <header class="SelectMenu-header">
          <div class="flex-1">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-code-square">
    <path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25Zm7.47 3.97a.75.75 0 0 1 1.06 0l2 2a.75.75 0 0 1 0 1.06l-2 2a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L10.69 8 9.22 6.53a.75.75 0 0 1 0-1.06ZM6.78 6.53 5.31 8l1.47 1.47a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215l-2-2a.75.75 0 0 1 0-1.06l2-2a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042Z"></path>
</svg>

    <span class="color-fg-muted text-small pl-1">Slash commands</span>
</div>

<div data-view-component="true" class="Label Label--success">Beta</div>

        </header>
        <div class="SelectMenu-list">
          <div class="SelectMenu-blankslate">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert color-fg-muted">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
            <h4 class="my-2">An unexpected error has occurred</h4>
          </div>
        </div>
      </div>
    </div>

    
        <div class="CommentBox-container">
          <textarea name="comment[body]" id="new_comment_field" placeholder=" " data-required-trimmed="Text field is empty" class="js-comment-field js-paste-markdown js-task-list-field js-quick-submit FormControl-textarea CommentBox-input js-size-to-fit js-session-resumable js-saved-reply-shortcut-comment-field" dir="auto" aria-describedby="placeholder_previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b" required=""></textarea>
          <p class="CommentBox-placeholder" id="placeholder_previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b" data-comment-box-placeholder="" aria-hidden="true">
            Add your comment here...
          </p>
        </div>

  </slash-command-expander>
      </text-expander>
        <input accept=".gif,.jpeg,.jpg,.mov,.mp4,.png,.svg,.webm,.cpuprofile,.csv,.dmp,.docx,.fodg,.fodp,.fods,.fodt,.gz,.json,.jsonc,.log,.md,.odf,.odg,.odp,.ods,.odt,.patch,.pdf,.pptx,.tgz,.txt,.xls,.xlsx,.zip" type="file" multiple="" hidden="" id="fc-new_comment_field">
        <div class="file-attachment-errors">
          <x-banner data-dismiss-scheme="none" data-view-component="true" data-catalyst="">
  <div data-view-component="true" class="rounded-bottom-2 bad-file repository-required Banner flash Banner--error flash-error Banner--full flash-full border-bottom-0">
      <div class="Banner-visual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
      </div>
    <div data-view-component="true" class="Banner-message">
      <p class="Banner-title" data-target="x-banner.titleText">We don’t support that file type.</p>
        <p>Try again with GIF, JPEG, JPG, MOV, MP4, PNG, SVG, WEBM, CPUPROFILE, CSV, DMP, DOCX, FODG, FODP, FODS, FODT, GZ, JSON, JSONC, LOG, MD, ODF, ODG, ODP, ODS, ODT, PATCH, PDF, PPTX, TGZ, TXT, XLS, XLSX or ZIP.</p>
</div></div></x-banner>
          <x-banner data-dismiss-scheme="none" data-view-component="true" data-catalyst="">
  <div data-view-component="true" class="rounded-bottom-2 bad-permissions Banner flash Banner--error flash-error Banner--full flash-full border-bottom-0">
      <div class="Banner-visual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
      </div>
    <div data-view-component="true" class="Banner-message">
      <p class="Banner-title" data-target="x-banner.titleText">Attaching documents requires write permission to this repository.</p>
        <p>Try again with GIF, JPEG, JPG, MOV, MP4, PNG, SVG, WEBM, CPUPROFILE, CSV, DMP, DOCX, FODG, FODP, FODS, FODT, GZ, JSON, JSONC, LOG, MD, ODF, ODG, ODP, ODS, ODT, PATCH, PDF, PPTX, TGZ, TXT, XLS, XLSX or ZIP.</p>
</div></div></x-banner>
          <x-banner data-dismiss-scheme="none" data-view-component="true" data-catalyst="">
  <div data-view-component="true" class="rounded-bottom-2 too-big js-upload-too-big Banner flash Banner--error flash-error Banner--full flash-full border-bottom-0">
      <div class="Banner-visual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
      </div>
    <div data-view-component="true" class="Banner-message">
      <p class="Banner-title" data-target="x-banner.titleText"></p>
</div></div></x-banner>
          <x-banner data-dismiss-scheme="none" data-view-component="true" data-catalyst="">
  <div data-view-component="true" class="rounded-bottom-2 empty Banner flash Banner--error flash-error Banner--full flash-full border-bottom-0">
      <div class="Banner-visual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
      </div>
    <div data-view-component="true" class="Banner-message">
      <p class="Banner-title" data-target="x-banner.titleText">This file is empty.</p>
        <p>Try again with a file that’s not empty.</p>
</div></div></x-banner>
          <x-banner data-dismiss-scheme="none" data-view-component="true" data-catalyst="">
  <div data-view-component="true" class="rounded-bottom-2 hidden-file Banner flash Banner--error flash-error Banner--full flash-full border-bottom-0">
      <div class="Banner-visual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
      </div>
    <div data-view-component="true" class="Banner-message">
      <p class="Banner-title" data-target="x-banner.titleText">This file is hidden.</p>
        <p>Try again with another file.</p>
</div></div></x-banner>
          <x-banner data-dismiss-scheme="none" data-view-component="true" data-catalyst="">
  <div data-view-component="true" class="rounded-bottom-2 failed-request Banner flash Banner--error flash-error Banner--full flash-full border-bottom-0">
      <div class="Banner-visual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-stop">
    <path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>
      </div>
    <div data-view-component="true" class="Banner-message">
      <p class="Banner-title" data-target="x-banner.titleText">Something went really wrong, and we can’t process that file.</p>
        <p>Try again.</p>
</div></div></x-banner>
        </div>
    </div>

    <div class="pr-2 pl-2 pb-2">
      <div data-view-component="true" class="border-right color-border-muted d-inline-block mr-1 pr-2">
        <a href="https://docs.github.com/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax" target="_blank" rel="noopener noreferrer" data-ga-click="Markdown Toolbar, click, help" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;MARKDOWN_BUTTON&quot;,&quot;label&quot;:null}" data-view-component="true" class="Button--invisible Button--small Button">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-markdown">
    <path d="M14.85 3c.63 0 1.15.52 1.14 1.15v7.7c0 .63-.51 1.15-1.15 1.15H1.15C.52 13 0 12.48 0 11.84V4.15C0 3.52.52 3 1.15 3ZM9 11V5H7L5.5 7 4 5H2v6h2V8l1.5 1.92L7 8v3Zm2.99.5L14.5 8H13V5h-2v3H9.5Z"></path>
</svg>
      </span>
    <span class="Button-label">Markdown is supported</span>
  </span>
</a>
</div>        <button data-file-attachment-for="fc-new_comment_field" data-analytics-event="{&quot;category&quot;:&quot;comment_box&quot;,&quot;action&quot;:&quot;UPLOAD_BUTTON&quot;,&quot;label&quot;:null}" type="button" data-view-component="true" class="Button--invisible Button--small Button">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-image">
    <path d="M16 13.25A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25V2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75ZM1.75 2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h.94l.03-.03 6.077-6.078a1.75 1.75 0 0 1 2.412-.06L14.5 10.31V2.75a.25.25 0 0 0-.25-.25Zm12.5 11a.25.25 0 0 0 .25-.25v-.917l-4.298-3.889a.25.25 0 0 0-.344.009L4.81 13.5ZM7 6a2 2 0 1 1-3.999.001A2 2 0 0 1 7 6ZM5.5 6a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0Z"></path>
</svg>
      </span>
    <span class="Button-label">Paste, drop, or click to add files</span>
  </span>
</button>
    </div>
</file-attachment>
  <div role="tabpanel" class="js-preview-panel overflow-auto CommentBox-comment" aria-labelledby="preview_tab_previewable-comment-form-component-ecbf80ca-e3ad-4d75-89c8-fee32c323e6b" hidden="">
    <input type="hidden" name="path" value="" class="js-path">
    <input type="hidden" name="line" value="" class="js-line-number">
    <input type="hidden" name="start_line" value="" class="js-start-line-number">
    <input type="hidden" name="preview_side" value="" class="js-side">
    <input type="hidden" name="preview_start_side" value="" class="js-start-side">
    <input type="hidden" name="start_commit_oid" value="" class="js-start-commit-oid">
    <input type="hidden" name="end_commit_oid" value="" class="js-end-commit-oid">
    <input type="hidden" name="base_commit_oid" value="" class="js-base-commit-oid">
    <input type="hidden" name="comment_id" value="" class="js-comment-id">
    <div class="comment js-suggested-changes-container" data-thread-side="">
  <div class="comment-body markdown-body js-preview-body">
    <p>Nothing to preview</p>
  </div>
</div>

  </div>

  <div class="comment-form-error mb-2 js-comment-update-error" hidden=""></div>
</tab-container>
          </fieldset>
          <div class="mt-2">
              <div id="partial-new-comment-form-actions" class="js-socket-channel js-updatable-content d-flex flex-justify-end flex-items-center flex-wrap gap-2" data-channel="eyJjIjoiaXNzdWU6MTA4MzE3Mzc3OnN0YXRlIiwidCI6MTcyMjQyNjAzM30=--bb31076d23c8e863146984628dc73f0ad63b6c6948eb9318d716ddcfc3c37475" data-url="/elastic/elasticsearch/pull/13788/partials/form_actions">

  <div class="d-flex flex-items-center">
  </div>

  <div class="flex-auto"></div>

    <div class="d-flex flex-sm-justify-end flex-column flex-sm-row">
      <div class="color-bg-subtle">
          
      </div>
      <div class="color-bg-subtle mt-sm-0 ml-sm-1 mt-2">
          <button data-disable-with="" data-disable-invalid="" type="submit" data-view-component="true" class="btn-primary btn width-full" disabled="">    Comment
</button>      </div>
    </div>

</div>

          </div>
</form>    </div>
        <div data-view-component="true" class="text-small color-fg-muted mt-3 mt-md-2 mb-2">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-info mr-1">
    <path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path>
</svg>Remember, contributions to this repository should follow
    its
      
      
    <a style="text-decoration: underline" class="Link--inTextBlock" href="https://github.com/elastic/elasticsearch/blob/f79c62157dda38e176d8f2795ca820d060b47984/CONTRIBUTING.md">contributing guidelines</a> and <a style="text-decoration: underline" styleclass="Link--inTextBlock" href="https://github.com/elastic/.github/blob/4b6c667fba0fa645082078820d798e2550c6f36d/SECURITY.md">security policy</a>.
</div>


    <div class="protip">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-light-bulb color-fg-muted">
    <path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path>
</svg>
      <strong>ProTip!</strong>
      Add comments to specific lines under <a class="Link--inTextBlock" href="https://github.com/elastic/elasticsearch/pull/13788/files">Files changed</a>.
    </div>
</div>


      </div>
    </div>
  </div>

</div>
  <div data-view-component="true" class="Layout-sidebar">          
<div id="partial-discussion-sidebar" class="js-socket-channel js-updatable-content" data-channel="eyJjIjoicHVsbF9yZXF1ZXN0OjQ2MDA2OTA4IiwidCI6MTcyMjQyNjAzM30=--9fde50b00c8a9bc94c11988512963b6194baed514d34bce2e58d5433eab8c091" data-gid="MDExOlB1bGxSZXF1ZXN0NDYwMDY5MDg=" data-url="/elastic/elasticsearch/issues/13788/show_partial?partial=issues%2Fsidebar" data-project-hovercards-enabled="">


      <div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item position-relative" data-team-hovercards-enabled="">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select reviewers" data-reviewers-team-size-check-url="/elastic/elasticsearch/pull/13788/review-requests/team-size-check" data-turbo="false" action="https://github.com/elastic/elasticsearch/pull/13788/review-requests" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="E9T3C_F3rYKJVv17wKnNzByM51aUWDpm9AnyStv91PwLFyMWU7Umpb_jqrsWO19kM5W9Qsnbv2ar1ecPy5GbcA">
    <div class="js-large-teams-check-warning-container"></div>
    
  <div class="discussion-sidebar-heading text-bold">
    Reviewers
  </div>

    <span class="css-truncate">

    No reviews
</span>

</form></div>


    <div class="discussion-sidebar-item sidebar-assignee js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select assignees" data-turbo="false" action="https://github.com/elastic/elasticsearch/issues/13788/assignees" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="wlDHE-ilWG2ftLz0SGxg_DltNzLB8ZaEJezEznUX3a-7Q84Lx3-YskkRK86Rkrq6KUBEKVU-BHbV2gy6ZZAnMQ">

      
  <div class="discussion-sidebar-heading text-bold">
    Assignees
  </div>


        
<span class="css-truncate js-issue-assignees">
    No one assigned
</span>


</form></div>


      
<div class="discussion-sidebar-item js-discussion-sidebar-item">
  


  <div class="discussion-sidebar-heading text-bold">
    Labels
  </div>


    <div class="js-issue-labels d-flex flex-wrap">
      
<a id="label-ab663f" href="https://github.com/elastic/elasticsearch/labels/%3Ebreaking-java" data-name="&gt;breaking-java" style="--label-r:217;--label-g:63;--label-b:11;--label-h:15;--label-s:90;--label-l:44;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1">
    <span class="css-truncate css-truncate-target width-fit">&gt;breaking-java</span>
</a>
  
<a id="label-a59629" href="https://github.com/elastic/elasticsearch/labels/%3ASearch%2FSearch" data-name=":Search/Search" style="--label-r:14;--label-g:138;--label-b:22;--label-h:123;--label-s:81;--label-l:29;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1" aria-describedby="tooltip-ee7e7268-4ae6-4809-9538-70d701c9d11e">
    <span class="css-truncate css-truncate-target width-fit">:Search/Search</span>
</a>
  <tool-tip id="tooltip-ee7e7268-4ae6-4809-9538-70d701c9d11e" for="label-a59629" popover="manual" data-direction="s" data-type="description" data-view-component="true" class="sr-only position-absolute" role="tooltip"><template shadowrootmode="open"><style>
      :host {
        --tooltip-top: var(--tool-tip-position-top, 0);
        --tooltip-left: var(--tool-tip-position-left, 0);
        padding: var(--overlay-paddingBlock-condensed) var(--overlay-padding-condensed) !important;
        font: var(--text-body-shorthand-small);
        color: var(--fgColor-onEmphasis, var(--color-fg-on-emphasis)) !important;
        text-align: center;
        text-decoration: none;
        text-shadow: none;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: break-word;
        white-space: pre;
        background: var(--bgColor-emphasis, var(--color-neutral-emphasis-plus)) !important;
        border-radius: var(--borderRadius-medium);
        border: 0 !important;
        opacity: 0;
        max-width: var(--overlay-width-small);
        word-wrap: break-word;
        white-space: normal;
        width: max-content !important;
        inset: var(--tooltip-top) auto auto var(--tooltip-left) !important;
        overflow: visible !important;
        text-wrap: balance;
      }

      :host(:is(.tooltip-n, .tooltip-nw, .tooltip-ne)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) - var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(:is(.tooltip-s, .tooltip-sw, .tooltip-se)) {
        --tooltip-top: calc(var(--tool-tip-position-top, 0) + var(--overlay-offset, 0.25rem));
        --tooltip-left: var(--tool-tip-position-left);
      }

      :host(.tooltip-w) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) - var(--overlay-offset, 0.25rem));
      }

      :host(.tooltip-e) {
        --tooltip-top: var(--tool-tip-position-top);
        --tooltip-left: calc(var(--tool-tip-position-left, 0) + var(--overlay-offset, 0.25rem));
      }

      :host:after{
        position: absolute;
        display: block;
        right: 0;
        left: 0;
        height: var(--overlay-offset, 0.25rem);
        content: "";
      }

      :host(.tooltip-s):after,
      :host(.tooltip-se):after,
      :host(.tooltip-sw):after {
        bottom: 100%
      }

      :host(.tooltip-n):after,
      :host(.tooltip-ne):after,
      :host(.tooltip-nw):after {
        top: 100%;
      }

      @keyframes tooltip-appear {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      :host(:popover-open),
      :host(:popover-open):before {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      :host(.\:popover-open) {
        animation-name: tooltip-appear;
        animation-duration: .1s;
        animation-fill-mode: forwards;
        animation-timing-function: ease-in;
      }

      @media (forced-colors: active) {
        :host {
          outline: solid 1px transparent;
        }

        :host:before {
          display: none;
        }
      }
    </style><slot></slot></template>Search-related issues that do not fall into other categories</tool-tip>
  
<a id="label-ce5c39" href="https://github.com/elastic/elasticsearch/labels/v5.0.0-alpha1" data-name="v5.0.0-alpha1" style="--label-r:221;--label-g:221;--label-b:221;--label-h:0;--label-s:0;--label-l:86;" data-view-component="true" class="IssueLabel hx_IssueLabel width-fit mb-1 mr-1">
    <span class="css-truncate css-truncate-target width-fit">v5.0.0-alpha1</span>
</a>

</div>

</div>


      

  <div class="discussion-sidebar-item js-discussion-sidebar-item">
    <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select projects" data-turbo="false" action="https://github.com/elastic/elasticsearch/projects/issues/13788" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="hTxi9FixsqF-gHxzL-alIFnpiHA7sahMzB4InoXxGHIZcrXVgUOuX5QpvmXD9yJcxuSAL6f4Fb65db46YopQ5g">
        <div class="discussion-sidebar-heading text-bold">
    Projects
  </div>

        <div aria-live="polite">
</div>
<span class="css-truncate sidebar-progress-bar">
    None yet

</span>

</form>  </div>


      <div class="discussion-sidebar-item sidebar-progress-bar js-discussion-sidebar-item">
  <!-- '"` --><!-- </textarea></xmp> --><form class="js-issue-sidebar-form" aria-label="Select milestones" data-turbo="false" action="https://github.com/elastic/elasticsearch/issues/13788/set_milestone?partial=issues%2Fsidebar%2Fshow%2Fmilestone" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="m6sZRUFFj8wMGmcerviwTIY-fWJMWbjU7sc4Et3z0wP9RzHX7lYSjvAuQEdUxaP02KFOswW5w8CrsozjFRZLEw">
    
  <div class="discussion-sidebar-heading text-bold">
    Milestone
  </div>

      No milestone

</form></div>


    
      <create-branch data-default-repo="elastic/elasticsearch" data-selected-nwo="elastic/elasticsearch" data-default-source-branch="main" data-sidebar-url="/elastic/elasticsearch/issues/closing_references/partials/sidebar?source_id=108317377&amp;source_type=ISSUE" class="discussion-sidebar-item d-block" data-catalyst="">
          
<div class="js-discussion-sidebar-item" data-target="create-branch.sidebarContainer">
  <div data-issue-and-pr-hovercards-enabled="">
    <development-menu data-catalyst="">
      <!-- '"` --><!-- </textarea></xmp> --><form data-target="create-branch.developmentForm" data-turbo="false" class="js-issue-sidebar-form" aria-label="Link issues" action="https://github.com/elastic/elasticsearch/issues/closing_references?source_id=46006908&amp;source_type=PULL_REQUEST" accept-charset="UTF-8" method="post"><input type="hidden" name="_method" value="put" autocomplete="off"><input type="hidden" name="authenticity_token" value="_smDSzbT5NgHg9WVOGHG_rXEyNRjLewYr_wgwQVOdyhRFs1Gu1H4uOULsq7WwwQA_qyvVxoBIG4EEP_NJryjRw">
        
    <div class="discussion-sidebar-heading text-bold">
    Development
  </div>


          

<p>Successfully merging this pull request may close these issues.</p>

    <p>None yet</p>




</form>    </development-menu>
  </div>
</div>

        
      </create-branch>

      <div class="discussion-sidebar-item sidebar-notifications">
        <div class="thread-subscription-status js-socket-channel js-updatable-content" data-replace-remote-form-target="" data-channel="eyJjIjoibGlzdC1zdWJzY3JpcHRpb246cmVwb3NpdG9yeTo1MDc3NzU6MzU2OTMzOTEiLCJ0IjoxNzIyNDI2MDM1fQ==--b19a8aa55a73953e727cb7a1d275ad6ed80dc8a7821d51b994828bd71e9f7467 eyJjIjoidGhyZWFkLXN1YnNjcmlwdGlvbjoxMDgzMTczNzc6MzU2OTMzOTEiLCJ0IjoxNzIyNDI2MDM1fQ==--10ef7cd496f5bc4898419763ab3f8929a229bc86cc35064d53107c3972d0b96f" data-url="/notifications/thread_subscription?repository_id=507775&amp;thread_class=Issue&amp;thread_id=108317377">
      <div>
  <div class="d-flex position-relative">
    <button data-show-dialog-id="configure_thread_subscription" type="button" class="discussion-sidebar-heading discussion-sidebar-toggle">
      <div class="d-flex flex-justify-between">
        <div class="text-bold">Notifications</div>
        <span class="text-normal">Customize</span>
      </div>
    </button>
    
<dialog-helper>
  <dialog id="configure_thread_subscription" aria-modal="true" aria-labelledby="configure_thread_subscription-title" aria-describedby="configure_thread_subscription-description" data-view-component="true" class="Overlay Overlay-whenNarrow Overlay--size-medium-portrait Overlay--motion-scaleFade color-fg-default">
    <div data-view-component="true" class="Overlay-header Overlay-header--divided">
  <div class="Overlay-headerContentWrap">
    <div class="Overlay-titleWrap">
      <h1 class="Overlay-title " id="configure_thread_subscription-title">
        Notification settings
      </h1>
        
    </div>
    <div class="Overlay-actionWrap">
      <button data-close-dialog-id="configure_thread_subscription" aria-label="Close" type="button" data-view-component="true" class="close-button Overlay-closeButton"><svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg></button>
    </div>
  </div>
  
</div>
      <scrollable-region data-labelled-by="configure_thread_subscription-title" data-catalyst="" style="overflow: auto;">
        <div data-view-component="true" class="Overlay-body p-0">        <include-fragment loading="lazy" src="/notifications/thread_subscription_dialog?repository_id=507775&amp;thread_class=Issue&amp;thread_id=108317377"><template shadowrootmode="open"><style>:host {display: block;}</style><slot></slot></template>
          <div class="d-flex flex-items-center flex-justify-center" style="min-height: 315px;" data-show-on-error="" hidden="">
            <h2 class="f5">Sorry, something went wrong.</h2>
          </div>
          <div class="d-flex flex-items-center flex-justify-center" style="min-height: 315px;" data-hide-on-error="">
            <svg role="img" aria-label="Loading" style="box-sizing: content-box; color: var(--color-icon-primary);" width="32" height="32" viewBox="0 0 16 16" fill="none" data-view-component="true" class="anim-rotate">
  <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
  <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>
          </div>
        </include-fragment>
</div>
      </scrollable-region>
      
</dialog></dialog-helper>
  </div>
</div>

      <!-- '"` --><!-- </textarea></xmp> --><form data-replace-remote-form="true" class="thread-subscribe-form" data-turbo="false" action="https://github.com/notifications/thread" accept-charset="UTF-8" method="post"><input type="hidden" name="authenticity_token" value="0It_s7v-bFhp0DMjTd3Q6fMEdcDlD0QsCyHhV0LZYA1XlelZuQakdy1_Y0iDivl7dAhsNpLsjC_FnUwMXJ48kA" autocomplete="off">        <input type="hidden" name="repository_id" value="507775">
        <input type="hidden" name="thread_id" value="108317377">
        <input type="hidden" name="thread_class" value="Issue">
        <input type="hidden" name="id" value="subscribe">
        <button data-thread-subscribe-button="" data-disable-with="" aria-describedby="notification-subscribe-button-reason" type="submit" data-view-component="true" class="Button--secondary Button--small Button Button--fullWidth">  <span class="Button-content">
      <span class="Button-visual Button-leadingVisual">
        <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-bell">
    <path d="M8 16a2 2 0 0 0 1.985-1.75c.017-.137-.097-.25-.235-.25h-3.5c-.138 0-.252.113-.235.25A2 2 0 0 0 8 16ZM3 5a5 5 0 0 1 10 0v2.947c0 .05.015.098.042.139l1.703 2.555A1.519 1.519 0 0 1 13.482 13H2.518a1.516 1.516 0 0 1-1.263-2.36l1.703-2.554A.255.255 0 0 0 3 7.947Zm5-3.5A3.5 3.5 0 0 0 4.5 5v2.947c0 .346-.102.683-.294.97l-1.703 2.556a.017.017 0 0 0-.003.01l.001.006c0 .002.002.004.004.006l.006.004.007.001h10.964l.007-.001.006-.004.004-.006.001-.007a.017.017 0 0 0-.003-.01l-1.703-2.554a1.745 1.745 0 0 1-.294-.97V5A3.5 3.5 0 0 0 8 1.5Z"></path>
</svg>
      </span>
    <span class="Button-label">Subscribe</span>
  </span>
</button>
</form>      <p id="notification-subscribe-button-reason" class="reason text-small color-fg-muted" aria-live="polite">
        You’re not receiving notifications from this thread.
      </p>
  </div>


  </div>


  
      <div id="partial-users-participants" class="discussion-sidebar-item">
  <div class="participation">
    <div class="discussion-sidebar-heading text-bold">
      9 participants
    </div>
    <div class="participation-avatars d-flex flex-wrap">
        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/javanna/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/javanna">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/832460(5)" width="26" height="26" alt="@javanna"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/s1monw/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s1monw">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/973334(2)" width="26" height="26" alt="@s1monw"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/dadoonet/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dadoonet">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/274222(1)" width="26" height="26" alt="@dadoonet"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/hakanai/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/hakanai">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43236" width="26" height="26" alt="@hakanai"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/clintongormley/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/clintongormley">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/56599(1)" width="26" height="26" alt="@clintongormley"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/alexksikes/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/alexksikes">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/43475(1)" width="26" height="26" alt="@alexksikes"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/cbuescher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cbuescher">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/10398885(1)" width="26" height="26" alt="@cbuescher"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/colings86/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/colings86">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/236731(1)" width="26" height="26" alt="@colings86"> 
</a>        <a class="participant-avatar" data-hovercard-type="user" data-hovercard-url="/users/nknize/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nknize">
          <img class="avatar avatar-user" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/830187(1)" width="26" height="26" alt="@nknize"> 
</a>    </div>
  </div>
</div>



    

    




    

</div>


</div>
  
</div>    </div>
  </div>
  <div hidden="">
  <span class="js-add-to-batch-enabled">Add this suggestion to a batch that can be applied as a single commit.</span>
  <span class="js-unchanged-suggestion">This suggestion is invalid because no changes were made to the code.</span>
  <span class="js-closed-pull">Suggestions cannot be applied while the pull request is closed.</span>
  <span class="js-viewing-subset-changes">Suggestions cannot be applied while viewing a subset of changes.</span>
  <span class="js-one-suggestion-per-line">Only one suggestion per line can be applied in a batch.</span>
  <span class="js-reenable-add-to-batch">Add this suggestion to a batch that can be applied as a single commit.</span>
  <span class="js-validation-on-left-blob">Applying suggestions on deleted lines is not supported.</span>
  <span class="js-validation-on-right-blob">You must change the existing code in this line in order to create a valid suggestion.</span>
  <span class="js-outdated-comment">Outdated suggestions cannot be applied.</span>
  <span class="js-resolved-thread">This suggestion has been applied or marked resolved.</span>
  <span class="js-pending-review">Suggestions cannot be applied from pending reviews.</span>
  <span class="js-is-multiline">Suggestions cannot be applied on multi-line comments.</span>
  <span class="js-in-merge-queue">Suggestions cannot be applied while the pull request is queued to merge.</span>
  <span class="js-head-oid-not-loaded">Suggestion cannot be applied right now. Please check back later.</span>
  <div class="form-group errored m-0 error js-suggested-changes-inline-validation-template d-flex" style="cursor: default;">
    <span class="js-suggested-changes-inline-error-message position-relative error m-0" style="max-width: inherit;"></span>
  </div>
</div>


    </div>


  </div>

</turbo-frame>


    </main>
  </div>

  </div>

          <footer class="footer pt-8 pb-6 f6 color-fg-muted p-responsive" role="contentinfo">
  <h2 class="sr-only">Footer</h2>

  


  <div class="d-flex flex-justify-center flex-items-center flex-column-reverse flex-lg-row flex-wrap flex-lg-nowrap">
    <div class="d-flex flex-items-center flex-shrink-0 mx-2">
      <a aria-label="Homepage" title="GitHub" class="footer-octicon mr-2" href="https://github.com/">
        <svg aria-hidden="true" height="24" viewBox="0 0 24 24" version="1.1" width="24" data-view-component="true" class="octicon octicon-mark-github">
    <path d="M12.5.75C6.146.75 1 5.896 1 12.25c0 5.089 3.292 9.387 7.863 10.91.575.101.79-.244.79-.546 0-.273-.014-1.178-.014-2.142-2.889.532-3.636-.704-3.866-1.35-.13-.331-.69-1.352-1.18-1.625-.402-.216-.977-.748-.014-.762.906-.014 1.553.834 1.769 1.179 1.035 1.74 2.688 1.25 3.349.948.1-.747.402-1.25.733-1.538-2.559-.287-5.232-1.279-5.232-5.678 0-1.25.445-2.285 1.178-3.09-.115-.288-.517-1.467.115-3.048 0 0 .963-.302 3.163 1.179.92-.259 1.897-.388 2.875-.388.977 0 1.955.13 2.875.388 2.2-1.495 3.162-1.179 3.162-1.179.633 1.581.23 2.76.115 3.048.733.805 1.179 1.825 1.179 3.09 0 4.413-2.688 5.39-5.247 5.678.417.36.776 1.05.776 2.128 0 1.538-.014 2.774-.014 3.162 0 .302.216.662.79.547C20.709 21.637 24 17.324 24 12.25 24 5.896 18.854.75 12.5.75Z"></path>
</svg>
</a>
      <span>
        © 2024 GitHub,&nbsp;Inc.
      </span>
    </div>

    <nav aria-label="Footer">
      <h3 class="sr-only" id="sr-footer-heading">Footer navigation</h3>

      <ul class="list-style-none d-flex flex-justify-center flex-wrap mb-2 mb-lg-0" aria-labelledby="sr-footer-heading">

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to Terms&quot;,&quot;label&quot;:&quot;text:terms&quot;}" href="https://docs.github.com/site-policy/github-terms/github-terms-of-service" data-view-component="true" class="Link--secondary Link">Terms</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to privacy&quot;,&quot;label&quot;:&quot;text:privacy&quot;}" href="https://docs.github.com/site-policy/privacy-policies/github-privacy-statement" data-view-component="true" class="Link--secondary Link">Privacy</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to security&quot;,&quot;label&quot;:&quot;text:security&quot;}" href="https://github.com/security" data-view-component="true" class="Link--secondary Link">Security</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to status&quot;,&quot;label&quot;:&quot;text:status&quot;}" href="https://www.githubstatus.com/" data-view-component="true" class="Link--secondary Link">Status</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to docs&quot;,&quot;label&quot;:&quot;text:docs&quot;}" href="https://docs.github.com/" data-view-component="true" class="Link--secondary Link">Docs</a>
          </li>

          <li class="mx-2">
            <a data-analytics-event="{&quot;category&quot;:&quot;Footer&quot;,&quot;action&quot;:&quot;go to contact&quot;,&quot;label&quot;:&quot;text:contact&quot;}" href="https://support.github.com/?tags=dotcom-footer" data-view-component="true" class="Link--secondary Link">Contact</a>
          </li>

          <li class="mr-3">
  <cookie-consent-link data-catalyst="">
    <button type="button" class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent" data-action="click:cookie-consent-link#showConsentManagement" data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;cookies&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;cookies_link_subfooter_footer&quot;}">
      Manage cookies
    </button>
  </cookie-consent-link>
</li>

<li class="mr-3">
  <cookie-consent-link data-catalyst="">
    <button type="button" class="Link--secondary underline-on-hover border-0 p-0 color-bg-transparent" data-action="click:cookie-consent-link#showConsentManagement" data-analytics-event="{&quot;location&quot;:&quot;footer&quot;,&quot;action&quot;:&quot;dont_share_info&quot;,&quot;context&quot;:&quot;subfooter&quot;,&quot;tag&quot;:&quot;link&quot;,&quot;label&quot;:&quot;dont_share_info_link_subfooter_footer&quot;}">
      Do not share my personal information
    </button>
  </cookie-consent-link>
</li>

      </ul>
    </nav>
  </div>
</footer>




    <ghcc-consent id="ghcc" class="position-fixed bottom-0 left-0" style="z-index: 999999" data-initial-cookie-consent-allowed="" data-cookie-consent-required="true" data-catalyst=""></ghcc-consent>


  <div id="ajax-error-message" class="ajax-error-message flash flash-error" hidden="">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-alert">
    <path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path>
</svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true" class="octicon octicon-x">
    <path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path>
</svg>
    </button>
    You can’t perform that action at this time.
  </div>

    <template id="site-details-dialog"></template>

    <div class="Popover js-hovercard-content position-absolute" style="display: none; outline: none;">
  <div class="Popover-message Popover-message--bottom-left Popover-message--large Box color-shadow-large" style="width:360px;"></div>
</div>

    <template id="snippet-clipboard-copy-button"></template>
<template id="snippet-clipboard-copy-button-unpositioned"></template>


    <style>
      .user-mention[href$="/l-schulte"] {
        color: var(--color-user-mention-fg);
        background-color: var(--bgColor-attention-muted, var(--color-attention-subtle));
        border-radius: 2px;
        margin-left: -2px;
        margin-right: -2px;
        padding: 0 2px;
      }
    </style>


    </div>

    <div id="js-global-screen-reader-notice" class="sr-only mt-n1" aria-live="polite" aria-atomic="true">cbuescher and others added 21 commits 
Merge branch 'master' into feature/query-refactoring …
ff74e94
TermsQueryBuilder: removing guava Longs
c5a7fed
Refactors MultiMatchQueryBuilder and Parser …
a3c68f6
Tests: Fix HighlighterSearchIT#testMultiMatchQueryHighlight, dont use… …
125be0a
Query Refactoring: moving validation to constructors and setters …
887399e
Fix RandomShapeGenerator to retry on JTS Assertion and RandomShapeExc… …
9a67d66
Query Refactoring: moving validation to constructors and setters … 
37b46fb
Merge branch 'master' into feature/query-refactoring …
bab9523
Add QueryShardException to list in ElasticsearchException
c6d254a
Merge branch 'master' into feature/query-refactoring
197313c
Merge branch 'master' into feature/query-refactoring
1228a9f
Merge branch 'master' into feature/query-refactoring
2da1baf
Fix messed up merge
a233498
Remove forbidden API usage
2305cce
Add tests and fixes for primitive numeric ctors on TermsQueryBuilder
37cff7b
Refactors GeoBoundingBoxQueryBuilder/-Parser …
91b97a6
Merge pull request elastic#11969 from MaineC/feature/geo-bounding-box… …
77ffabc
Merge branch 'master' into feature/query-refactoring
cc69de5
Query Refactoring: moving validation to setters and constructors …
03035a2
Tests: fix failing GeoDistanceRangeQueryTest
7d887a1
Merge branch 'master' into feature/query-refactoring …
1aae68d</div>
    <div id="js-global-screen-reader-notice-assertive" class="sr-only mt-n1" aria-live="assertive" aria-atomic="true"></div>
  


<style id="web-highlights-global-style-variables">:root { --wh-slate-50: #f8fafc;--wh-slate-100: #f1f5f9;--wh-slate-200: #e2e8f0;--wh-slate-300: #cbd5e1;--wh-slate-400: #94a3b8;--wh-slate-500: #64748b;--wh-slate-600: #475569;--wh-slate-700: #334155;--wh-slate-800: #1e293b;--wh-slate-900: #0f172a;--wh-slate-950: #020617;--wh-primary-50: rgb(187, 219, 204);--wh-primary-100: rgb(153, 208, 184);--wh-primary-200: rgb(120, 197, 164);--wh-primary-300: rgb(86, 186, 144);--wh-primary-400: rgb(53, 176, 125);--wh-primary-500: hsl(161, 100%, 35%);--wh-primary-600: hsl(161, 100%, 33%);--wh-primary-700: hsl(161, 100%, 31%);--wh-primary-800: hsl(161, 100%, 29%);--wh-primary-900: hsl(161, 100%, 25%);--wh-primary-950: hsl(161, 100%, 20%);--wh-secondary-50: hsl(218, 22%, 30%);--wh-secondary-100: hsl(218, 22%, 27%);--wh-secondary-200: hsl(218, 22%, 25%);--wh-secondary-300: hsl(218, 22%, 22%);--wh-secondary-400: hsl(218, 22%, 20%);--wh-secondary-500: hsl(218, 22%, 18%);--wh-secondary-600: hsl(218, 22%, 16%);--wh-secondary-700: hsl(218, 22%, 14%);--wh-secondary-800: hsl(218, 22%, 12%);--wh-secondary-900: hsl(218, 22%, 8%);--wh-secondary-950: hsl(218, 22%, 6%);--wh-gray-50: #f9fafb;--wh-gray-100: #f3f4f6;--wh-gray-200: #e5e7eb;--wh-gray-300: #d1d5db;--wh-gray-400: #9ca3af;--wh-gray-500: #6b7280;--wh-gray-600: #4b5563;--wh-gray-700: #374151;--wh-gray-800: #1f2937;--wh-gray-900: #111827;--wh-gray-950: #030712;--wh-zinc-50: #fafafa;--wh-zinc-100: #f4f4f5;--wh-zinc-200: #e4e4e7;--wh-zinc-300: #d4d4d8;--wh-zinc-400: #a1a1aa;--wh-zinc-500: #71717a;--wh-zinc-600: #52525b;--wh-zinc-700: #3f3f46;--wh-zinc-800: #27272a;--wh-zinc-900: #18181b;--wh-zinc-950: #09090b;--wh-neutral-50: #fafafa;--wh-neutral-100: #f5f5f5;--wh-neutral-200: #e5e5e5;--wh-neutral-300: #d4d4d4;--wh-neutral-400: #a3a3a3;--wh-neutral-500: #737373;--wh-neutral-600: #525252;--wh-neutral-700: #404040;--wh-neutral-800: #262626;--wh-neutral-900: #171717;--wh-neutral-950: #0a0a0a;--wh-stone-50: #fafaf9;--wh-stone-100: #f5f5f4;--wh-stone-200: #e7e5e4;--wh-stone-300: #d6d3d1;--wh-stone-400: #a8a29e;--wh-stone-500: #78716c;--wh-stone-600: #57534e;--wh-stone-700: #44403c;--wh-stone-800: #292524;--wh-stone-900: #1c1917;--wh-stone-950: #0c0a09;--wh-red-50: #fef2f2;--wh-red-100: #fee2e2;--wh-red-200: #fecaca;--wh-red-300: #fca5a5;--wh-red-400: #f87171;--wh-red-500: #ef4444;--wh-red-600: #dc2626;--wh-red-700: #b91c1c;--wh-red-800: #991b1b;--wh-red-900: #7f1d1d;--wh-red-950: #450a0a;--wh-orange-50: #fff7ed;--wh-orange-100: #ffedd5;--wh-orange-200: #fed7aa;--wh-orange-300: #fdba74;--wh-orange-400: #fb923c;--wh-orange-500: #f97316;--wh-orange-600: #ea580c;--wh-orange-700: #c2410c;--wh-orange-800: #9a3412;--wh-orange-900: #7c2d12;--wh-orange-950: #431407;--wh-amber-50: #fffbeb;--wh-amber-100: #fef3c7;--wh-amber-200: #fde68a;--wh-amber-300: #fcd34d;--wh-amber-400: #fbbf24;--wh-amber-500: #f59e0b;--wh-amber-600: #d97706;--wh-amber-700: #b45309;--wh-amber-800: #92400e;--wh-amber-900: #78350f;--wh-amber-950: #451a03;--wh-yellow-50: #fefce8;--wh-yellow-100: #fef9c3;--wh-yellow-200: #fef08a;--wh-yellow-300: #fde047;--wh-yellow-400: #facc15;--wh-yellow-500: #eab308;--wh-yellow-600: #ca8a04;--wh-yellow-700: #a16207;--wh-yellow-800: #854d0e;--wh-yellow-900: #713f12;--wh-yellow-950: #422006;--wh-lime-50: #f7fee7;--wh-lime-100: #ecfccb;--wh-lime-200: #d9f99d;--wh-lime-300: #bef264;--wh-lime-400: #a3e635;--wh-lime-500: #84cc16;--wh-lime-600: #65a30d;--wh-lime-700: #4d7c0f;--wh-lime-800: #3f6212;--wh-lime-900: #365314;--wh-lime-950: #1a2e05;--wh-green-50: #f0fdf4;--wh-green-100: #dcfce7;--wh-green-200: #bbf7d0;--wh-green-300: #86efac;--wh-green-400: #4ade80;--wh-green-500: #22c55e;--wh-green-600: #16a34a;--wh-green-700: #15803d;--wh-green-800: #166534;--wh-green-900: #14532d;--wh-green-950: #052e16;--wh-emerald-50: #ecfdf5;--wh-emerald-100: #d1fae5;--wh-emerald-200: #a7f3d0;--wh-emerald-300: #6ee7b7;--wh-emerald-400: #34d399;--wh-emerald-500: #10b981;--wh-emerald-600: #059669;--wh-emerald-700: #047857;--wh-emerald-800: #065f46;--wh-emerald-900: #064e3b;--wh-emerald-950: #022c22;--wh-teal-50: #f0fdfa;--wh-teal-100: #ccfbf1;--wh-teal-200: #99f6e4;--wh-teal-300: #5eead4;--wh-teal-400: #2dd4bf;--wh-teal-500: #14b8a6;--wh-teal-600: #0d9488;--wh-teal-700: #0f766e;--wh-teal-800: #115e59;--wh-teal-900: #134e4a;--wh-teal-950: #042f2e;--wh-cyan-50: #ecfeff;--wh-cyan-100: #cffafe;--wh-cyan-200: #a5f3fc;--wh-cyan-300: #67e8f9;--wh-cyan-400: #22d3ee;--wh-cyan-500: #06b6d4;--wh-cyan-600: #0891b2;--wh-cyan-700: #0e7490;--wh-cyan-800: #155e75;--wh-cyan-900: #164e63;--wh-cyan-950: #083344;--wh-sky-50: #f0f9ff;--wh-sky-100: #e0f2fe;--wh-sky-200: #bae6fd;--wh-sky-300: #7dd3fc;--wh-sky-400: #38bdf8;--wh-sky-500: #0ea5e9;--wh-sky-600: #0284c7;--wh-sky-700: #0369a1;--wh-sky-800: #075985;--wh-sky-900: #0c4a6e;--wh-sky-950: #082f49;--wh-blue-50: #eff6ff;--wh-blue-100: #dbeafe;--wh-blue-200: #bfdbfe;--wh-blue-300: #93c5fd;--wh-blue-400: #60a5fa;--wh-blue-500: #3b82f6;--wh-blue-600: #2563eb;--wh-blue-700: #1d4ed8;--wh-blue-800: #1e40af;--wh-blue-900: #1e3a8a;--wh-blue-950: #172554;--wh-indigo-50: #eef2ff;--wh-indigo-100: #e0e7ff;--wh-indigo-200: #c7d2fe;--wh-indigo-300: #a5b4fc;--wh-indigo-400: #818cf8;--wh-indigo-500: #6366f1;--wh-indigo-600: #4f46e5;--wh-indigo-700: #4338ca;--wh-indigo-800: #3730a3;--wh-indigo-900: #312e81;--wh-indigo-950: #1e1b4b;--wh-violet-50: #f5f3ff;--wh-violet-100: #ede9fe;--wh-violet-200: #ddd6fe;--wh-violet-300: #c4b5fd;--wh-violet-400: #a78bfa;--wh-violet-500: #8b5cf6;--wh-violet-600: #7c3aed;--wh-violet-700: #6d28d9;--wh-violet-800: #5b21b6;--wh-violet-900: #4c1d95;--wh-violet-950: #2e1065;--wh-purple-50: #faf5ff;--wh-purple-100: #f3e8ff;--wh-purple-200: #e9d5ff;--wh-purple-300: #d8b4fe;--wh-purple-400: #c084fc;--wh-purple-500: #a855f7;--wh-purple-600: #9333ea;--wh-purple-700: #7e22ce;--wh-purple-800: #6b21a8;--wh-purple-900: #581c87;--wh-purple-950: #3b0764;--wh-fuchsia-50: #fdf4ff;--wh-fuchsia-100: #fae8ff;--wh-fuchsia-200: #f5d0fe;--wh-fuchsia-300: #f0abfc;--wh-fuchsia-400: #e879f9;--wh-fuchsia-500: #d946ef;--wh-fuchsia-600: #c026d3;--wh-fuchsia-700: #a21caf;--wh-fuchsia-800: #86198f;--wh-fuchsia-900: #701a75;--wh-fuchsia-950: #4a044e;--wh-pink-50: #fdf2f8;--wh-pink-100: #fce7f3;--wh-pink-200: #fbcfe8;--wh-pink-300: #f9a8d4;--wh-pink-400: #f472b6;--wh-pink-500: #ec4899;--wh-pink-600: #db2777;--wh-pink-700: #be185d;--wh-pink-800: #9d174d;--wh-pink-900: #831843;--wh-pink-950: #500724;--wh-rose-50: #fff1f2;--wh-rose-100: #ffe4e6;--wh-rose-200: #fecdd3;--wh-rose-300: #fda4af;--wh-rose-400: #fb7185;--wh-rose-500: #f43f5e;--wh-rose-600: #e11d48;--wh-rose-700: #be123c;--wh-rose-800: #9f1239;--wh-rose-900: #881337;--wh-rose-950: #4c0519;--wh-primary-color: var(--wh-primary-500);--wh-primary-color-hover: #00a16e;--wh-primary-color-transparent: #00aa7424;--wh-primary-color-transparent-light: #00a8730f;--wh-primary-light: #53e3a6;--wh-primary-dark: #007f4b;--wh-primary-dark-hover: #017444;--wh-primary-shadow: #00b07841;--wh-primary-shadow-2: #00b07870;--wh-primary-border-color: #c8c8c870;--secondary-color: #3d4455;--secondary-color-hover: #3a4052;--secondary-color-transparent: #3d44556b;--secondary-light: #4c556d;--secondary-dark: #252934;--secondary-dark-hover: #191b22;--secondary-dark-transparent: #2e2d2d46;--highlight-color: #92ffaa;--error-color: #d62d4c;--error-color-light: #fde8e8;--warning-color: #ff5a1f;--warning-color-light: #feecdc;--error-info: #14854e;--success-color: #0e9f6e;--success-color-light: #def7ec;--font-color: #2f3237;--font-color-light: #626364;--font-color-dark: #252525;--wh-font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont,
  'Open Sans', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
  'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;--font-family: var(--wh-font-family);--font-size: 12px;--webhighlights-font-size: 12px;--link-color: #1d9bf0;--wh-form-active-color: #3b82f6;--wh-accent-blue: #1f6feb;--wh-mobile-breakpoint: 767px;--BREAKPOINT_XS: 575px;--BREAKPOINT_S: 767px;--BREAKPOINT_M: 991px;--BREAKPOINT_L: 1199px;--BREAKPOINT_XL: 1399px;--BREAKPOINT_XXL: 1699px;--wh-danger-color: var(--wh-red-600);--wh-danger-color-hover: var(--wh-red-700);--wh-font-size: 13px;--wh-blockquote-line-height: 1.3;--wh-bg-base: var(--wh-secondary-600);--wh-bg-base-hover: var(--wh-secondary-500);--wh-border-base: var(--wh-secondary-200);--wh-border-base-hover: var(--wh-secondary-100);--wh-border-base-strong: var(--wh-secondary-100);--wh-border-base-strong-hover: var(--wh-secondary-50);--wh-bg-base-hover-strong: var(--wh-secondary-300);--wh-bg-back: var(--wh-secondary-700);--wh-bg-back-strong: var(--wh-secondary-800);--wh-bg-back-strong-hover: var(--wh-secondary-900);--wh-bg-back-hover: var(--wh-secondary-600);--wh-bg-back-hover-strong: var(--wh-secondary-800);--wh-border-back: var(--wh-secondary-100);--wh-border-back-strong: var(--wh-secondary-50);--wh-bg-front: var(--wh-secondary-400);--wh-bg-front-strong: var(--wh-secondary-200);--wh-bg-front-strong-hover: var(--wh-secondary-100);--wh-bg-front-hover: var(--wh-secondary-300);--wh-bg-front-hover-strong: var(--wh-secondary-200);--wh-border-front: hsl(227, 20%, 25%);--wh-border-front-strong: hsl(227, 20%, 35%);--wh-text-stronger: hsla(0, 0%, 100%, 0.95);--wh-text-strongest: hsla(0, 0%, 100%, 1);--wh-text-strong: rgba(255, 255, 255, 0.9);--wh-text: rgba(255, 255, 255, 0.85);--wh-text-hover: var(--wh-text-strong);--wh-text-light: rgba(255, 255, 255, 0.73);--wh-text-lighter: rgba(255, 255, 255, 0.63);--wh-text-lightest: rgba(255, 255, 255, 0.5);--wh-border-color: hsla(0, 0%, 100%, 0.15);--wh-border-color-strong: hsla(0, 0%, 100%, 0.25);--wh-note-editor-bg-color: hsl(221, 27%, 20%);--wh-note-editor-bg-color-preview: hsl(221, 27%, 18%);--wh-bg-tags: var(--wh-secondary-300);--wh-bg-tags-hover: var(--wh-secondary-200);--wh-syntax-bg-color: rgba(255, 255, 255, 0.05);--wh-fallback-img-color: var(--wh-secondary-600);--wh-bg-disabled: hsl(220, 22%, 18%);--wh-bg-notification-unread: hsla(161, 100%, 20%, 0.15);--wh-bg-notification-unread-hover: hsla(161, 100%, 20%, 0.05);--wh-subtle-gray: rgb(255, 255, 255, 0.1);--wh-shadow: inset 0 0 0.5px 1px hsla(0, 0%, 100%, 0.1),
      /* 2. shadow ring 👇 */ 0 0 0 1px hsla(230, 13%, 9%, 0.075),
      /* 3. multiple soft shadows 👇 */ 0 0.3px 0.4px hsla(230, 13%, 9%, 0.02),
      0 0.9px 1.5px hsla(230, 13%, 9%, 0.045),
      0 3.5px 6px hsla(230, 13%, 9%, 0.09);--wh-shadow-primary: var(--wh-primary-500) 0px 0px 0px 1px inset,
      var(--wh-primary-500) 0px 0px 1px; }</style><div id="webhighlights-notifications"></div><iframe id="CCA42mxm" frameborder="0" src="./Query refactoring_ split parse phase into fromXContent and toQuery for all queries by javanna · Pull Request #13788 · elastic_elasticsearch_files/translateSandbox.html" style="width: 0px; height: 0px; display: none;"></iframe><webhighlights-extension></webhighlights-extension><style id="web-highlights-global-styles">
  webhighlights-sidebar {
    --webhighlights-font-size: 13.5px;
  }

  body.web-highlights-animate {
    transition: all 300ms linear;
    transition-property: margin-left, margin-right;
  }

  body.web-highlights-open {
    margin-left: 400px !important;
  }
</style><webhighlights-sidebar alignment="left" sidebar-width="400"><template shadowrootmode="open"><!---->
      <!--?lit$127148332$-->
            <main-component part="main-component" data-testid="webhighlights-sidebar-MAIN_COMPONENT" style="left: 0px; right: unset;"><template shadowrootmode="open"><!---->
      <webhighlights-popover data-testid="main-component-POPOVER"><template shadowrootmode="open"><!----><!--?--></template>
        <!--?lit$127148332$--><!--?-->
      </webhighlights-popover>

      <!-- Button to toggle side-bar. It hides when animation is active -->
      <!--?lit$127148332$--><!--?-->
      <!--?lit$127148332$-->
    </template></main-component>
          
      <!--?lit$127148332$--><!--?-->
    </template></webhighlights-sidebar><webhighlights-popup-toolbox><template shadowrootmode="open"><!---->
      <!--?lit$127148332$-->
    </template></webhighlights-popup-toolbox><webhighlights-notification><template shadowrootmode="open"><!---->
      <div class="notification-wrapper slide-right ">
        <!--?lit$127148332$--><!--?-->
      </div>
    </template></webhighlights-notification><webhighlights-marker><template shadowrootmode="open"><!---->
      <!--?lit$127148332$-->
            <webhighlights-popup-toolbox data-testid="webhighlights-marker-POPUP_TOOLBOX"><template shadowrootmode="open"><!---->
      <!--?lit$127148332$-->
    </template></webhighlights-popup-toolbox>
          
    </template></webhighlights-marker><style id="webHighlightsGlobalStyling">
        web-highlight.webhighlights-highlight {
          border-radius: 2px;
          background-color: #92ffaa;
          cursor: pointer;
          visibility: visible !important;
        }

        web-highlight.webhighlights-highlight.webhighlight-with-tags,
        web-highlight.webhighlights-highlight.webhighlight-with-notes {
          border-bottom: 2.8px solid gray;
          border-radius: 0px;
        }

        web-highlight > *:not(webhighlights-popup-toolbox) {
          background-color: #92ffaa;
        }

        webhighlights-popup-toolbox.contains-highlight {
          transform: translate(-63px, -10px);
          position: fixed;
        }
        </style></body></html>